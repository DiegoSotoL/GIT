!function webpackUniversalModuleDefinition(t,e){"object"==typeof exports&&"object"==typeof module?module.exports=e():"function"==typeof define&&define.amd?define([],e):"object"==typeof exports?exports.da=e():t.da=e()}(window,function(){return c=[function(t,e,r){"use strict";var n=r(36);t.exports=Function.prototype.bind||n},function(t,e){var r=function(){return this}();try{r=r||new Function("return this")()}catch(t){"object"==typeof window&&(r=window)}t.exports=r},function(t,e,r){"use strict";function M(t,e,r,n){var o;e in t&&("function"!=typeof(o=n)||"[object Function]"!==s.call(o)||!n())||(u?l(t,e,{configurable:!0,enumerable:!1,value:r,writable:!0}):t[e]=r)}function N(t,e){var r=2<arguments.length?arguments[2]:{},n=a(e);i&&(n=c.call(n,Object.getOwnPropertySymbols(e)));for(var o=0;o<n.length;o+=1)M(t,n[o],e[n[o]],r[n[o]])}var a=r(12),i="function"==typeof Symbol&&"symbol"==typeof Symbol("foo"),s=Object.prototype.toString,c=Array.prototype.concat,l=Object.defineProperty,u=l&&function(){var t={};try{for(var e in l(t,"x",{enumerable:!1,value:t}),t)return!1;return t.x===t}catch(t){return!1}}();N.supportsDescriptors=!!u,t.exports=N},function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"c",function(){return serialize}),__webpack_require__.d(__webpack_exports__,"a",function(){return deserialize}),__webpack_require__.d(__webpack_exports__,"b",function(){return loadSerialization});var deep_equal__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(29),deep_equal__WEBPACK_IMPORTED_MODULE_0___default=__webpack_require__.n(deep_equal__WEBPACK_IMPORTED_MODULE_0__);function _typeof(t){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function _typeof(t){return typeof t}:function _typeof(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function serialize(t){return JSON.stringify(t)}function deserialize(text){return JSON.parse(text,function(key,val){var value=val,$ReviveData$,value;return Array.isArray(value)&&2===value.length&&"(revive:eval)"===value[0]&&($ReviveData$=value[1][1],value=eval(value[1][0])),value})}function cloneObjWithout(r,n){var o=Object.create(Object.getPrototypeOf(r));return Object.keys(r).forEach(function(t){var e;n.includes(t)||(e=r[t],o[t]=null===e||"object"!==_typeof(e)||Array.isArray(e)?e:cloneObjWithout(e,n))}),o}JSON.reviveWrapper||Object.defineProperty(JSON,"reviveWrapper",{configurable:!0,writable:!0,value:function value(t,e){if("string"!=typeof t)throw new TypeError("JSON.reviveWrapper code parameter must be a string");return["(revive:eval)",[t,e]]}});var serializationKeysExclude=["_owner","shadingParts","clothingParts"];function extendSerializability(globalClassIdentifier){var classConstructor=eval(globalClassIdentifier);Object.defineProperties(classConstructor.prototype,{_getData:{value:function value(){var e=cloneObjWithout(new classConstructor,serializationKeysExclude),r=cloneObjWithout(this,serializationKeysExclude),n={};return Object.keys(r).forEach(function(t){e.hasOwnProperty(t)&&deep_equal__WEBPACK_IMPORTED_MODULE_0___default()(e[t],r[t])||(n[t]=r[t])}),n}},clone:{value:function value(){return new classConstructor(this._getData())}},toJSON:{value:function value(){return JSON.reviveWrapper("(new "+globalClassIdentifier+"($ReviveData$))",this._getData())}}})}function loadSerialization(){var t=[],e=window.da;for(var r in e){!1!==e.hasOwnProperty(r)&&"function"==typeof e[r]&&1<r.length&&r.charAt(0)===r.charAt(0).toUpperCase()&&t.push(r)}t.forEach(function(t){extendSerializability("da."+t)})}},function(t,e,r){"use strict";var n,i=TypeError,s=Object.getOwnPropertyDescriptor;if(s)try{s({},"")}catch(t){s=null}function za(){throw new i}var o=s?function(){try{return za}catch(t){try{return s(arguments,"callee").get}catch(t){return za}}}():za,a=r(57)(),c=Object.getPrototypeOf||function(t){return t.__proto__},l=n,u=n,p=n,f=n,y="undefined"==typeof Uint8Array?n:c(Uint8Array),h={"%Array%":Array,"%ArrayBuffer%":"undefined"==typeof ArrayBuffer?n:ArrayBuffer,"%ArrayBufferPrototype%":"undefined"==typeof ArrayBuffer?n:ArrayBuffer.prototype,"%ArrayIteratorPrototype%":a?c([][Symbol.iterator]()):n,"%ArrayPrototype%":Array.prototype,"%ArrayProto_entries%":Array.prototype.entries,"%ArrayProto_forEach%":Array.prototype.forEach,"%ArrayProto_keys%":Array.prototype.keys,"%ArrayProto_values%":Array.prototype.values,"%AsyncFromSyncIteratorPrototype%":n,"%AsyncFunction%":u,"%AsyncFunctionPrototype%":n,"%AsyncGenerator%":n,"%AsyncGeneratorFunction%":p,"%AsyncGeneratorPrototype%":n,"%AsyncIteratorPrototype%":f&&a&&Symbol.asyncIterator?f[Symbol.asyncIterator]():n,"%Atomics%":"undefined"==typeof Atomics?n:Atomics,"%Boolean%":Boolean,"%BooleanPrototype%":Boolean.prototype,"%DataView%":"undefined"==typeof DataView?n:DataView,"%DataViewPrototype%":"undefined"==typeof DataView?n:DataView.prototype,"%Date%":Date,"%DatePrototype%":Date.prototype,"%decodeURI%":decodeURI,"%decodeURIComponent%":decodeURIComponent,"%encodeURI%":encodeURI,"%encodeURIComponent%":encodeURIComponent,"%Error%":Error,"%ErrorPrototype%":Error.prototype,"%eval%":eval,"%EvalError%":EvalError,"%EvalErrorPrototype%":EvalError.prototype,"%Float32Array%":"undefined"==typeof Float32Array?n:Float32Array,"%Float32ArrayPrototype%":"undefined"==typeof Float32Array?n:Float32Array.prototype,"%Float64Array%":"undefined"==typeof Float64Array?n:Float64Array,"%Float64ArrayPrototype%":"undefined"==typeof Float64Array?n:Float64Array.prototype,"%Function%":Function,"%FunctionPrototype%":Function.prototype,"%Generator%":n,"%GeneratorFunction%":l,"%GeneratorPrototype%":n,"%Int8Array%":"undefined"==typeof Int8Array?n:Int8Array,"%Int8ArrayPrototype%":"undefined"==typeof Int8Array?n:Int8Array.prototype,"%Int16Array%":"undefined"==typeof Int16Array?n:Int16Array,"%Int16ArrayPrototype%":"undefined"==typeof Int16Array?n:Int8Array.prototype,"%Int32Array%":"undefined"==typeof Int32Array?n:Int32Array,"%Int32ArrayPrototype%":"undefined"==typeof Int32Array?n:Int32Array.prototype,"%isFinite%":isFinite,"%isNaN%":isNaN,"%IteratorPrototype%":a?c(c([][Symbol.iterator]())):n,"%JSON%":"object"==typeof JSON?JSON:n,"%JSONParse%":"object"==typeof JSON?JSON.parse:n,"%Map%":"undefined"==typeof Map?n:Map,"%MapIteratorPrototype%":"undefined"!=typeof Map&&a?c((new Map)[Symbol.iterator]()):n,"%MapPrototype%":"undefined"==typeof Map?n:Map.prototype,"%Math%":Math,"%Number%":Number,"%NumberPrototype%":Number.prototype,"%Object%":Object,"%ObjectPrototype%":Object.prototype,"%ObjProto_toString%":Object.prototype.toString,"%ObjProto_valueOf%":Object.prototype.valueOf,"%parseFloat%":parseFloat,"%parseInt%":parseInt,"%Promise%":"undefined"==typeof Promise?n:Promise,"%PromisePrototype%":"undefined"==typeof Promise?n:Promise.prototype,"%PromiseProto_then%":"undefined"==typeof Promise?n:Promise.prototype.then,"%Promise_all%":"undefined"==typeof Promise?n:Promise.all,"%Promise_reject%":"undefined"==typeof Promise?n:Promise.reject,"%Promise_resolve%":"undefined"==typeof Promise?n:Promise.resolve,"%Proxy%":"undefined"==typeof Proxy?n:Proxy,"%RangeError%":RangeError,"%RangeErrorPrototype%":RangeError.prototype,"%ReferenceError%":ReferenceError,"%ReferenceErrorPrototype%":ReferenceError.prototype,"%Reflect%":"undefined"==typeof Reflect?n:Reflect,"%RegExp%":RegExp,"%RegExpPrototype%":RegExp.prototype,"%Set%":"undefined"==typeof Set?n:Set,"%SetIteratorPrototype%":"undefined"!=typeof Set&&a?c((new Set)[Symbol.iterator]()):n,"%SetPrototype%":"undefined"==typeof Set?n:Set.prototype,"%SharedArrayBuffer%":"undefined"==typeof SharedArrayBuffer?n:SharedArrayBuffer,"%SharedArrayBufferPrototype%":"undefined"==typeof SharedArrayBuffer?n:SharedArrayBuffer.prototype,"%String%":String,"%StringIteratorPrototype%":a?c(""[Symbol.iterator]()):n,"%StringPrototype%":String.prototype,"%Symbol%":a?Symbol:n,"%SymbolPrototype%":a?Symbol.prototype:n,"%SyntaxError%":SyntaxError,"%SyntaxErrorPrototype%":SyntaxError.prototype,"%ThrowTypeError%":o,"%TypedArray%":y,"%TypedArrayPrototype%":y?y.prototype:n,"%TypeError%":i,"%TypeErrorPrototype%":i.prototype,"%Uint8Array%":"undefined"==typeof Uint8Array?n:Uint8Array,"%Uint8ArrayPrototype%":"undefined"==typeof Uint8Array?n:Uint8Array.prototype,"%Uint8ClampedArray%":"undefined"==typeof Uint8ClampedArray?n:Uint8ClampedArray,"%Uint8ClampedArrayPrototype%":"undefined"==typeof Uint8ClampedArray?n:Uint8ClampedArray.prototype,"%Uint16Array%":"undefined"==typeof Uint16Array?n:Uint16Array,"%Uint16ArrayPrototype%":"undefined"==typeof Uint16Array?n:Uint16Array.prototype,"%Uint32Array%":"undefined"==typeof Uint32Array?n:Uint32Array,"%Uint32ArrayPrototype%":"undefined"==typeof Uint32Array?n:Uint32Array.prototype,"%URIError%":URIError,"%URIErrorPrototype%":URIError.prototype,"%WeakMap%":"undefined"==typeof WeakMap?n:WeakMap,"%WeakMapPrototype%":"undefined"==typeof WeakMap?n:WeakMap.prototype,"%WeakSet%":"undefined"==typeof WeakSet?n:WeakSet,"%WeakSetPrototype%":"undefined"==typeof WeakSet?n:WeakSet.prototype},d=r(0).call(Function.call,String.prototype.replace),g=/[^%.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|%$))/g,P=/\\(\\)?/g;t.exports=function GetIntrinsic(t,e){if("string"!=typeof t||0===t.length)throw new TypeError("intrinsic name must be a non-empty string");if(1<arguments.length&&"boolean"!=typeof e)throw new TypeError('"allowMissing" argument must be a boolean');for(var r=function stringToPath(t){var o=[];return d(t,g,function(t,e,r,n){o[o.length]=r?d(n,P,"$1"):e||t}),o}(t),n=function getBaseIntrinsic(t,e){if(!(t in h))throw new SyntaxError("intrinsic "+t+" does not exist!");if(void 0===h[t]&&!e)throw new i("intrinsic "+t+" exists, but is not available. Please file an issue!");return h[t]}("%"+(0<r.length?r[0]:"")+"%",e),o=1;o<r.length;o+=1)if(null!=n)if(s&&o+1>=r.length){var a=s(n,r[o]);if(!(e||r[o]in n))throw new i("base intrinsic for "+t+" exists, but the property is not available.");n=a?a.get||a.value:n[r[o]]}else n=n[r[o]];return n}},function(t,e,r){"use strict";var n,i=TypeError,s=Object.getOwnPropertyDescriptor;if(s)try{s({},"")}catch(t){s=null}function ob(){throw new i}var o=s?function(){try{return ob}catch(t){try{return s(arguments,"callee").get}catch(t){return ob}}}():ob,a=r(21)(),c=Object.getPrototypeOf||function(t){return t.__proto__},l=n,u=n,p=n,f=n,y="undefined"==typeof Uint8Array?n:c(Uint8Array),h={"%Array%":Array,"%ArrayBuffer%":"undefined"==typeof ArrayBuffer?n:ArrayBuffer,"%ArrayBufferPrototype%":"undefined"==typeof ArrayBuffer?n:ArrayBuffer.prototype,"%ArrayIteratorPrototype%":a?c([][Symbol.iterator]()):n,"%ArrayPrototype%":Array.prototype,"%ArrayProto_entries%":Array.prototype.entries,"%ArrayProto_forEach%":Array.prototype.forEach,"%ArrayProto_keys%":Array.prototype.keys,"%ArrayProto_values%":Array.prototype.values,"%AsyncFromSyncIteratorPrototype%":n,"%AsyncFunction%":u,"%AsyncFunctionPrototype%":n,"%AsyncGenerator%":n,"%AsyncGeneratorFunction%":p,"%AsyncGeneratorPrototype%":n,"%AsyncIteratorPrototype%":f&&a&&Symbol.asyncIterator?f[Symbol.asyncIterator]():n,"%Atomics%":"undefined"==typeof Atomics?n:Atomics,"%Boolean%":Boolean,"%BooleanPrototype%":Boolean.prototype,"%DataView%":"undefined"==typeof DataView?n:DataView,"%DataViewPrototype%":"undefined"==typeof DataView?n:DataView.prototype,"%Date%":Date,"%DatePrototype%":Date.prototype,"%decodeURI%":decodeURI,"%decodeURIComponent%":decodeURIComponent,"%encodeURI%":encodeURI,"%encodeURIComponent%":encodeURIComponent,"%Error%":Error,"%ErrorPrototype%":Error.prototype,"%eval%":eval,"%EvalError%":EvalError,"%EvalErrorPrototype%":EvalError.prototype,"%Float32Array%":"undefined"==typeof Float32Array?n:Float32Array,"%Float32ArrayPrototype%":"undefined"==typeof Float32Array?n:Float32Array.prototype,"%Float64Array%":"undefined"==typeof Float64Array?n:Float64Array,"%Float64ArrayPrototype%":"undefined"==typeof Float64Array?n:Float64Array.prototype,"%Function%":Function,"%FunctionPrototype%":Function.prototype,"%Generator%":n,"%GeneratorFunction%":l,"%GeneratorPrototype%":n,"%Int8Array%":"undefined"==typeof Int8Array?n:Int8Array,"%Int8ArrayPrototype%":"undefined"==typeof Int8Array?n:Int8Array.prototype,"%Int16Array%":"undefined"==typeof Int16Array?n:Int16Array,"%Int16ArrayPrototype%":"undefined"==typeof Int16Array?n:Int8Array.prototype,"%Int32Array%":"undefined"==typeof Int32Array?n:Int32Array,"%Int32ArrayPrototype%":"undefined"==typeof Int32Array?n:Int32Array.prototype,"%isFinite%":isFinite,"%isNaN%":isNaN,"%IteratorPrototype%":a?c(c([][Symbol.iterator]())):n,"%JSON%":"object"==typeof JSON?JSON:n,"%JSONParse%":"object"==typeof JSON?JSON.parse:n,"%Map%":"undefined"==typeof Map?n:Map,"%MapIteratorPrototype%":"undefined"!=typeof Map&&a?c((new Map)[Symbol.iterator]()):n,"%MapPrototype%":"undefined"==typeof Map?n:Map.prototype,"%Math%":Math,"%Number%":Number,"%NumberPrototype%":Number.prototype,"%Object%":Object,"%ObjectPrototype%":Object.prototype,"%ObjProto_toString%":Object.prototype.toString,"%ObjProto_valueOf%":Object.prototype.valueOf,"%parseFloat%":parseFloat,"%parseInt%":parseInt,"%Promise%":"undefined"==typeof Promise?n:Promise,"%PromisePrototype%":"undefined"==typeof Promise?n:Promise.prototype,"%PromiseProto_then%":"undefined"==typeof Promise?n:Promise.prototype.then,"%Promise_all%":"undefined"==typeof Promise?n:Promise.all,"%Promise_reject%":"undefined"==typeof Promise?n:Promise.reject,"%Promise_resolve%":"undefined"==typeof Promise?n:Promise.resolve,"%Proxy%":"undefined"==typeof Proxy?n:Proxy,"%RangeError%":RangeError,"%RangeErrorPrototype%":RangeError.prototype,"%ReferenceError%":ReferenceError,"%ReferenceErrorPrototype%":ReferenceError.prototype,"%Reflect%":"undefined"==typeof Reflect?n:Reflect,"%RegExp%":RegExp,"%RegExpPrototype%":RegExp.prototype,"%Set%":"undefined"==typeof Set?n:Set,"%SetIteratorPrototype%":"undefined"!=typeof Set&&a?c((new Set)[Symbol.iterator]()):n,"%SetPrototype%":"undefined"==typeof Set?n:Set.prototype,"%SharedArrayBuffer%":"undefined"==typeof SharedArrayBuffer?n:SharedArrayBuffer,"%SharedArrayBufferPrototype%":"undefined"==typeof SharedArrayBuffer?n:SharedArrayBuffer.prototype,"%String%":String,"%StringIteratorPrototype%":a?c(""[Symbol.iterator]()):n,"%StringPrototype%":String.prototype,"%Symbol%":a?Symbol:n,"%SymbolPrototype%":a?Symbol.prototype:n,"%SyntaxError%":SyntaxError,"%SyntaxErrorPrototype%":SyntaxError.prototype,"%ThrowTypeError%":o,"%TypedArray%":y,"%TypedArrayPrototype%":y?y.prototype:n,"%TypeError%":i,"%TypeErrorPrototype%":i.prototype,"%Uint8Array%":"undefined"==typeof Uint8Array?n:Uint8Array,"%Uint8ArrayPrototype%":"undefined"==typeof Uint8Array?n:Uint8Array.prototype,"%Uint8ClampedArray%":"undefined"==typeof Uint8ClampedArray?n:Uint8ClampedArray,"%Uint8ClampedArrayPrototype%":"undefined"==typeof Uint8ClampedArray?n:Uint8ClampedArray.prototype,"%Uint16Array%":"undefined"==typeof Uint16Array?n:Uint16Array,"%Uint16ArrayPrototype%":"undefined"==typeof Uint16Array?n:Uint16Array.prototype,"%Uint32Array%":"undefined"==typeof Uint32Array?n:Uint32Array,"%Uint32ArrayPrototype%":"undefined"==typeof Uint32Array?n:Uint32Array.prototype,"%URIError%":URIError,"%URIErrorPrototype%":URIError.prototype,"%WeakMap%":"undefined"==typeof WeakMap?n:WeakMap,"%WeakMapPrototype%":"undefined"==typeof WeakMap?n:WeakMap.prototype,"%WeakSet%":"undefined"==typeof WeakSet?n:WeakSet,"%WeakSetPrototype%":"undefined"==typeof WeakSet?n:WeakSet.prototype},d=r(0).call(Function.call,String.prototype.replace),g=/[^%.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|%$))/g,P=/\\(\\)?/g;t.exports=function GetIntrinsic(t,e){if("string"!=typeof t||0===t.length)throw new TypeError("intrinsic name must be a non-empty string");if(1<arguments.length&&"boolean"!=typeof e)throw new TypeError('"allowMissing" argument must be a boolean');for(var r=function stringToPath(t){var o=[];return d(t,g,function(t,e,r,n){o[o.length]=r?d(n,P,"$1"):e||t}),o}(t),n=function getBaseIntrinsic(t,e){if(!(t in h))throw new SyntaxError("intrinsic "+t+" does not exist!");if(void 0===h[t]&&!e)throw new i("intrinsic "+t+" exists, but is not available. Please file an issue!");return h[t]}("%"+(0<r.length?r[0]:"")+"%",e),o=1;o<r.length;o+=1)if(null!=n)if(s&&o+1>=r.length){var a=s(n,r[o]);if(!(e||r[o]in n))throw new i("base intrinsic for "+t+" exists, but the property is not available.");n=a?a.get||a.value:n[r[o]]}else n=n[r[o]];return n}},function(t,e,r){"use strict";var n,i=TypeError,s=Object.getOwnPropertyDescriptor;if(s)try{s({},"")}catch(t){s=null}function dc(){throw new i}var o=s?function(){try{return dc}catch(t){try{return s(arguments,"callee").get}catch(t){return dc}}}():dc,a=r(70)(),c=Object.getPrototypeOf||function(t){return t.__proto__},l=n,u=n,p=n,f=n,y="undefined"==typeof Uint8Array?n:c(Uint8Array),h={"%Array%":Array,"%ArrayBuffer%":"undefined"==typeof ArrayBuffer?n:ArrayBuffer,"%ArrayBufferPrototype%":"undefined"==typeof ArrayBuffer?n:ArrayBuffer.prototype,"%ArrayIteratorPrototype%":a?c([][Symbol.iterator]()):n,"%ArrayPrototype%":Array.prototype,"%ArrayProto_entries%":Array.prototype.entries,"%ArrayProto_forEach%":Array.prototype.forEach,"%ArrayProto_keys%":Array.prototype.keys,"%ArrayProto_values%":Array.prototype.values,"%AsyncFromSyncIteratorPrototype%":n,"%AsyncFunction%":u,"%AsyncFunctionPrototype%":n,"%AsyncGenerator%":n,"%AsyncGeneratorFunction%":p,"%AsyncGeneratorPrototype%":n,"%AsyncIteratorPrototype%":f&&a&&Symbol.asyncIterator?f[Symbol.asyncIterator]():n,"%Atomics%":"undefined"==typeof Atomics?n:Atomics,"%Boolean%":Boolean,"%BooleanPrototype%":Boolean.prototype,"%DataView%":"undefined"==typeof DataView?n:DataView,"%DataViewPrototype%":"undefined"==typeof DataView?n:DataView.prototype,"%Date%":Date,"%DatePrototype%":Date.prototype,"%decodeURI%":decodeURI,"%decodeURIComponent%":decodeURIComponent,"%encodeURI%":encodeURI,"%encodeURIComponent%":encodeURIComponent,"%Error%":Error,"%ErrorPrototype%":Error.prototype,"%eval%":eval,"%EvalError%":EvalError,"%EvalErrorPrototype%":EvalError.prototype,"%Float32Array%":"undefined"==typeof Float32Array?n:Float32Array,"%Float32ArrayPrototype%":"undefined"==typeof Float32Array?n:Float32Array.prototype,"%Float64Array%":"undefined"==typeof Float64Array?n:Float64Array,"%Float64ArrayPrototype%":"undefined"==typeof Float64Array?n:Float64Array.prototype,"%Function%":Function,"%FunctionPrototype%":Function.prototype,"%Generator%":n,"%GeneratorFunction%":l,"%GeneratorPrototype%":n,"%Int8Array%":"undefined"==typeof Int8Array?n:Int8Array,"%Int8ArrayPrototype%":"undefined"==typeof Int8Array?n:Int8Array.prototype,"%Int16Array%":"undefined"==typeof Int16Array?n:Int16Array,"%Int16ArrayPrototype%":"undefined"==typeof Int16Array?n:Int8Array.prototype,"%Int32Array%":"undefined"==typeof Int32Array?n:Int32Array,"%Int32ArrayPrototype%":"undefined"==typeof Int32Array?n:Int32Array.prototype,"%isFinite%":isFinite,"%isNaN%":isNaN,"%IteratorPrototype%":a?c(c([][Symbol.iterator]())):n,"%JSON%":"object"==typeof JSON?JSON:n,"%JSONParse%":"object"==typeof JSON?JSON.parse:n,"%Map%":"undefined"==typeof Map?n:Map,"%MapIteratorPrototype%":"undefined"!=typeof Map&&a?c((new Map)[Symbol.iterator]()):n,"%MapPrototype%":"undefined"==typeof Map?n:Map.prototype,"%Math%":Math,"%Number%":Number,"%NumberPrototype%":Number.prototype,"%Object%":Object,"%ObjectPrototype%":Object.prototype,"%ObjProto_toString%":Object.prototype.toString,"%ObjProto_valueOf%":Object.prototype.valueOf,"%parseFloat%":parseFloat,"%parseInt%":parseInt,"%Promise%":"undefined"==typeof Promise?n:Promise,"%PromisePrototype%":"undefined"==typeof Promise?n:Promise.prototype,"%PromiseProto_then%":"undefined"==typeof Promise?n:Promise.prototype.then,"%Promise_all%":"undefined"==typeof Promise?n:Promise.all,"%Promise_reject%":"undefined"==typeof Promise?n:Promise.reject,"%Promise_resolve%":"undefined"==typeof Promise?n:Promise.resolve,"%Proxy%":"undefined"==typeof Proxy?n:Proxy,"%RangeError%":RangeError,"%RangeErrorPrototype%":RangeError.prototype,"%ReferenceError%":ReferenceError,"%ReferenceErrorPrototype%":ReferenceError.prototype,"%Reflect%":"undefined"==typeof Reflect?n:Reflect,"%RegExp%":RegExp,"%RegExpPrototype%":RegExp.prototype,"%Set%":"undefined"==typeof Set?n:Set,"%SetIteratorPrototype%":"undefined"!=typeof Set&&a?c((new Set)[Symbol.iterator]()):n,"%SetPrototype%":"undefined"==typeof Set?n:Set.prototype,"%SharedArrayBuffer%":"undefined"==typeof SharedArrayBuffer?n:SharedArrayBuffer,"%SharedArrayBufferPrototype%":"undefined"==typeof SharedArrayBuffer?n:SharedArrayBuffer.prototype,"%String%":String,"%StringIteratorPrototype%":a?c(""[Symbol.iterator]()):n,"%StringPrototype%":String.prototype,"%Symbol%":a?Symbol:n,"%SymbolPrototype%":a?Symbol.prototype:n,"%SyntaxError%":SyntaxError,"%SyntaxErrorPrototype%":SyntaxError.prototype,"%ThrowTypeError%":o,"%TypedArray%":y,"%TypedArrayPrototype%":y?y.prototype:n,"%TypeError%":i,"%TypeErrorPrototype%":i.prototype,"%Uint8Array%":"undefined"==typeof Uint8Array?n:Uint8Array,"%Uint8ArrayPrototype%":"undefined"==typeof Uint8Array?n:Uint8Array.prototype,"%Uint8ClampedArray%":"undefined"==typeof Uint8ClampedArray?n:Uint8ClampedArray,"%Uint8ClampedArrayPrototype%":"undefined"==typeof Uint8ClampedArray?n:Uint8ClampedArray.prototype,"%Uint16Array%":"undefined"==typeof Uint16Array?n:Uint16Array,"%Uint16ArrayPrototype%":"undefined"==typeof Uint16Array?n:Uint16Array.prototype,"%Uint32Array%":"undefined"==typeof Uint32Array?n:Uint32Array,"%Uint32ArrayPrototype%":"undefined"==typeof Uint32Array?n:Uint32Array.prototype,"%URIError%":URIError,"%URIErrorPrototype%":URIError.prototype,"%WeakMap%":"undefined"==typeof WeakMap?n:WeakMap,"%WeakMapPrototype%":"undefined"==typeof WeakMap?n:WeakMap.prototype,"%WeakSet%":"undefined"==typeof WeakSet?n:WeakSet,"%WeakSetPrototype%":"undefined"==typeof WeakSet?n:WeakSet.prototype},d=r(0).call(Function.call,String.prototype.replace),g=/[^%.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|%$))/g,P=/\\(\\)?/g;t.exports=function GetIntrinsic(t,e){if("string"!=typeof t||0===t.length)throw new TypeError("intrinsic name must be a non-empty string");if(1<arguments.length&&"boolean"!=typeof e)throw new TypeError('"allowMissing" argument must be a boolean');for(var r=function stringToPath(t){var o=[];return d(t,g,function(t,e,r,n){o[o.length]=r?d(n,P,"$1"):e||t}),o}(t),n=function getBaseIntrinsic(t,e){if(!(t in h))throw new SyntaxError("intrinsic "+t+" does not exist!");if(void 0===h[t]&&!e)throw new i("intrinsic "+t+" exists, but is not available. Please file an issue!");return h[t]}("%"+(0<r.length?r[0]:"")+"%",e),o=1;o<r.length;o+=1)if(null!=n)if(s&&o+1>=r.length){var a=s(n,r[o]);if(!(e||r[o]in n))throw new i("base intrinsic for "+t+" exists, but the property is not available.");n=a?a.get||a.value:n[r[o]]}else n=n[r[o]];return n}},function(t,e,r){"use strict";var n,i=TypeError,s=Object.getOwnPropertyDescriptor;if(s)try{s({},"")}catch(t){s=null}function Uc(){throw new i}var o=s?function(){try{return Uc}catch(t){try{return s(arguments,"callee").get}catch(t){return Uc}}}():Uc,a=r(25)(),c=Object.getPrototypeOf||function(t){return t.__proto__},l=n,u=n,p=n,f=n,y="undefined"==typeof Uint8Array?n:c(Uint8Array),h={"%Array%":Array,"%ArrayBuffer%":"undefined"==typeof ArrayBuffer?n:ArrayBuffer,"%ArrayBufferPrototype%":"undefined"==typeof ArrayBuffer?n:ArrayBuffer.prototype,"%ArrayIteratorPrototype%":a?c([][Symbol.iterator]()):n,"%ArrayPrototype%":Array.prototype,"%ArrayProto_entries%":Array.prototype.entries,"%ArrayProto_forEach%":Array.prototype.forEach,"%ArrayProto_keys%":Array.prototype.keys,"%ArrayProto_values%":Array.prototype.values,"%AsyncFromSyncIteratorPrototype%":n,"%AsyncFunction%":u,"%AsyncFunctionPrototype%":n,"%AsyncGenerator%":n,"%AsyncGeneratorFunction%":p,"%AsyncGeneratorPrototype%":n,"%AsyncIteratorPrototype%":f&&a&&Symbol.asyncIterator?f[Symbol.asyncIterator]():n,"%Atomics%":"undefined"==typeof Atomics?n:Atomics,"%Boolean%":Boolean,"%BooleanPrototype%":Boolean.prototype,"%DataView%":"undefined"==typeof DataView?n:DataView,"%DataViewPrototype%":"undefined"==typeof DataView?n:DataView.prototype,"%Date%":Date,"%DatePrototype%":Date.prototype,"%decodeURI%":decodeURI,"%decodeURIComponent%":decodeURIComponent,"%encodeURI%":encodeURI,"%encodeURIComponent%":encodeURIComponent,"%Error%":Error,"%ErrorPrototype%":Error.prototype,"%eval%":eval,"%EvalError%":EvalError,"%EvalErrorPrototype%":EvalError.prototype,"%Float32Array%":"undefined"==typeof Float32Array?n:Float32Array,"%Float32ArrayPrototype%":"undefined"==typeof Float32Array?n:Float32Array.prototype,"%Float64Array%":"undefined"==typeof Float64Array?n:Float64Array,"%Float64ArrayPrototype%":"undefined"==typeof Float64Array?n:Float64Array.prototype,"%Function%":Function,"%FunctionPrototype%":Function.prototype,"%Generator%":n,"%GeneratorFunction%":l,"%GeneratorPrototype%":n,"%Int8Array%":"undefined"==typeof Int8Array?n:Int8Array,"%Int8ArrayPrototype%":"undefined"==typeof Int8Array?n:Int8Array.prototype,"%Int16Array%":"undefined"==typeof Int16Array?n:Int16Array,"%Int16ArrayPrototype%":"undefined"==typeof Int16Array?n:Int8Array.prototype,"%Int32Array%":"undefined"==typeof Int32Array?n:Int32Array,"%Int32ArrayPrototype%":"undefined"==typeof Int32Array?n:Int32Array.prototype,"%isFinite%":isFinite,"%isNaN%":isNaN,"%IteratorPrototype%":a?c(c([][Symbol.iterator]())):n,"%JSON%":"object"==typeof JSON?JSON:n,"%JSONParse%":"object"==typeof JSON?JSON.parse:n,"%Map%":"undefined"==typeof Map?n:Map,"%MapIteratorPrototype%":"undefined"!=typeof Map&&a?c((new Map)[Symbol.iterator]()):n,"%MapPrototype%":"undefined"==typeof Map?n:Map.prototype,"%Math%":Math,"%Number%":Number,"%NumberPrototype%":Number.prototype,"%Object%":Object,"%ObjectPrototype%":Object.prototype,"%ObjProto_toString%":Object.prototype.toString,"%ObjProto_valueOf%":Object.prototype.valueOf,"%parseFloat%":parseFloat,"%parseInt%":parseInt,"%Promise%":"undefined"==typeof Promise?n:Promise,"%PromisePrototype%":"undefined"==typeof Promise?n:Promise.prototype,"%PromiseProto_then%":"undefined"==typeof Promise?n:Promise.prototype.then,"%Promise_all%":"undefined"==typeof Promise?n:Promise.all,"%Promise_reject%":"undefined"==typeof Promise?n:Promise.reject,"%Promise_resolve%":"undefined"==typeof Promise?n:Promise.resolve,"%Proxy%":"undefined"==typeof Proxy?n:Proxy,"%RangeError%":RangeError,"%RangeErrorPrototype%":RangeError.prototype,"%ReferenceError%":ReferenceError,"%ReferenceErrorPrototype%":ReferenceError.prototype,"%Reflect%":"undefined"==typeof Reflect?n:Reflect,"%RegExp%":RegExp,"%RegExpPrototype%":RegExp.prototype,"%Set%":"undefined"==typeof Set?n:Set,"%SetIteratorPrototype%":"undefined"!=typeof Set&&a?c((new Set)[Symbol.iterator]()):n,"%SetPrototype%":"undefined"==typeof Set?n:Set.prototype,"%SharedArrayBuffer%":"undefined"==typeof SharedArrayBuffer?n:SharedArrayBuffer,"%SharedArrayBufferPrototype%":"undefined"==typeof SharedArrayBuffer?n:SharedArrayBuffer.prototype,"%String%":String,"%StringIteratorPrototype%":a?c(""[Symbol.iterator]()):n,"%StringPrototype%":String.prototype,"%Symbol%":a?Symbol:n,"%SymbolPrototype%":a?Symbol.prototype:n,"%SyntaxError%":SyntaxError,"%SyntaxErrorPrototype%":SyntaxError.prototype,"%ThrowTypeError%":o,"%TypedArray%":y,"%TypedArrayPrototype%":y?y.prototype:n,"%TypeError%":i,"%TypeErrorPrototype%":i.prototype,"%Uint8Array%":"undefined"==typeof Uint8Array?n:Uint8Array,"%Uint8ArrayPrototype%":"undefined"==typeof Uint8Array?n:Uint8Array.prototype,"%Uint8ClampedArray%":"undefined"==typeof Uint8ClampedArray?n:Uint8ClampedArray,"%Uint8ClampedArrayPrototype%":"undefined"==typeof Uint8ClampedArray?n:Uint8ClampedArray.prototype,"%Uint16Array%":"undefined"==typeof Uint16Array?n:Uint16Array,"%Uint16ArrayPrototype%":"undefined"==typeof Uint16Array?n:Uint16Array.prototype,"%Uint32Array%":"undefined"==typeof Uint32Array?n:Uint32Array,"%Uint32ArrayPrototype%":"undefined"==typeof Uint32Array?n:Uint32Array.prototype,"%URIError%":URIError,"%URIErrorPrototype%":URIError.prototype,"%WeakMap%":"undefined"==typeof WeakMap?n:WeakMap,"%WeakMapPrototype%":"undefined"==typeof WeakMap?n:WeakMap.prototype,"%WeakSet%":"undefined"==typeof WeakSet?n:WeakSet,"%WeakSetPrototype%":"undefined"==typeof WeakSet?n:WeakSet.prototype},d=r(0).call(Function.call,String.prototype.replace),g=/[^%.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|%$))/g,P=/\\(\\)?/g;t.exports=function GetIntrinsic(t,e){if("string"!=typeof t||0===t.length)throw new TypeError("intrinsic name must be a non-empty string");if(1<arguments.length&&"boolean"!=typeof e)throw new TypeError('"allowMissing" argument must be a boolean');for(var r=function stringToPath(t){var o=[];return d(t,g,function(t,e,r,n){o[o.length]=r?d(n,P,"$1"):e||t}),o}(t),n=function getBaseIntrinsic(t,e){if(!(t in h))throw new SyntaxError("intrinsic "+t+" does not exist!");if(void 0===h[t]&&!e)throw new i("intrinsic "+t+" exists, but is not available. Please file an issue!");return h[t]}("%"+(0<r.length?r[0]:"")+"%",e),o=1;o<r.length;o+=1)if(null!=n)if(s&&o+1>=r.length){var a=s(n,r[o]);if(!(e||r[o]in n))throw new i("base intrinsic for "+t+" exists, but the property is not available.");n=a?a.get||a.value:n[r[o]]}else n=n[r[o]];return n}},function(t,e,r){"use strict";var n,i=TypeError,s=Object.getOwnPropertyDescriptor;if(s)try{s({},"")}catch(t){s=null}function Jd(){throw new i}var o=s?function(){try{return Jd}catch(t){try{return s(arguments,"callee").get}catch(t){return Jd}}}():Jd,a=r(26)(),c=Object.getPrototypeOf||function(t){return t.__proto__},l=n,u=n,p=n,f=n,y="undefined"==typeof Uint8Array?n:c(Uint8Array),h={"%Array%":Array,"%ArrayBuffer%":"undefined"==typeof ArrayBuffer?n:ArrayBuffer,"%ArrayBufferPrototype%":"undefined"==typeof ArrayBuffer?n:ArrayBuffer.prototype,"%ArrayIteratorPrototype%":a?c([][Symbol.iterator]()):n,"%ArrayPrototype%":Array.prototype,"%ArrayProto_entries%":Array.prototype.entries,"%ArrayProto_forEach%":Array.prototype.forEach,"%ArrayProto_keys%":Array.prototype.keys,"%ArrayProto_values%":Array.prototype.values,"%AsyncFromSyncIteratorPrototype%":n,"%AsyncFunction%":u,"%AsyncFunctionPrototype%":n,"%AsyncGenerator%":n,"%AsyncGeneratorFunction%":p,"%AsyncGeneratorPrototype%":n,"%AsyncIteratorPrototype%":f&&a&&Symbol.asyncIterator?f[Symbol.asyncIterator]():n,"%Atomics%":"undefined"==typeof Atomics?n:Atomics,"%Boolean%":Boolean,"%BooleanPrototype%":Boolean.prototype,"%DataView%":"undefined"==typeof DataView?n:DataView,"%DataViewPrototype%":"undefined"==typeof DataView?n:DataView.prototype,"%Date%":Date,"%DatePrototype%":Date.prototype,"%decodeURI%":decodeURI,"%decodeURIComponent%":decodeURIComponent,"%encodeURI%":encodeURI,"%encodeURIComponent%":encodeURIComponent,"%Error%":Error,"%ErrorPrototype%":Error.prototype,"%eval%":eval,"%EvalError%":EvalError,"%EvalErrorPrototype%":EvalError.prototype,"%Float32Array%":"undefined"==typeof Float32Array?n:Float32Array,"%Float32ArrayPrototype%":"undefined"==typeof Float32Array?n:Float32Array.prototype,"%Float64Array%":"undefined"==typeof Float64Array?n:Float64Array,"%Float64ArrayPrototype%":"undefined"==typeof Float64Array?n:Float64Array.prototype,"%Function%":Function,"%FunctionPrototype%":Function.prototype,"%Generator%":n,"%GeneratorFunction%":l,"%GeneratorPrototype%":n,"%Int8Array%":"undefined"==typeof Int8Array?n:Int8Array,"%Int8ArrayPrototype%":"undefined"==typeof Int8Array?n:Int8Array.prototype,"%Int16Array%":"undefined"==typeof Int16Array?n:Int16Array,"%Int16ArrayPrototype%":"undefined"==typeof Int16Array?n:Int8Array.prototype,"%Int32Array%":"undefined"==typeof Int32Array?n:Int32Array,"%Int32ArrayPrototype%":"undefined"==typeof Int32Array?n:Int32Array.prototype,"%isFinite%":isFinite,"%isNaN%":isNaN,"%IteratorPrototype%":a?c(c([][Symbol.iterator]())):n,"%JSON%":"object"==typeof JSON?JSON:n,"%JSONParse%":"object"==typeof JSON?JSON.parse:n,"%Map%":"undefined"==typeof Map?n:Map,"%MapIteratorPrototype%":"undefined"!=typeof Map&&a?c((new Map)[Symbol.iterator]()):n,"%MapPrototype%":"undefined"==typeof Map?n:Map.prototype,"%Math%":Math,"%Number%":Number,"%NumberPrototype%":Number.prototype,"%Object%":Object,"%ObjectPrototype%":Object.prototype,"%ObjProto_toString%":Object.prototype.toString,"%ObjProto_valueOf%":Object.prototype.valueOf,"%parseFloat%":parseFloat,"%parseInt%":parseInt,"%Promise%":"undefined"==typeof Promise?n:Promise,"%PromisePrototype%":"undefined"==typeof Promise?n:Promise.prototype,"%PromiseProto_then%":"undefined"==typeof Promise?n:Promise.prototype.then,"%Promise_all%":"undefined"==typeof Promise?n:Promise.all,"%Promise_reject%":"undefined"==typeof Promise?n:Promise.reject,"%Promise_resolve%":"undefined"==typeof Promise?n:Promise.resolve,"%Proxy%":"undefined"==typeof Proxy?n:Proxy,"%RangeError%":RangeError,"%RangeErrorPrototype%":RangeError.prototype,"%ReferenceError%":ReferenceError,"%ReferenceErrorPrototype%":ReferenceError.prototype,"%Reflect%":"undefined"==typeof Reflect?n:Reflect,"%RegExp%":RegExp,"%RegExpPrototype%":RegExp.prototype,"%Set%":"undefined"==typeof Set?n:Set,"%SetIteratorPrototype%":"undefined"!=typeof Set&&a?c((new Set)[Symbol.iterator]()):n,"%SetPrototype%":"undefined"==typeof Set?n:Set.prototype,"%SharedArrayBuffer%":"undefined"==typeof SharedArrayBuffer?n:SharedArrayBuffer,"%SharedArrayBufferPrototype%":"undefined"==typeof SharedArrayBuffer?n:SharedArrayBuffer.prototype,"%String%":String,"%StringIteratorPrototype%":a?c(""[Symbol.iterator]()):n,"%StringPrototype%":String.prototype,"%Symbol%":a?Symbol:n,"%SymbolPrototype%":a?Symbol.prototype:n,"%SyntaxError%":SyntaxError,"%SyntaxErrorPrototype%":SyntaxError.prototype,"%ThrowTypeError%":o,"%TypedArray%":y,"%TypedArrayPrototype%":y?y.prototype:n,"%TypeError%":i,"%TypeErrorPrototype%":i.prototype,"%Uint8Array%":"undefined"==typeof Uint8Array?n:Uint8Array,"%Uint8ArrayPrototype%":"undefined"==typeof Uint8Array?n:Uint8Array.prototype,"%Uint8ClampedArray%":"undefined"==typeof Uint8ClampedArray?n:Uint8ClampedArray,"%Uint8ClampedArrayPrototype%":"undefined"==typeof Uint8ClampedArray?n:Uint8ClampedArray.prototype,"%Uint16Array%":"undefined"==typeof Uint16Array?n:Uint16Array,"%Uint16ArrayPrototype%":"undefined"==typeof Uint16Array?n:Uint16Array.prototype,"%Uint32Array%":"undefined"==typeof Uint32Array?n:Uint32Array,"%Uint32ArrayPrototype%":"undefined"==typeof Uint32Array?n:Uint32Array.prototype,"%URIError%":URIError,"%URIErrorPrototype%":URIError.prototype,"%WeakMap%":"undefined"==typeof WeakMap?n:WeakMap,"%WeakMapPrototype%":"undefined"==typeof WeakMap?n:WeakMap.prototype,"%WeakSet%":"undefined"==typeof WeakSet?n:WeakSet,"%WeakSetPrototype%":"undefined"==typeof WeakSet?n:WeakSet.prototype},d=r(0).call(Function.call,String.prototype.replace),g=/[^%.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|%$))/g,P=/\\(\\)?/g;t.exports=function GetIntrinsic(t,e){if("string"!=typeof t||0===t.length)throw new TypeError("intrinsic name must be a non-empty string");if(1<arguments.length&&"boolean"!=typeof e)throw new TypeError('"allowMissing" argument must be a boolean');for(var r=function stringToPath(t){var o=[];return d(t,g,function(t,e,r,n){o[o.length]=r?d(n,P,"$1"):e||t}),o}(t),n=function getBaseIntrinsic(t,e){if(!(t in h))throw new SyntaxError("intrinsic "+t+" does not exist!");if(void 0===h[t]&&!e)throw new i("intrinsic "+t+" exists, but is not available. Please file an issue!");return h[t]}("%"+(0<r.length?r[0]:"")+"%",e),o=1;o<r.length;o+=1)if(null!=n)if(s&&o+1>=r.length){var a=s(n,r[o]);if(!(e||r[o]in n))throw new i("base intrinsic for "+t+" exists, but the property is not available.");n=a?a.get||a.value:n[r[o]]}else n=n[r[o]];return n}},function(t,e,r){t.exports=r(90)},function(t,e,r){"use strict";var n=Object.prototype.toString;t.exports=function isArguments(t){var e=n.call(t);return"[object Arguments]"===e||"[object Array]"!==e&&null!==t&&"object"==typeof t&&"number"==typeof t.length&&0<=t.length&&"[object Function]"===n.call(t.callee)}},function(t,e,r){"use strict";function He(t){return!(n&&t&&"object"==typeof t&&Symbol.toStringTag in t)&&"[object Arguments]"===o.call(t)}function Ie(t){return!!He(t)||null!==t&&"object"==typeof t&&"number"==typeof t.length&&0<=t.length&&"[object Array]"!==o.call(t)&&"[object Function]"===o.call(t.callee)}var n="function"==typeof Symbol&&"symbol"==typeof Symbol.toStringTag,o=Object.prototype.toString,a=function(){return He(arguments)}();He.isLegacyArguments=Ie,t.exports=a?He:Ie},function(t,e,r){"use strict";function Xe(t){var e=t.constructor;return e&&e.prototype===t}function _e(t){var e=null!==t&&"object"==typeof t,r="[object Function]"===y.call(t),n=h(t),o=e&&"[object String]"===y.call(t),a=[];if(!e&&!r&&!n)throw new TypeError("Object.keys called on a non-object");var i=g&&r;if(o&&0<t.length&&!f.call(t,0))for(var s=0;s<t.length;++s)a.push(String(s));if(n&&0<t.length)for(var c=0;c<t.length;++c)a.push(String(c));else for(var l in t)i&&"prototype"===l||!f.call(t,l)||a.push(String(l));if(d)for(var u=function(t){if("undefined"==typeof window||!v)return Xe(t);try{return Xe(t)}catch(t){return!1}}(t),p=0;p<P.length;++p)u&&"constructor"===P[p]||!f.call(t,P[p])||a.push(P[p]);return a}var f=Object.prototype.hasOwnProperty,y=Object.prototype.toString,n=Array.prototype.slice,h=r(34),o=Object.prototype.propertyIsEnumerable,d=!o.call({toString:null},"toString"),g=o.call(function(){},"prototype"),P=["toString","toLocaleString","valueOf","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","constructor"],a={$applicationCache:!0,$console:!0,$external:!0,$frame:!0,$frameElement:!0,$frames:!0,$innerHeight:!0,$innerWidth:!0,$outerHeight:!0,$outerWidth:!0,$pageXOffset:!0,$pageYOffset:!0,$parent:!0,$scrollLeft:!0,$scrollTop:!0,$scrollX:!0,$scrollY:!0,$self:!0,$webkitIndexedDB:!0,$webkitStorageInfo:!0,$window:!0},v=function(){if("undefined"==typeof window)return!1;for(var t in window)try{if(!a["$"+t]&&f.call(window,t)&&null!==window[t]&&"object"==typeof window[t])try{Xe(window[t])}catch(t){return!0}}catch(t){return!0}return!1}();_e.shim=function shimObjectKeys(){var e;return Object.keys?function(){return 2===(Object.keys(arguments)||"").length}(1,2)||(e=Object.keys,Object.keys=function keys(t){return h(t)?e(n.call(t)):e(t)}):Object.keys=_e,Object.keys||_e},t.exports=_e},function(t,e,r){"use strict";function Bf(t){return t!=t}t.exports=function is(t,e){return 0===t&&0===e?1/t==1/e:t===e||!(!Bf(t)||!Bf(e))}},function(t,e,r){"use strict";var n=r(13);t.exports=function getPolyfill(){return"function"==typeof Object.is?Object.is:n}},function(t,e,r){"use strict";var n=Object,o=TypeError;t.exports=function flags(){if(null!=this&&this!==n(this))throw new o("RegExp.prototype.flags getter called on non-object");var t="";return this.global&&(t+="g"),this.ignoreCase&&(t+="i"),this.multiline&&(t+="m"),this.dotAll&&(t+="s"),this.unicode&&(t+="u"),this.sticky&&(t+="y"),t}},function(t,e,r){"use strict";var n=r(15),o=r(2).supportsDescriptors,a=Object.getOwnPropertyDescriptor,i=TypeError;t.exports=function getPolyfill(){if(!o)throw new i("RegExp.prototype.flags requires a true ES5 environment that supports property descriptors");if("gim"===/a/gim.flags){var t=a(RegExp.prototype,"flags");if(t&&"function"==typeof t.get&&"boolean"==typeof/a/.dotAll)return t.get}return n}},function(t,e,r){"use strict";var n=String.prototype.valueOf,o=Object.prototype.toString,a="function"==typeof Symbol&&"symbol"==typeof Symbol.toStringTag;t.exports=function isString(t){return"string"==typeof t||"object"==typeof t&&(a?function tryStringObject(t){try{return n.call(t),!0}catch(t){return!1}}(t):"[object String]"===o.call(t))}},function(t,e,r){"use strict";t.exports=function hasSymbols(){if("function"!=typeof Symbol||"function"!=typeof Object.getOwnPropertySymbols)return!1;if("symbol"==typeof Symbol.iterator)return!0;var t={},e=Symbol("test"),r=Object(e);if("string"==typeof e)return!1;if("[object Symbol]"!==Object.prototype.toString.call(e))return!1;if("[object Symbol]"!==Object.prototype.toString.call(r))return!1;for(e in t[e]=42,t)return!1;if("function"==typeof Object.keys&&0!==Object.keys(t).length)return!1;if("function"==typeof Object.getOwnPropertyNames&&0!==Object.getOwnPropertyNames(t).length)return!1;var n=Object.getOwnPropertySymbols(t);if(1!==n.length||n[0]!==e)return!1;if(!Object.prototype.propertyIsEnumerable.call(t,e))return!1;if("function"==typeof Object.getOwnPropertyDescriptor){var o=Object.getOwnPropertyDescriptor(t,e);if(42!==o.value||!0!==o.enumerable)return!1}return!0}},function(t,e,r){"use strict";var n,o="function"==typeof Map&&Map.prototype?Map:null,a="function"==typeof Set&&Set.prototype?Set:null;o||(n=function isMap(){return!1});var i=o?Map.prototype.has:null,s=a?Set.prototype.has:null;n||i||(n=function isMap(){return!1}),t.exports=n||function isMap(t){if(!t||"object"!=typeof t)return!1;try{if(i.call(t),s)try{s.call(t)}catch(t){return!0}return t instanceof o}catch(t){}return!1}},function(t,e,r){"use strict";var n,o="function"==typeof Map&&Map.prototype?Map:null,a="function"==typeof Set&&Set.prototype?Set:null;a||(n=function isSet(){return!1});var i=o?Map.prototype.has:null,s=a?Set.prototype.has:null;n||s||(n=function isSet(){return!1}),t.exports=n||function isSet(t){if(!t||"object"!=typeof t)return!1;try{if(s.call(t),i)try{i.call(t)}catch(t){return!0}return t instanceof a}catch(t){}return!1}},function(n,t,o){"use strict";(function(t){var e=t.Symbol,r=o(22);n.exports=function hasNativeSymbols(){return"function"==typeof e&&("function"==typeof Symbol&&("symbol"==typeof e("foo")&&("symbol"==typeof Symbol("bar")&&r())))}}).call(this,o(1))},function(t,e,r){"use strict";t.exports=function hasSymbols(){if("function"!=typeof Symbol||"function"!=typeof Object.getOwnPropertySymbols)return!1;if("symbol"==typeof Symbol.iterator)return!0;var t={},e=Symbol("test"),r=Object(e);if("string"==typeof e)return!1;if("[object Symbol]"!==Object.prototype.toString.call(e))return!1;if("[object Symbol]"!==Object.prototype.toString.call(r))return!1;for(e in t[e]=42,t)return!1;if("function"==typeof Object.keys&&0!==Object.keys(t).length)return!1;if("function"==typeof Object.getOwnPropertyNames&&0!==Object.getOwnPropertyNames(t).length)return!1;var n=Object.getOwnPropertySymbols(t);if(1!==n.length||n[0]!==e)return!1;if(!Object.prototype.propertyIsEnumerable.call(t,e))return!1;if("function"==typeof Object.getOwnPropertyDescriptor){var o=Object.getOwnPropertyDescriptor(t,e);if(42!==o.value||!0!==o.enumerable)return!1}return!0}},function(t,e){var i=Object.prototype.hasOwnProperty,s=Object.prototype.toString;t.exports=function forEach(t,e,r){if("[object Function]"!==s.call(e))throw new TypeError("iterator must be a function");var n=t.length;if(n===+n)for(var o=0;o<n;o++)e.call(r,t[o],o,t);else for(var a in t)i.call(t,a)&&e.call(r,t[a],a,t)}},function(r,t,n){"use strict";(function(e){var t=n(77);r.exports=function availableTypedArrays(){return t(["BigInt64Array","BigUint64Array","Float32Array","Float64Array","Int16Array","Int32Array","Int8Array","Uint16Array","Uint32Array","Uint8Array","Uint8ClampedArray"],function(t){return"function"==typeof e[t]})}}).call(this,n(1))},function(n,t,o){"use strict";(function(t){var e=t.Symbol,r=o(79);n.exports=function hasNativeSymbols(){return"function"==typeof e&&("function"==typeof Symbol&&("symbol"==typeof e("foo")&&("symbol"==typeof Symbol("bar")&&r())))}}).call(this,o(1))},function(n,t,o){"use strict";(function(t){var e=t.Symbol,r=o(84);n.exports=function hasNativeSymbols(){return"function"==typeof e&&("function"==typeof Symbol&&("symbol"==typeof e("foo")&&("symbol"==typeof Symbol("bar")&&r())))}}).call(this,o(1))},function(t,e,r){"use strict";var u=r(12),n=r(0),p=r(18)(),f=Object,y=n.call(Function.call,Array.prototype.push),h=n.call(Function.call,Object.prototype.propertyIsEnumerable),d=p?Object.getOwnPropertySymbols:null;t.exports=function assign(t){if(null==t)throw new TypeError("target must be an object");for(var e,r,n,o,a,i,s=f(t),c=1;c<arguments.length;++c){e=f(arguments[c]),n=u(e);var l=p&&(Object.getOwnPropertySymbols||d);if(l)for(o=l(e),r=0;r<o.length;++r)i=o[r],h(e,i)&&y(n,i);for(r=0;r<n.length;++r)a=e[i=n[r]],h(e,i)&&(s[i]=a)}return s}},function(t,e,r){"use strict";var n=r(27);t.exports=function getPolyfill(){return!Object.assign||function(){if(!Object.assign)return!1;for(var t="abcdefghijklmnopqrst",e=t.split(""),r={},n=0;n<e.length;++n)r[e[n]]=e[n];var o=Object.assign({},r),a="";for(var i in o)a+=i;return t!==a}()||function(){if(!Object.assign||!Object.preventExtensions)return!1;var e=Object.preventExtensions({1:2});try{Object.assign(e,"xy")}catch(t){return"y"===e[1]}return!1}()?n:Object.assign}},function(t,e,r){"use strict";var _=r(31),m=r(11),c=r(33),S=r(41),k=r(43),C=r(49),w=r(50),l=r(51),n=r(4),o=r(59),x=r(61),O=r(64),a=r(69),A=r(76),T=r(87),j=o("Date.prototype.getTime"),R=Object.getPrototypeOf,B=o("Object.prototype.toString"),E=n("%Set%",!0),L=o("Map.prototype.has",!0),I=o("Map.prototype.get",!0),F=o("Map.prototype.size",!0),H=o("Set.prototype.add",!0),u=o("Set.prototype.delete",!0),M=o("Set.prototype.has",!0),D=o("Set.prototype.size",!0);function setHasEqualElement(t,e,r,n){for(var o,a=O(t);(o=a.next())&&!o.done;)if(internalDeepEqual(e,o.value,r,n))return u(t,o.value),1}function findLooseMatchingPrimitives(t){return void 0===t?null:"object"!=typeof t?"symbol"!=typeof t&&("string"!=typeof t&&"number"!=typeof t||+t==+t):void 0}function mapHasEqualEntry(t,e,r,n,o,a){for(var i,s,c=O(t);(i=c.next())&&!i.done;)if(internalDeepEqual(r,s=i.value,o,a)&&internalDeepEqual(n,I(e,s),o,a))return u(t,s),1}function internalDeepEqual(t,e,r,n){var o=r||{};if(o.strict?c(t,e):t===e)return!0;if(l(t)!==l(e))return!1;if(!t||!e||"object"!=typeof t&&"object"!=typeof e)return o.strict?c(t,e):t==e;var a,i=n.has(t),s=n.has(e);if(i&&s){if(n.get(t)===n.get(e))return!0}else a={};return i||n.set(t,a),s||n.set(e,a),function objEquiv(t,e,r,n){var o,a;if(typeof t!=typeof e)return!1;if(null==t||null==e)return!1;if(B(t)!==B(e))return!1;if(m(t)!==m(e))return!1;var i=C(t),s=C(e);if(i!==s)return!1;var c=t instanceof Error,l=e instanceof Error;if(c!=l)return!1;if((c||l)&&(t.name!==e.name||t.message!==e.message))return!1;var u=S(t),p=S(e);if(u!==p)return!1;if((u||p)&&(t.source!==e.source||k(t)!==k(e)))return!1;var f=w(t),y=w(e);if(f!==y)return!1;if((f||y)&&j(t)!==j(e))return!1;if(r.strict&&R&&R(t)!==R(e))return!1;if(A(t)!==A(e))return!1;var h=isBuffer(t),d=isBuffer(e);if(h!==d)return!1;if(h||d){if(t.length!==e.length)return!1;for(o=0;o<t.length;o++)if(t[o]!==e[o])return!1;return!0}if(typeof t!=typeof e)return!1;var g=_(t),P=_(e);if(g.length!==P.length)return!1;for(g.sort(),P.sort(),o=g.length-1;0<=o;o--)if(g[o]!=P[o])return!1;for(o=g.length-1;0<=o;o--)if(a=g[o],!internalDeepEqual(t[a],e[a],r,n))return!1;var v=x(t),b=x(e);return v===b&&("Set"!==v&&"Set"!==b?"Map"!==v||function mapEquiv(t,e,r,n){if(F(t)!==F(e))return!1;var o,a,i,s,c,l,u=O(t),p=O(e);for(;(o=u.next())&&!o.done;)if(s=o.value[0],c=o.value[1],s&&"object"==typeof s)i=i||new E,H(i,s);else if(void 0===(l=I(e,s))&&!L(e,s)||!internalDeepEqual(c,l,r,n)){if(r.strict)return!1;if(!function mapMightHaveLoosePrim(t,e,r,n,o,a){var i=findLooseMatchingPrimitives(r);if(null!=i)return i;var s=I(e,i),c=T({},o,{strict:!1});return(void 0!==s||L(e,i))&&internalDeepEqual(n,s,c,a)&&(!L(t,i)&&internalDeepEqual(n,s,c,a))}(t,e,s,c,r,n))return!1;i=i||new E,H(i,s)}if(i){for(;(a=p.next())&&!a.done;)if(s=a.value[0],l=a.value[1],s&&"object"==typeof s){if(!mapHasEqualEntry(i,t,s,l,r,n))return!1}else if(!(r.strict||t.has(s)&&internalDeepEqual(I(t,s),l,r,n)||mapHasEqualEntry(i,t,s,l,T({},r,{strict:!1}),n)))return!1;return 0===D(i)}return!0}(t,e,r,n):function setEquiv(t,e,r,n){if(D(t)!==D(e))return!1;var o,a,i,s=O(t),c=O(e);for(;(o=s.next())&&!o.done;)if(o.value&&"object"==typeof o.value)i=i||new E,H(i,o.value);else if(!M(e,o.value)){if(r.strict)return!1;if(!function setMightHaveLoosePrim(t,e,r){var n=findLooseMatchingPrimitives(r);return null!=n?n:M(e,n)&&!M(t,n)}(t,e,o.value))return!1;i=i||new E,H(i,o.value)}if(i){for(;(a=c.next())&&!a.done;)if(a.value&&"object"==typeof a.value){if(!setHasEqualElement(i,a.value,r.strict,n))return!1}else if(!r.strict&&!M(t,a.value)&&!setHasEqualElement(i,a.value,r.strict,n))return!1;return 0===D(i)}return!0}(t,e,r,n))}(t,e,o,n)}function isBuffer(t){return!(!t||"object"!=typeof t||"number"!=typeof t.length)&&("function"==typeof t.copy&&"function"==typeof t.slice&&(!(0<t.length&&"number"!=typeof t[0])&&!!(t.constructor&&t.constructor.isBuffer&&t.constructor.isBuffer(t))))}t.exports=function deepEqual(t,e,r){return internalDeepEqual(t,e,r,a())}},function(t,e,r){var n=r(89);t.exports=function(t,e){if("string"!=typeof e)throw new TypeError("path must be a string");if("object"!=typeof t)throw new TypeError("object must be passed");var r=n.get(e);if(!r.valid)throw new Error("path is not a valid object path");return r.getValueFrom(t)}},function(t,e,r){"use strict";var n=Array.prototype.slice,o=r(10),a=Object.keys,i=a?function keys(t){return a(t)}:r(32),s=Object.keys;i.shim=function shimObjectKeys(){return Object.keys?function(){var t=Object.keys(arguments);return t&&t.length===arguments.length}(1,2)||(Object.keys=function keys(t){return o(t)?s(n.call(t)):s(t)}):Object.keys=i,Object.keys||i},t.exports=i},function(t,e,r){"use strict";var f,y,h,n,d,g,P,v,o,b,a;Object.keys||(f=Object.prototype.hasOwnProperty,y=Object.prototype.toString,h=r(10),n=Object.prototype.propertyIsEnumerable,d=!n.call({toString:null},"toString"),g=n.call(function(){},"prototype"),P=["toString","toLocaleString","valueOf","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","constructor"],v=function(t){var e=t.constructor;return e&&e.prototype===t},o={$applicationCache:!0,$console:!0,$external:!0,$frame:!0,$frameElement:!0,$frames:!0,$innerHeight:!0,$innerWidth:!0,$onmozfullscreenchange:!0,$onmozfullscreenerror:!0,$outerHeight:!0,$outerWidth:!0,$pageXOffset:!0,$pageYOffset:!0,$parent:!0,$scrollLeft:!0,$scrollTop:!0,$scrollX:!0,$scrollY:!0,$self:!0,$webkitIndexedDB:!0,$webkitStorageInfo:!0,$window:!0},b=function(){if("undefined"==typeof window)return!1;for(var t in window)try{if(!o["$"+t]&&f.call(window,t)&&null!==window[t]&&"object"==typeof window[t])try{v(window[t])}catch(t){return!0}}catch(t){return!0}return!1}(),a=function keys(t){var e=null!==t&&"object"==typeof t,r="[object Function]"===y.call(t),n=h(t),o=e&&"[object String]"===y.call(t),a=[];if(!e&&!r&&!n)throw new TypeError("Object.keys called on a non-object");var i=g&&r;if(o&&0<t.length&&!f.call(t,0))for(var s=0;s<t.length;++s)a.push(String(s));if(n&&0<t.length)for(var c=0;c<t.length;++c)a.push(String(c));else for(var l in t)i&&"prototype"===l||!f.call(t,l)||a.push(String(l));if(d)for(var u=function(t){if("undefined"==typeof window||!b)return v(t);try{return v(t)}catch(t){return!1}}(t),p=0;p<P.length;++p)u&&"constructor"===P[p]||!f.call(t,P[p])||a.push(P[p]);return a}),t.exports=a},function(t,e,r){"use strict";var n=r(2),o=r(35),a=r(13),i=r(14),s=r(40),c=o(i(),Object);n(c,{getPolyfill:i,implementation:a,shim:s}),t.exports=c},function(t,e,r){"use strict";var n=Object.prototype.toString;t.exports=function isArguments(t){var e=n.call(t);return"[object Arguments]"===e||"[object Array]"!==e&&null!==t&&"object"==typeof t&&"number"==typeof t.length&&0<=t.length&&"[object Function]"===n.call(t.callee)}},function(t,e,r){"use strict";var n=r(0),o=r(37)("%Function%"),a=o.apply,i=o.call;t.exports=function callBind(){return n.apply(i,arguments)},t.exports.apply=function applyBind(){return n.apply(a,arguments)}},function(t,e,r){"use strict";var c=Array.prototype.slice,l=Object.prototype.toString;t.exports=function bind(e){var r=this;if("function"!=typeof r||"[object Function]"!==l.call(r))throw new TypeError("Function.prototype.bind called on incompatible "+r);for(var n,t,o=c.call(arguments,1),a=Math.max(0,r.length-o.length),i=[],s=0;s<a;s++)i.push("$"+s);return n=Function("binder","return function ("+i.join(",")+"){ return binder.apply(this,arguments); }")(function(){if(this instanceof n){var t=r.apply(this,o.concat(c.call(arguments)));return Object(t)===t?t:this}return r.apply(e,o.concat(c.call(arguments)))}),r.prototype&&((t=function Empty(){}).prototype=r.prototype,n.prototype=new t,t.prototype=null),n}},function(t,e,r){"use strict";var n,i=TypeError,s=Object.getOwnPropertyDescriptor;if(s)try{s({},"")}catch(t){s=null}function lm(){throw new i}var o=s?function(){try{return lm}catch(t){try{return s(arguments,"callee").get}catch(t){return lm}}}():lm,a=r(38)(),c=Object.getPrototypeOf||function(t){return t.__proto__},l=n,u=n,p=n,f=n,y="undefined"==typeof Uint8Array?n:c(Uint8Array),h={"%Array%":Array,"%ArrayBuffer%":"undefined"==typeof ArrayBuffer?n:ArrayBuffer,"%ArrayBufferPrototype%":"undefined"==typeof ArrayBuffer?n:ArrayBuffer.prototype,"%ArrayIteratorPrototype%":a?c([][Symbol.iterator]()):n,"%ArrayPrototype%":Array.prototype,"%ArrayProto_entries%":Array.prototype.entries,"%ArrayProto_forEach%":Array.prototype.forEach,"%ArrayProto_keys%":Array.prototype.keys,"%ArrayProto_values%":Array.prototype.values,"%AsyncFromSyncIteratorPrototype%":n,"%AsyncFunction%":u,"%AsyncFunctionPrototype%":n,"%AsyncGenerator%":n,"%AsyncGeneratorFunction%":p,"%AsyncGeneratorPrototype%":n,"%AsyncIteratorPrototype%":f&&a&&Symbol.asyncIterator?f[Symbol.asyncIterator]():n,"%Atomics%":"undefined"==typeof Atomics?n:Atomics,"%Boolean%":Boolean,"%BooleanPrototype%":Boolean.prototype,"%DataView%":"undefined"==typeof DataView?n:DataView,"%DataViewPrototype%":"undefined"==typeof DataView?n:DataView.prototype,"%Date%":Date,"%DatePrototype%":Date.prototype,"%decodeURI%":decodeURI,"%decodeURIComponent%":decodeURIComponent,"%encodeURI%":encodeURI,"%encodeURIComponent%":encodeURIComponent,"%Error%":Error,"%ErrorPrototype%":Error.prototype,"%eval%":eval,"%EvalError%":EvalError,"%EvalErrorPrototype%":EvalError.prototype,"%Float32Array%":"undefined"==typeof Float32Array?n:Float32Array,"%Float32ArrayPrototype%":"undefined"==typeof Float32Array?n:Float32Array.prototype,"%Float64Array%":"undefined"==typeof Float64Array?n:Float64Array,"%Float64ArrayPrototype%":"undefined"==typeof Float64Array?n:Float64Array.prototype,"%Function%":Function,"%FunctionPrototype%":Function.prototype,"%Generator%":n,"%GeneratorFunction%":l,"%GeneratorPrototype%":n,"%Int8Array%":"undefined"==typeof Int8Array?n:Int8Array,"%Int8ArrayPrototype%":"undefined"==typeof Int8Array?n:Int8Array.prototype,"%Int16Array%":"undefined"==typeof Int16Array?n:Int16Array,"%Int16ArrayPrototype%":"undefined"==typeof Int16Array?n:Int8Array.prototype,"%Int32Array%":"undefined"==typeof Int32Array?n:Int32Array,"%Int32ArrayPrototype%":"undefined"==typeof Int32Array?n:Int32Array.prototype,"%isFinite%":isFinite,"%isNaN%":isNaN,"%IteratorPrototype%":a?c(c([][Symbol.iterator]())):n,"%JSON%":"object"==typeof JSON?JSON:n,"%JSONParse%":"object"==typeof JSON?JSON.parse:n,"%Map%":"undefined"==typeof Map?n:Map,"%MapIteratorPrototype%":"undefined"!=typeof Map&&a?c((new Map)[Symbol.iterator]()):n,"%MapPrototype%":"undefined"==typeof Map?n:Map.prototype,"%Math%":Math,"%Number%":Number,"%NumberPrototype%":Number.prototype,"%Object%":Object,"%ObjectPrototype%":Object.prototype,"%ObjProto_toString%":Object.prototype.toString,"%ObjProto_valueOf%":Object.prototype.valueOf,"%parseFloat%":parseFloat,"%parseInt%":parseInt,"%Promise%":"undefined"==typeof Promise?n:Promise,"%PromisePrototype%":"undefined"==typeof Promise?n:Promise.prototype,"%PromiseProto_then%":"undefined"==typeof Promise?n:Promise.prototype.then,"%Promise_all%":"undefined"==typeof Promise?n:Promise.all,"%Promise_reject%":"undefined"==typeof Promise?n:Promise.reject,"%Promise_resolve%":"undefined"==typeof Promise?n:Promise.resolve,"%Proxy%":"undefined"==typeof Proxy?n:Proxy,"%RangeError%":RangeError,"%RangeErrorPrototype%":RangeError.prototype,"%ReferenceError%":ReferenceError,"%ReferenceErrorPrototype%":ReferenceError.prototype,"%Reflect%":"undefined"==typeof Reflect?n:Reflect,"%RegExp%":RegExp,"%RegExpPrototype%":RegExp.prototype,"%Set%":"undefined"==typeof Set?n:Set,"%SetIteratorPrototype%":"undefined"!=typeof Set&&a?c((new Set)[Symbol.iterator]()):n,"%SetPrototype%":"undefined"==typeof Set?n:Set.prototype,"%SharedArrayBuffer%":"undefined"==typeof SharedArrayBuffer?n:SharedArrayBuffer,"%SharedArrayBufferPrototype%":"undefined"==typeof SharedArrayBuffer?n:SharedArrayBuffer.prototype,"%String%":String,"%StringIteratorPrototype%":a?c(""[Symbol.iterator]()):n,"%StringPrototype%":String.prototype,"%Symbol%":a?Symbol:n,"%SymbolPrototype%":a?Symbol.prototype:n,"%SyntaxError%":SyntaxError,"%SyntaxErrorPrototype%":SyntaxError.prototype,"%ThrowTypeError%":o,"%TypedArray%":y,"%TypedArrayPrototype%":y?y.prototype:n,"%TypeError%":i,"%TypeErrorPrototype%":i.prototype,"%Uint8Array%":"undefined"==typeof Uint8Array?n:Uint8Array,"%Uint8ArrayPrototype%":"undefined"==typeof Uint8Array?n:Uint8Array.prototype,"%Uint8ClampedArray%":"undefined"==typeof Uint8ClampedArray?n:Uint8ClampedArray,"%Uint8ClampedArrayPrototype%":"undefined"==typeof Uint8ClampedArray?n:Uint8ClampedArray.prototype,"%Uint16Array%":"undefined"==typeof Uint16Array?n:Uint16Array,"%Uint16ArrayPrototype%":"undefined"==typeof Uint16Array?n:Uint16Array.prototype,"%Uint32Array%":"undefined"==typeof Uint32Array?n:Uint32Array,"%Uint32ArrayPrototype%":"undefined"==typeof Uint32Array?n:Uint32Array.prototype,"%URIError%":URIError,"%URIErrorPrototype%":URIError.prototype,"%WeakMap%":"undefined"==typeof WeakMap?n:WeakMap,"%WeakMapPrototype%":"undefined"==typeof WeakMap?n:WeakMap.prototype,"%WeakSet%":"undefined"==typeof WeakSet?n:WeakSet,"%WeakSetPrototype%":"undefined"==typeof WeakSet?n:WeakSet.prototype},d=r(0).call(Function.call,String.prototype.replace),g=/[^%.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|%$))/g,P=/\\(\\)?/g;t.exports=function GetIntrinsic(t,e){if("string"!=typeof t||0===t.length)throw new TypeError("intrinsic name must be a non-empty string");if(1<arguments.length&&"boolean"!=typeof e)throw new TypeError('"allowMissing" argument must be a boolean');for(var r=function stringToPath(t){var o=[];return d(t,g,function(t,e,r,n){o[o.length]=r?d(n,P,"$1"):e||t}),o}(t),n=function getBaseIntrinsic(t,e){if(!(t in h))throw new SyntaxError("intrinsic "+t+" does not exist!");if(void 0===h[t]&&!e)throw new i("intrinsic "+t+" exists, but is not available. Please file an issue!");return h[t]}("%"+(0<r.length?r[0]:"")+"%",e),o=1;o<r.length;o+=1)if(null!=n)if(s&&o+1>=r.length){var a=s(n,r[o]);if(!(e||r[o]in n))throw new i("base intrinsic for "+t+" exists, but the property is not available.");n=a?a.get||a.value:n[r[o]]}else n=n[r[o]];return n}},function(n,t,o){"use strict";(function(t){var e=t.Symbol,r=o(39);n.exports=function hasNativeSymbols(){return"function"==typeof e&&("function"==typeof Symbol&&("symbol"==typeof e("foo")&&("symbol"==typeof Symbol("bar")&&r())))}}).call(this,o(1))},function(t,e,r){"use strict";t.exports=function hasSymbols(){if("function"!=typeof Symbol||"function"!=typeof Object.getOwnPropertySymbols)return!1;if("symbol"==typeof Symbol.iterator)return!0;var t={},e=Symbol("test"),r=Object(e);if("string"==typeof e)return!1;if("[object Symbol]"!==Object.prototype.toString.call(e))return!1;if("[object Symbol]"!==Object.prototype.toString.call(r))return!1;for(e in t[e]=42,t)return!1;if("function"==typeof Object.keys&&0!==Object.keys(t).length)return!1;if("function"==typeof Object.getOwnPropertyNames&&0!==Object.getOwnPropertyNames(t).length)return!1;var n=Object.getOwnPropertySymbols(t);if(1!==n.length||n[0]!==e)return!1;if(!Object.prototype.propertyIsEnumerable.call(t,e))return!1;if("function"==typeof Object.getOwnPropertyDescriptor){var o=Object.getOwnPropertyDescriptor(t,e);if(42!==o.value||!0!==o.enumerable)return!1}return!0}},function(t,e,r){"use strict";var n=r(14),o=r(2);t.exports=function shimObjectIs(){var t=n();return o(Object,{is:t},{is:function testObjectIs(){return Object.is!==t}}),t}},function(t,e,r){"use strict";var n=r(42),o=RegExp.prototype.exec,a=Object.getOwnPropertyDescriptor,i=Object.prototype.toString,s="function"==typeof Symbol&&"symbol"==typeof Symbol.toStringTag;t.exports=function isRegex(t){if(!t||"object"!=typeof t)return!1;if(!s)return"[object RegExp]"===i.call(t);var e=a(t,"lastIndex");return!(!e||!n(e,"value"))&&function tryRegexExec(t){try{var e=t.lastIndex;return t.lastIndex=0,o.call(t),!0}catch(t){return!1}finally{t.lastIndex=e}}(t)}},function(t,e,r){"use strict";var n=r(0);t.exports=n.call(Function.call,Object.prototype.hasOwnProperty)},function(t,e,r){"use strict";var n=r(2),o=r(44),a=r(15),i=r(16),s=r(48),c=o(a);n(c,{getPolyfill:i,implementation:a,shim:s}),t.exports=c},function(t,e,r){"use strict";var n=r(0),o=r(45)("%Function%"),a=o.apply,i=o.call;t.exports=function callBind(){return n.apply(i,arguments)},t.exports.apply=function applyBind(){return n.apply(a,arguments)}},function(t,e,r){"use strict";var n,i=TypeError,s=Object.getOwnPropertyDescriptor;if(s)try{s({},"")}catch(t){s=null}function go(){throw new i}var o=s?function(){try{return go}catch(t){try{return s(arguments,"callee").get}catch(t){return go}}}():go,a=r(46)(),c=Object.getPrototypeOf||function(t){return t.__proto__},l=n,u=n,p=n,f=n,y="undefined"==typeof Uint8Array?n:c(Uint8Array),h={"%Array%":Array,"%ArrayBuffer%":"undefined"==typeof ArrayBuffer?n:ArrayBuffer,"%ArrayBufferPrototype%":"undefined"==typeof ArrayBuffer?n:ArrayBuffer.prototype,"%ArrayIteratorPrototype%":a?c([][Symbol.iterator]()):n,"%ArrayPrototype%":Array.prototype,"%ArrayProto_entries%":Array.prototype.entries,"%ArrayProto_forEach%":Array.prototype.forEach,"%ArrayProto_keys%":Array.prototype.keys,"%ArrayProto_values%":Array.prototype.values,"%AsyncFromSyncIteratorPrototype%":n,"%AsyncFunction%":u,"%AsyncFunctionPrototype%":n,"%AsyncGenerator%":n,"%AsyncGeneratorFunction%":p,"%AsyncGeneratorPrototype%":n,"%AsyncIteratorPrototype%":f&&a&&Symbol.asyncIterator?f[Symbol.asyncIterator]():n,"%Atomics%":"undefined"==typeof Atomics?n:Atomics,"%Boolean%":Boolean,"%BooleanPrototype%":Boolean.prototype,"%DataView%":"undefined"==typeof DataView?n:DataView,"%DataViewPrototype%":"undefined"==typeof DataView?n:DataView.prototype,"%Date%":Date,"%DatePrototype%":Date.prototype,"%decodeURI%":decodeURI,"%decodeURIComponent%":decodeURIComponent,"%encodeURI%":encodeURI,"%encodeURIComponent%":encodeURIComponent,"%Error%":Error,"%ErrorPrototype%":Error.prototype,"%eval%":eval,"%EvalError%":EvalError,"%EvalErrorPrototype%":EvalError.prototype,"%Float32Array%":"undefined"==typeof Float32Array?n:Float32Array,"%Float32ArrayPrototype%":"undefined"==typeof Float32Array?n:Float32Array.prototype,"%Float64Array%":"undefined"==typeof Float64Array?n:Float64Array,"%Float64ArrayPrototype%":"undefined"==typeof Float64Array?n:Float64Array.prototype,"%Function%":Function,"%FunctionPrototype%":Function.prototype,"%Generator%":n,"%GeneratorFunction%":l,"%GeneratorPrototype%":n,"%Int8Array%":"undefined"==typeof Int8Array?n:Int8Array,"%Int8ArrayPrototype%":"undefined"==typeof Int8Array?n:Int8Array.prototype,"%Int16Array%":"undefined"==typeof Int16Array?n:Int16Array,"%Int16ArrayPrototype%":"undefined"==typeof Int16Array?n:Int8Array.prototype,"%Int32Array%":"undefined"==typeof Int32Array?n:Int32Array,"%Int32ArrayPrototype%":"undefined"==typeof Int32Array?n:Int32Array.prototype,"%isFinite%":isFinite,"%isNaN%":isNaN,"%IteratorPrototype%":a?c(c([][Symbol.iterator]())):n,"%JSON%":"object"==typeof JSON?JSON:n,"%JSONParse%":"object"==typeof JSON?JSON.parse:n,"%Map%":"undefined"==typeof Map?n:Map,"%MapIteratorPrototype%":"undefined"!=typeof Map&&a?c((new Map)[Symbol.iterator]()):n,"%MapPrototype%":"undefined"==typeof Map?n:Map.prototype,"%Math%":Math,"%Number%":Number,"%NumberPrototype%":Number.prototype,"%Object%":Object,"%ObjectPrototype%":Object.prototype,"%ObjProto_toString%":Object.prototype.toString,"%ObjProto_valueOf%":Object.prototype.valueOf,"%parseFloat%":parseFloat,"%parseInt%":parseInt,"%Promise%":"undefined"==typeof Promise?n:Promise,"%PromisePrototype%":"undefined"==typeof Promise?n:Promise.prototype,"%PromiseProto_then%":"undefined"==typeof Promise?n:Promise.prototype.then,"%Promise_all%":"undefined"==typeof Promise?n:Promise.all,"%Promise_reject%":"undefined"==typeof Promise?n:Promise.reject,"%Promise_resolve%":"undefined"==typeof Promise?n:Promise.resolve,"%Proxy%":"undefined"==typeof Proxy?n:Proxy,"%RangeError%":RangeError,"%RangeErrorPrototype%":RangeError.prototype,"%ReferenceError%":ReferenceError,"%ReferenceErrorPrototype%":ReferenceError.prototype,"%Reflect%":"undefined"==typeof Reflect?n:Reflect,"%RegExp%":RegExp,"%RegExpPrototype%":RegExp.prototype,"%Set%":"undefined"==typeof Set?n:Set,"%SetIteratorPrototype%":"undefined"!=typeof Set&&a?c((new Set)[Symbol.iterator]()):n,"%SetPrototype%":"undefined"==typeof Set?n:Set.prototype,"%SharedArrayBuffer%":"undefined"==typeof SharedArrayBuffer?n:SharedArrayBuffer,"%SharedArrayBufferPrototype%":"undefined"==typeof SharedArrayBuffer?n:SharedArrayBuffer.prototype,"%String%":String,"%StringIteratorPrototype%":a?c(""[Symbol.iterator]()):n,"%StringPrototype%":String.prototype,"%Symbol%":a?Symbol:n,"%SymbolPrototype%":a?Symbol.prototype:n,"%SyntaxError%":SyntaxError,"%SyntaxErrorPrototype%":SyntaxError.prototype,"%ThrowTypeError%":o,"%TypedArray%":y,"%TypedArrayPrototype%":y?y.prototype:n,"%TypeError%":i,"%TypeErrorPrototype%":i.prototype,"%Uint8Array%":"undefined"==typeof Uint8Array?n:Uint8Array,"%Uint8ArrayPrototype%":"undefined"==typeof Uint8Array?n:Uint8Array.prototype,"%Uint8ClampedArray%":"undefined"==typeof Uint8ClampedArray?n:Uint8ClampedArray,"%Uint8ClampedArrayPrototype%":"undefined"==typeof Uint8ClampedArray?n:Uint8ClampedArray.prototype,"%Uint16Array%":"undefined"==typeof Uint16Array?n:Uint16Array,"%Uint16ArrayPrototype%":"undefined"==typeof Uint16Array?n:Uint16Array.prototype,"%Uint32Array%":"undefined"==typeof Uint32Array?n:Uint32Array,"%Uint32ArrayPrototype%":"undefined"==typeof Uint32Array?n:Uint32Array.prototype,"%URIError%":URIError,"%URIErrorPrototype%":URIError.prototype,"%WeakMap%":"undefined"==typeof WeakMap?n:WeakMap,"%WeakMapPrototype%":"undefined"==typeof WeakMap?n:WeakMap.prototype,"%WeakSet%":"undefined"==typeof WeakSet?n:WeakSet,"%WeakSetPrototype%":"undefined"==typeof WeakSet?n:WeakSet.prototype},d=r(0).call(Function.call,String.prototype.replace),g=/[^%.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|%$))/g,P=/\\(\\)?/g;t.exports=function GetIntrinsic(t,e){if("string"!=typeof t||0===t.length)throw new TypeError("intrinsic name must be a non-empty string");if(1<arguments.length&&"boolean"!=typeof e)throw new TypeError('"allowMissing" argument must be a boolean');for(var r=function stringToPath(t){var o=[];return d(t,g,function(t,e,r,n){o[o.length]=r?d(n,P,"$1"):e||t}),o}(t),n=function getBaseIntrinsic(t,e){if(!(t in h))throw new SyntaxError("intrinsic "+t+" does not exist!");if(void 0===h[t]&&!e)throw new i("intrinsic "+t+" exists, but is not available. Please file an issue!");return h[t]}("%"+(0<r.length?r[0]:"")+"%",e),o=1;o<r.length;o+=1)if(null!=n)if(s&&o+1>=r.length){var a=s(n,r[o]);if(!(e||r[o]in n))throw new i("base intrinsic for "+t+" exists, but the property is not available.");n=a?a.get||a.value:n[r[o]]}else n=n[r[o]];return n}},function(n,t,o){"use strict";(function(t){var e=t.Symbol,r=o(47);n.exports=function hasNativeSymbols(){return"function"==typeof e&&("function"==typeof Symbol&&("symbol"==typeof e("foo")&&("symbol"==typeof Symbol("bar")&&r())))}}).call(this,o(1))},function(t,e,r){"use strict";t.exports=function hasSymbols(){if("function"!=typeof Symbol||"function"!=typeof Object.getOwnPropertySymbols)return!1;if("symbol"==typeof Symbol.iterator)return!0;var t={},e=Symbol("test"),r=Object(e);if("string"==typeof e)return!1;if("[object Symbol]"!==Object.prototype.toString.call(e))return!1;if("[object Symbol]"!==Object.prototype.toString.call(r))return!1;for(e in t[e]=42,t)return!1;if("function"==typeof Object.keys&&0!==Object.keys(t).length)return!1;if("function"==typeof Object.getOwnPropertyNames&&0!==Object.getOwnPropertyNames(t).length)return!1;var n=Object.getOwnPropertySymbols(t);if(1!==n.length||n[0]!==e)return!1;if(!Object.prototype.propertyIsEnumerable.call(t,e))return!1;if("function"==typeof Object.getOwnPropertyDescriptor){var o=Object.getOwnPropertyDescriptor(t,e);if(42!==o.value||!0!==o.enumerable)return!1}return!0}},function(t,e,r){"use strict";var n=r(2).supportsDescriptors,o=r(16),a=Object.getOwnPropertyDescriptor,i=Object.defineProperty,s=TypeError,c=Object.getPrototypeOf,l=/a/;t.exports=function shimFlags(){if(!n||!c)throw new s("RegExp.prototype.flags requires a true ES5 environment that supports property descriptors");var t=o(),e=c(l),r=a(e,"flags");return r&&r.get===t||i(e,"flags",{configurable:!0,enumerable:!1,get:t}),t}},function(t,e){var r={}.toString;t.exports=Array.isArray||function(t){return"[object Array]"==r.call(t)}},function(t,e,r){"use strict";var n=Date.prototype.getDay,o=Object.prototype.toString,a="function"==typeof Symbol&&"symbol"==typeof Symbol.toStringTag;t.exports=function isDateObject(t){return"object"==typeof t&&null!==t&&(a?function tryDateGetDayCall(t){try{return n.call(t),!0}catch(t){return!1}}(t):"[object Date]"===o.call(t))}},function(t,e,r){"use strict";var n=r(17),o=r(52),a=r(53),i=r(54),s=r(56);t.exports=function whichBoxedPrimitive(t){return null==t||"object"!=typeof t&&"function"!=typeof t?null:n(t)?"String":o(t)?"Number":a(t)?"Boolean":i(t)?"Symbol":s(t)?"BigInt":void 0}},function(t,e,r){"use strict";var n=Number.prototype.toString,o=Object.prototype.toString,a="function"==typeof Symbol&&"symbol"==typeof Symbol.toStringTag;t.exports=function isNumberObject(t){return"number"==typeof t||"object"==typeof t&&(a?function tryNumberObject(t){try{return n.call(t),!0}catch(t){return!1}}(t):"[object Number]"===o.call(t))}},function(t,e,r){"use strict";var n=Boolean.prototype.toString,o=Object.prototype.toString,a="function"==typeof Symbol&&"symbol"==typeof Symbol.toStringTag;t.exports=function isBoolean(t){return"boolean"==typeof t||null!==t&&"object"==typeof t&&(a&&Symbol.toStringTag in t?function booleanBrandCheck(t){try{return n.call(t),!0}catch(t){return!1}}(t):"[object Boolean]"===o.call(t))}},function(t,e,r){"use strict";var n,o,a=Object.prototype.toString;r(55)()?(n=Symbol.prototype.toString,o=/^Symbol\(.*\)$/,t.exports=function isSymbol(t){if("symbol"==typeof t)return!0;if("[object Symbol]"!==a.call(t))return!1;try{return function isRealSymbolObject(t){return"symbol"==typeof t.valueOf()&&o.test(n.call(t))}(t)}catch(t){return!1}}):t.exports=function isSymbol(){return!1}},function(n,t,o){"use strict";(function(t){var e=t.Symbol,r=o(18);n.exports=function hasNativeSymbols(){return"function"==typeof e&&("function"==typeof Symbol&&("symbol"==typeof e("foo")&&("symbol"==typeof Symbol("bar")&&r())))}}).call(this,o(1))},function(t,e,r){"use strict";var n;"function"==typeof BigInt?(n=BigInt.prototype.valueOf,t.exports=function isBigInt(t){return null!=t&&"boolean"!=typeof t&&"string"!=typeof t&&"number"!=typeof t&&"symbol"!=typeof t&&"function"!=typeof t&&("bigint"==typeof t||function tryBigIntObject(t){try{return n.call(t),!0}catch(t){}return!1}(t))}):t.exports=function isBigInt(){return!1}},function(n,t,o){"use strict";(function(t){var e=t.Symbol,r=o(58);n.exports=function hasNativeSymbols(){return"function"==typeof e&&("function"==typeof Symbol&&("symbol"==typeof e("foo")&&("symbol"==typeof Symbol("bar")&&r())))}}).call(this,o(1))},function(t,e,r){"use strict";t.exports=function hasSymbols(){if("function"!=typeof Symbol||"function"!=typeof Object.getOwnPropertySymbols)return!1;if("symbol"==typeof Symbol.iterator)return!0;var t={},e=Symbol("test"),r=Object(e);if("string"==typeof e)return!1;if("[object Symbol]"!==Object.prototype.toString.call(e))return!1;if("[object Symbol]"!==Object.prototype.toString.call(r))return!1;for(e in t[e]=42,t)return!1;if("function"==typeof Object.keys&&0!==Object.keys(t).length)return!1;if("function"==typeof Object.getOwnPropertyNames&&0!==Object.getOwnPropertyNames(t).length)return!1;var n=Object.getOwnPropertySymbols(t);if(1!==n.length||n[0]!==e)return!1;if(!Object.prototype.propertyIsEnumerable.call(t,e))return!1;if("function"==typeof Object.getOwnPropertyDescriptor){var o=Object.getOwnPropertyDescriptor(t,e);if(42!==o.value||!0!==o.enumerable)return!1}return!0}},function(t,e,r){"use strict";var n=r(4),o=r(60),a=o(n("String.prototype.indexOf"));t.exports=function callBoundIntrinsic(t,e){var r=n(t,!!e);return"function"==typeof r&&a(t,".prototype.")?o(r):r}},function(t,e,r){"use strict";var n=r(0),o=r(4)("%Function%"),a=o.apply,i=o.call;t.exports=function callBind(){return n.apply(i,arguments)},t.exports.apply=function applyBind(){return n.apply(a,arguments)}},function(t,e,r){"use strict";var n=r(19),o=r(20),a=r(62),i=r(63);t.exports=function whichCollection(t){if(t&&"object"==typeof t){if(n(t))return"Map";if(o(t))return"Set";if(a(t))return"WeakMap";if(i(t))return"WeakSet"}return!1}},function(t,e,r){"use strict";var n,o="function"==typeof WeakMap&&WeakMap.prototype?WeakMap:null,a="function"==typeof WeakSet&&WeakSet.prototype?WeakSet:null;o||(n=function isWeakMap(){return!1});var i=o?o.prototype.has:null,s=a?a.prototype.has:null;n||i||(n=function isWeakMap(){return!1}),t.exports=n||function isWeakMap(t){if(!t||"object"!=typeof t)return!1;try{if(i.call(t,i),s)try{s.call(t,s)}catch(t){return!0}return t instanceof o}catch(t){}return!1}},function(t,e,r){"use strict";var n,o="function"==typeof WeakMap&&WeakMap.prototype?WeakMap:null,a="function"==typeof WeakSet&&WeakSet.prototype?WeakSet:null;o||(n=function isWeakSet(){return!1});var i=o?o.prototype.has:null,s=a?a.prototype.has:null;n||s||(t.exports=function isWeakSet(){return!1}),t.exports=n||function isWeakSet(t){if(!t||"object"!=typeof t)return!1;try{if(s.call(t,s),i)try{i.call(t,i)}catch(t){return!0}return t instanceof a}catch(t){}return!1}},function(k,t,C){"use strict";(function(t){var e,o,a,r,n,i,s,c,l,u,p,f,y,h,d,g,P,v,b,_,m,S=C(11);C(21)()||C(22)()?(e=Symbol.iterator,k.exports=function getIterator(t){return null!=t&&void 0!==t[e]?t[e]():S(t)?Array.prototype[e].call(t):void 0}):(o=C(66),a=C(17),n=(r=C(5))("%Map%",!0),i=r("%Set%",!0),s=C(67),c=s("Array.prototype.push"),l=s("String.prototype.charCodeAt"),u=s("String.prototype.slice"),p=function getArrayIterator(r){var n=0;return{next:function next(){var t,e=n>=r.length;return e||(t=r[n],n+=1),{done:e,value:t}}}},f=function getNonCollectionIterator(r){if(o(r)||S(r))return p(r);if(a(r)){var n=0;return{next:function next(){var t=function advanceStringIndex(t,e){if(t.length<=e+1)return e+1;var r=l(t,e);if(r<55296||56319<r)return e+1;var n=l(t,e+1);return n<56320||57343<n?e+1:e+2}(r,n),e=u(r,n,t);return{done:(n=t)>r.length,value:e}}}}},n||i?(y=C(19),h=C(20),d=s("Map.prototype.forEach",!0),g=s("Set.prototype.forEach",!0),void 0!==t&&t.versions&&t.versions.node||(P=s("Map.prototype.iterator",!0),v=s("Set.prototype.iterator",!0),b=function(t){var e=!1;return{next:function next(){try{return{done:e,value:e?void 0:t.next()}}catch(t){return{done:e=!0,value:void 0}}}}}),_=s("Map.prototype.@@iterator",!0)||s("Map.prototype._es6-shim iterator_",!0),m=s("Set.prototype.@@iterator",!0)||s("Set.prototype._es6-shim iterator_",!0),k.exports=function getIterator(t){return function getCollectionIterator(t){if(y(t)){if(P)return b(P(t));if(_)return _(t);if(d){var r=[];return d(t,function(t,e){c(r,[e,t])}),p(r)}}if(h(t)){if(v)return b(v(t));if(m)return m(t);if(g){var e=[];return g(t,function(t){c(e,t)}),p(e)}}}(t)||f(t)}):k.exports=f)}).call(this,C(65))},function(t,e){var r,n,o=t.exports={};function defaultSetTimout(){throw new Error("setTimeout has not been defined")}function defaultClearTimeout(){throw new Error("clearTimeout has not been defined")}function runTimeout(e){if(r===setTimeout)return setTimeout(e,0);if((r===defaultSetTimout||!r)&&setTimeout)return r=setTimeout,setTimeout(e,0);try{return r(e,0)}catch(t){try{return r.call(null,e,0)}catch(t){return r.call(this,e,0)}}}!function(){try{r="function"==typeof setTimeout?setTimeout:defaultSetTimout}catch(t){r=defaultSetTimout}try{n="function"==typeof clearTimeout?clearTimeout:defaultClearTimeout}catch(t){n=defaultClearTimeout}}();var a,i=[],s=!1,c=-1;function cleanUpNextTick(){s&&a&&(s=!1,a.length?i=a.concat(i):c=-1,i.length&&drainQueue())}function drainQueue(){if(!s){var t=runTimeout(cleanUpNextTick);s=!0;for(var e=i.length;e;){for(a=i,i=[];++c<e;)a&&a[c].run();c=-1,e=i.length}a=null,s=!1,function runClearTimeout(e){if(n===clearTimeout)return clearTimeout(e);if((n===defaultClearTimeout||!n)&&clearTimeout)return n=clearTimeout,clearTimeout(e);try{n(e)}catch(t){try{return n.call(null,e)}catch(t){return n.call(this,e)}}}(t)}}function Item(t,e){this.fun=t,this.array=e}function noop(){}o.nextTick=function(t){var e=new Array(arguments.length-1);if(1<arguments.length)for(var r=1;r<arguments.length;r++)e[r-1]=arguments[r];i.push(new Item(t,e)),1!==i.length||s||runTimeout(drainQueue)},Item.prototype.run=function(){this.fun.apply(null,this.array)},o.title="browser",o.browser=!0,o.env={},o.argv=[],o.version="",o.versions={},o.on=noop,o.addListener=noop,o.once=noop,o.off=noop,o.removeListener=noop,o.removeAllListeners=noop,o.emit=noop,o.prependListener=noop,o.prependOnceListener=noop,o.listeners=function(t){return[]},o.binding=function(t){throw new Error("process.binding is not supported")},o.cwd=function(){return"/"},o.chdir=function(t){throw new Error("process.chdir is not supported")},o.umask=function(){return 0}},function(t,e){var r={}.toString;t.exports=Array.isArray||function(t){return"[object Array]"==r.call(t)}},function(t,e,r){"use strict";var n=r(5),o=r(68),a=o(n("String.prototype.indexOf"));t.exports=function callBoundIntrinsic(t,e){var r=n(t,!!e);return"function"==typeof r&&a(t,".prototype.")?o(r):r}},function(t,e,r){"use strict";var n=r(0),o=r(5)("%Function%"),a=o.apply,i=o.call;t.exports=function callBind(){return n.apply(i,arguments)},t.exports.apply=function applyBind(){return n.apply(a,arguments)}},function(t,e,r){"use strict";var n=r(6),o=r(72),a=r(74),i=n("%TypeError%"),s=n("%WeakMap%",!0),c=n("%Map%",!0),l=o("Array.prototype.push"),u=o("WeakMap.prototype.get",!0),p=o("WeakMap.prototype.set",!0),f=o("WeakMap.prototype.has",!0),y=o("Map.prototype.get",!0),h=o("Map.prototype.set",!0),d=o("Map.prototype.has",!0);t.exports=function getSideChannel(){var r,n,o,e={assert:function(t){if(!e.has(t))throw new i("Side channel does not contain "+a(t))},get:function(t){if(s&&t&&("object"==typeof t||"function"==typeof t)){if(r)return u(r,t)}else if(c){if(n)return y(n,t)}else if(o)return function(t,e){for(var r=0;r<t.length;r+=1)if(t[r].key===e)return t[r].value}(o,t)},has:function(t){if(s&&t&&("object"==typeof t||"function"==typeof t)){if(r)return f(r,t)}else if(c){if(n)return d(n,t)}else if(o)return function(t,e){for(var r=0;r<t.length;r+=1)if(t[r].key===e)return!0;return!1}(o,t);return!1},set:function(t,e){s&&t&&("object"==typeof t||"function"==typeof t)?(r=r||new s,p(r,t,e)):c?(n=n||new c,h(n,t,e)):function(t,e,r){for(var n=0;n<t.length;n+=1)if(t[n].key===e)return t[n].value=r;l(t,{key:e,value:r})}(o=o||[],t,e)}};return e}},function(n,t,o){"use strict";(function(t){var e=t.Symbol,r=o(71);n.exports=function hasNativeSymbols(){return"function"==typeof e&&("function"==typeof Symbol&&("symbol"==typeof e("foo")&&("symbol"==typeof Symbol("bar")&&r())))}}).call(this,o(1))},function(t,e,r){"use strict";t.exports=function hasSymbols(){if("function"!=typeof Symbol||"function"!=typeof Object.getOwnPropertySymbols)return!1;if("symbol"==typeof Symbol.iterator)return!0;var t={},e=Symbol("test"),r=Object(e);if("string"==typeof e)return!1;if("[object Symbol]"!==Object.prototype.toString.call(e))return!1;if("[object Symbol]"!==Object.prototype.toString.call(r))return!1;for(e in t[e]=42,t)return!1;if("function"==typeof Object.keys&&0!==Object.keys(t).length)return!1;if("function"==typeof Object.getOwnPropertyNames&&0!==Object.getOwnPropertyNames(t).length)return!1;var n=Object.getOwnPropertySymbols(t);if(1!==n.length||n[0]!==e)return!1;if(!Object.prototype.propertyIsEnumerable.call(t,e))return!1;if("function"==typeof Object.getOwnPropertyDescriptor){var o=Object.getOwnPropertyDescriptor(t,e);if(42!==o.value||!0!==o.enumerable)return!1}return!0}},function(t,e,r){"use strict";var n=r(6),o=r(73),a=o(n("String.prototype.indexOf"));t.exports=function callBoundIntrinsic(t,e){var r=n(t,!!e);return"function"==typeof r&&a(t,".prototype.")?o(r):r}},function(t,e,r){"use strict";var n=r(0),o=r(6)("%Function%"),a=o.apply,i=o.call;t.exports=function callBind(){return n.apply(i,arguments)},t.exports.apply=function applyBind(){return n.apply(a,arguments)}},function(t,e,r){var n="function"==typeof Map&&Map.prototype,o=Object.getOwnPropertyDescriptor&&n?Object.getOwnPropertyDescriptor(Map.prototype,"size"):null,d=n&&o&&"function"==typeof o.get?o.get:null,g=n&&Map.prototype.forEach,a="function"==typeof Set&&Set.prototype,i=Object.getOwnPropertyDescriptor&&a?Object.getOwnPropertyDescriptor(Set.prototype,"size"):null,P=a&&i&&"function"==typeof i.get?i.get:null,v=a&&Set.prototype.forEach,b="function"==typeof WeakMap&&WeakMap.prototype?WeakMap.prototype.has:null,_="function"==typeof WeakSet&&WeakSet.prototype?WeakSet.prototype.has:null,m=Boolean.prototype.valueOf,s=Object.prototype.toString,S=String.prototype.match,k="function"==typeof BigInt?BigInt.prototype.valueOf:null,c=r(75).custom,C=c&&isSymbol(c)?c:null;function wrapQuotes(t,e,r){var n="double"===(r.quoteStyle||e)?'"':"'";return n+t+n}function isArray(t){return"[object Array]"===toStr(t)}function isSymbol(t){return"[object Symbol]"===toStr(t)}t.exports=function inspect_(r,t,n,o){var a=t||{};if(has(a,"quoteStyle")&&"single"!==a.quoteStyle&&"double"!==a.quoteStyle)throw new TypeError('option "quoteStyle" must be "single" or "double"');if(void 0===r)return"undefined";if(null===r)return"null";if("boolean"==typeof r)return r?"true":"false";if("string"==typeof r)return function inspectString(t,e){return wrapQuotes(t.replace(/(['\\])/g,"\\$1").replace(/[\x00-\x1f]/g,lowbyte),"single",e)}(r,a);if("number"==typeof r)return 0===r?0<1/0/r?"0":"-0":String(r);if("bigint"==typeof r)return String(r)+"n";var e=void 0===a.depth?5:a.depth;if(void 0===n&&(n=0),e<=n&&0<e&&"object"==typeof r)return"[Object]";if(void 0===o)o=[];else if(0<=function indexOf(t,e){if(t.indexOf)return t.indexOf(e);for(var r=0,n=t.length;r<n;r++)if(t[r]===e)return r;return-1}(o,r))return"[Circular]";function inspect(t,e){return e&&(o=o.slice()).push(e),inspect_(t,a,n+1,o)}if("function"==typeof r){var i=function nameOf(t){if(t.name)return t.name;var e=S.call(t,/^function\s*([\w$]+)/);if(e)return e[1];return null}(r);return"[Function"+(i?": "+i:"")+"]"}if(isSymbol(r)){var s=Symbol.prototype.toString.call(r);return"object"==typeof r?markBoxed(s):s}if(function isElement(t){if(!t||"object"!=typeof t)return!1;if("undefined"!=typeof HTMLElement&&t instanceof HTMLElement)return!0;return"string"==typeof t.nodeName&&"function"==typeof t.getAttribute}(r)){for(var c="<"+String(r.nodeName).toLowerCase(),l=r.attributes||[],u=0;u<l.length;u++)c+=" "+l[u].name+"="+wrapQuotes(function quote(t){return String(t).replace(/"/g,"&quot;")}(l[u].value),"double",a);return c+=">",r.childNodes&&r.childNodes.length&&(c+="..."),c+="</"+String(r.nodeName).toLowerCase()+">"}if(isArray(r))return 0===r.length?"[]":"[ "+arrObjKeys(r,inspect).join(", ")+" ]";if(function isError(t){return"[object Error]"===toStr(t)}(r)){var p=arrObjKeys(r,inspect);return 0===p.length?"["+String(r)+"]":"{ ["+String(r)+"] "+p.join(", ")+" }"}if("object"==typeof r){if(C&&"function"==typeof r[C])return r[C]();if("function"==typeof r.inspect)return r.inspect()}if(function isMap(t){if(!d||!t||"object"!=typeof t)return!1;try{d.call(t);try{P.call(t)}catch(t){return!0}return t instanceof Map}catch(t){}return!1}(r)){var f=[];return g.call(r,function(t,e){f.push(inspect(e,r)+" => "+inspect(t,r))}),collectionOf("Map",d.call(r),f)}if(function isSet(t){if(!P||!t||"object"!=typeof t)return!1;try{P.call(t);try{d.call(t)}catch(t){return!0}return t instanceof Set}catch(t){}return!1}(r)){var y=[];return v.call(r,function(t){y.push(inspect(t,r))}),collectionOf("Set",P.call(r),y)}if(function isWeakMap(t){if(!b||!t||"object"!=typeof t)return!1;try{b.call(t,b);try{_.call(t,_)}catch(t){return!0}return t instanceof WeakMap}catch(t){}return!1}(r))return"WeakMap { ? }";if(function isWeakSet(t){if(!_||!t||"object"!=typeof t)return!1;try{_.call(t,_);try{b.call(t,b)}catch(t){return!0}return t instanceof WeakSet}catch(t){}return!1}(r))return"WeakSet { ? }";if(function isNumber(t){return"[object Number]"===toStr(t)}(r))return markBoxed(inspect(Number(r)));if(function isBigInt(t){return"[object BigInt]"===toStr(t)}(r))return markBoxed(inspect(k.call(r)));if(function isBoolean(t){return"[object Boolean]"===toStr(t)}(r))return markBoxed(m.call(r));if(function isString(t){return"[object String]"===toStr(t)}(r))return markBoxed(inspect(String(r)));if(function isDate(t){return"[object Date]"===toStr(t)}(r)||function isRegExp(t){return"[object RegExp]"===toStr(t)}(r))return String(r);var h=arrObjKeys(r,inspect);return 0===h.length?"{}":"{ "+h.join(", ")+" }"};var l=Object.prototype.hasOwnProperty||function(t){return t in this};function has(t,e){return l.call(t,e)}function toStr(t){return s.call(t)}function lowbyte(t){var e=t.charCodeAt(0),r={8:"b",9:"t",10:"n",12:"f",13:"r"}[e];return r?"\\"+r:"\\x"+(e<16?"0":"")+e.toString(16)}function markBoxed(t){return"Object("+t+")"}function collectionOf(t,e,r){return t+" ("+e+") {"+r.join(", ")+"}"}function arrObjKeys(t,e){var r=isArray(t),n=[];if(r){n.length=t.length;for(var o=0;o<t.length;o++)n[o]=has(t,o)?e(t[o],t):""}for(var a in t)has(t,a)&&(r&&String(Number(a))===a&&a<t.length||(/[^\w$]/.test(a)?n.push(e(a,t)+": "+e(t[a],t)):n.push(a+": "+e(t[a],t))));return n}},function(t,e){},function(f,t,y){"use strict";(function(a){var e=y(23),t=y(24),r=y(78),n=r("Object.prototype.toString"),o=y(25)()&&"symbol"==typeof Symbol.toStringTag,i=t(),s=r("String.prototype.slice"),c={},l=y(81),u=Object.getPrototypeOf;o&&l&&u&&e(i,function(t){if("function"==typeof a[t]){var e=new a[t];if(!(Symbol.toStringTag in e))throw new EvalError("this engine has support for Symbol.toStringTag, but "+t+" does not have the property! Please report this.");var r,n=u(e),o=l(n,Symbol.toStringTag);o||(r=u(n),o=l(r,Symbol.toStringTag)),c[t]=o.get}});var p=y(82);f.exports=function whichTypedArray(t){return!!p(t)&&(o?function tryAllTypedArrays(n){var o=!1;return e(c,function(t,e){if(!o)try{var r=t.call(n);r===e&&(o=r)}catch(t){}}),o}(t):s(n(t),8,-1))}}).call(this,y(1))},function(t,e){t.exports=function(t,e,r){if(t.filter)return t.filter(e,r);if(null==t)throw new TypeError;if("function"!=typeof e)throw new TypeError;for(var n,o=[],a=0;a<t.length;a++){i.call(t,a)&&(n=t[a],e.call(r,n,a,t)&&o.push(n))}return o};var i=Object.prototype.hasOwnProperty},function(t,e,r){"use strict";var n=r(7),o=r(80),a=o(n("String.prototype.indexOf"));t.exports=function callBoundIntrinsic(t,e){var r=n(t,!!e);return"function"==typeof r&&a(t,".prototype.")?o(r):r}},function(t,e,r){"use strict";t.exports=function hasSymbols(){if("function"!=typeof Symbol||"function"!=typeof Object.getOwnPropertySymbols)return!1;if("symbol"==typeof Symbol.iterator)return!0;var t={},e=Symbol("test"),r=Object(e);if("string"==typeof e)return!1;if("[object Symbol]"!==Object.prototype.toString.call(e))return!1;if("[object Symbol]"!==Object.prototype.toString.call(r))return!1;for(e in t[e]=42,t)return!1;if("function"==typeof Object.keys&&0!==Object.keys(t).length)return!1;if("function"==typeof Object.getOwnPropertyNames&&0!==Object.getOwnPropertyNames(t).length)return!1;var n=Object.getOwnPropertySymbols(t);if(1!==n.length||n[0]!==e)return!1;if(!Object.prototype.propertyIsEnumerable.call(t,e))return!1;if("function"==typeof Object.getOwnPropertyDescriptor){var o=Object.getOwnPropertyDescriptor(t,e);if(42!==o.value||!0!==o.enumerable)return!1}return!0}},function(t,e,r){"use strict";var n=r(0),o=r(7)("%Function%"),a=o.apply,i=o.call;t.exports=function callBind(){return n.apply(i,arguments)},t.exports.apply=function applyBind(){return n.apply(a,arguments)}},function(t,e,r){"use strict";var n=r(7)("%Object.getOwnPropertyDescriptor%");if(n)try{n([],"length")}catch(t){n=null}t.exports=n},function(f,t,y){"use strict";(function(a){var o=y(23),t=y(24),e=y(83),r=e("Object.prototype.toString"),n=y(26)()&&"symbol"==typeof Symbol.toStringTag,i=t(),s=e("Array.prototype.indexOf",!0)||function indexOf(t,e){for(var r=0;r<t.length;r+=1)if(t[r]===e)return r;return-1},c=e("String.prototype.slice"),l={},u=y(86),p=Object.getPrototypeOf;n&&u&&p&&o(i,function(t){var e=new a[t];if(!(Symbol.toStringTag in e))throw new EvalError("this engine has support for Symbol.toStringTag, but "+t+" does not have the property! Please report this.");var r,n=p(e),o=u(n,Symbol.toStringTag);o||(r=p(n),o=u(r,Symbol.toStringTag)),l[t]=o.get});f.exports=function isTypedArray(t){if(!t||"object"!=typeof t)return!1;if(n)return!!u&&function tryAllTypedArrays(r){var n=!1;return o(l,function(t,e){if(!n)try{n=t.call(r)===e}catch(t){}}),n}(t);var e=c(r(t),8,-1);return-1<s(i,e)}}).call(this,y(1))},function(t,e,r){"use strict";var n=r(8),o=r(85),a=o(n("String.prototype.indexOf"));t.exports=function callBoundIntrinsic(t,e){var r=n(t,!!e);return"function"==typeof r&&a(t,".prototype.")?o(r):r}},function(t,e,r){"use strict";t.exports=function hasSymbols(){if("function"!=typeof Symbol||"function"!=typeof Object.getOwnPropertySymbols)return!1;if("symbol"==typeof Symbol.iterator)return!0;var t={},e=Symbol("test"),r=Object(e);if("string"==typeof e)return!1;if("[object Symbol]"!==Object.prototype.toString.call(e))return!1;if("[object Symbol]"!==Object.prototype.toString.call(r))return!1;for(e in t[e]=42,t)return!1;if("function"==typeof Object.keys&&0!==Object.keys(t).length)return!1;if("function"==typeof Object.getOwnPropertyNames&&0!==Object.getOwnPropertyNames(t).length)return!1;var n=Object.getOwnPropertySymbols(t);if(1!==n.length||n[0]!==e)return!1;if(!Object.prototype.propertyIsEnumerable.call(t,e))return!1;if("function"==typeof Object.getOwnPropertyDescriptor){var o=Object.getOwnPropertyDescriptor(t,e);if(42!==o.value||!0!==o.enumerable)return!1}return!0}},function(t,e,r){"use strict";var n=r(0),o=r(8)("%Function%"),a=o.apply,i=o.call;t.exports=function callBind(){return n.apply(i,arguments)},t.exports.apply=function applyBind(){return n.apply(a,arguments)}},function(t,e,r){"use strict";var n=r(8)("%Object.getOwnPropertyDescriptor%");if(n)try{n([],"length")}catch(t){n=null}t.exports=n},function(t,e,r){"use strict";var n=r(2),o=r(27),a=r(28),i=r(88),s=a();n(s,{getPolyfill:a,implementation:o,shim:i}),t.exports=s},function(t,e,r){"use strict";var n=r(2),o=r(28);t.exports=function shimAssign(){var t=o();return n(Object,{assign:t},{assign:function(){return Object.assign!==t}}),t}},function(t,e){function noop(){}var n=function detectEval(){if("undefined"!=typeof chrome&&chrome.app&&chrome.app.runtime)return!1;if("undefined"!=typeof navigator&&navigator.getDeviceStorage)return!1;try{return new Function("","return true;")()}catch(t){return!1}}();function isIndex(t){return+t==t>>>0&&""!==t}function isObject(t){return t===Object(t)}var r="__proto__"in{}?function(t){return t}:function(e){var t=e.__proto__;if(!t)return e;var r=Object.create(t);return Object.getOwnPropertyNames(e).forEach(function(t){Object.defineProperty(r,t,Object.getOwnPropertyDescriptor(e,t))}),r};function parsePath(e){var t,r,n,o,a,i,s,c=[],l=-1,u="beforePath",p={push:function(){void 0!==n&&(c.push(n),n=void 0)},append:function(){void 0===n?n=r:n+=r}};for(;u;)if("\\"!=(t=e[++l])||!function maybeUnescapeQuote(){if(!(l>=e.length)){var t=e[l+1];return("inSingleQuote"==u&&"'"==t||"inDoubleQuote"==u&&'"'==t)&&(l++,r=t,p.append(),1)}}()){if(o=function getPathCharType(t){if(void 0===t)return"eof";var e=t.charCodeAt(0);switch(e){case 91:case 93:case 46:case 34:case 39:case 48:return t;case 95:case 36:return"ident";case 32:case 9:case 10:case 13:case 160:case 65279:case 8232:case 8233:return"ws"}return 97<=e&&e<=122||65<=e&&e<=90?"ident":49<=e&&e<=57?"number":"else"}(t),"error"==(a=(s=f[u])[o]||s.else||"error"))return;if(u=a[0],i=p[a[1]]||noop,r=void 0===a[2]?t:a[2],i(),"afterPath"===u)return c}}var o=new RegExp("^[$_a-zA-Z]+[$_a-zA-Z0-9]*$");function isIdent(t){return o.test(t)}var a={};function Path(t,e){if(e!==a)throw Error("Use Path.get to retrieve path objects");for(var r=0;r<t.length;r++)this.push(String(t[r]));n&&this.length&&(this.getValueFrom=this.compiledGetValueFromFn())}var i={};function formatAccessor(t){return isIndex(t)?"["+t+"]":'["'+t.replace(/"/g,'\\"')+'"]'}Path.get=function getPath(t){if(t instanceof Path)return t;if(null!=t&&0!=t.length||(t=""),"string"!=typeof t){if(isIndex(t.length))return new Path(t,a);t=String(t)}if(r=i[t])return r;var e=parsePath(t);if(!e)return s;var r=new Path(e,a);return i[t]=r},Path.prototype=r({__proto__:[],valid:!0,toString:function(){for(var t="",e=0;e<this.length;e++){var r=this[e];isIdent(r)?t+=e?"."+r:r:t+=formatAccessor(r)}return t},getValueFrom:function(t,e){for(var r=0;r<this.length;r++){if(null==t)return;t=t[this[r]]}return t},iterateObjects:function(t,e){for(var r=0;r<this.length;r++){if(r&&(t=t[this[r-1]]),!isObject(t))return;e(t,this[r])}},compiledGetValueFromFn:function(){var t="",e="obj";t+="if (obj != null";for(var r,n=0;n<this.length-1;n++)t+=" &&\n     "+(e+=isIdent(r=this[n])?"."+r:formatAccessor(r))+" != null";return t+=")\n",t+="  return "+(e+=isIdent(r=this[n])?"."+r:formatAccessor(r))+";\nelse\n  return undefined;",new Function("obj",t)},setValueFrom:function(t,e){if(!this.length)return!1;for(var r=0;r<this.length-1;r++){if(!isObject(t))return!1;t=t[this[r]]}return!!isObject(t)&&(t[this[r]]=e,!0)}});var f={beforePath:{ws:["beforePath"],ident:["inIdent","append"],"[":["beforeElement"],eof:["afterPath"]},inPath:{ws:["inPath"],".":["beforeIdent"],"[":["beforeElement"],eof:["afterPath"]},beforeIdent:{ws:["beforeIdent"],ident:["inIdent","append"]},inIdent:{ident:["inIdent","append"],0:["inIdent","append"],number:["inIdent","append"],ws:["inPath","push"],".":["beforeIdent","push"],"[":["beforeElement","push"],eof:["afterPath","push"]},beforeElement:{ws:["beforeElement"],0:["afterZero","append"],number:["inIndex","append"],"'":["inSingleQuote","append",""],'"':["inDoubleQuote","append",""]},afterZero:{ws:["afterElement","push"],"]":["inPath","push"]},inIndex:{0:["inIndex","append"],number:["inIndex","append"],ws:["afterElement"],"]":["inPath","push"]},inSingleQuote:{"'":["afterElement"],eof:["error"],else:["inSingleQuote","append"]},inDoubleQuote:{'"':["afterElement"],eof:["error"],else:["inDoubleQuote","append"]},afterElement:{ws:["afterElement"],"]":["inPath","push"]}},s=new Path("",a);s.valid=!1,s.getValueFrom=s.setValueFrom=function(){},t.exports=Path},function(t,e,r){function _toConsumableArray(t){return function _arrayWithoutHoles(t){if(Array.isArray(t))return _arrayLikeToArray(t)}(t)||function _iterableToArray(t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(t))return Array.from(t)}(t)||function _unsupportedIterableToArray(t,e){if(!t)return;if("string"==typeof t)return _arrayLikeToArray(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);"Object"===r&&t.constructor&&(r=t.constructor.name);if("Map"===r||"Set"===r)return Array.from(t);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return _arrayLikeToArray(t,e)}(t)||function _nonIterableSpread(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function _arrayLikeToArray(t,e){(null==e||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function _defineProperties(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}var a=r(91).Matrix;function lastElement(t){return t[t.length-1]}function using(t,e,r){try{return t.call(this),r.call(this)}finally{e.call(this)}}t.exports=function(){function Context2DTracked(r){!function _classCallCheck(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,Context2DTracked),this.context=r,this.tf=[new a],this.penx=0,this.peny=0,this.justBegun=!1,this.bpenx=0,this.bpeny=0,this.ox=0,this.oy=0,this.showcontrol=!1;for(var t=["webkitImageSmoothingEnabled"],e=Object.getOwnPropertyNames(r.__proto__),n=0;n<e.length;n++){var o=e[n];0<=t.indexOf(o)||("function"==typeof r[o]?void 0===this[o]&&(this[o]=r[o].bind(r)):Object.defineProperty(this,o,{get:function(t){return r[t]}.bind(null,o),set:function(t,e){return r[t]=e}.bind(null,o)}))}}return function _createClass(t,e,r){e&&_defineProperties(t.prototype,e),r&&_defineProperties(t,r)}(Context2DTracked,[{key:"cf",value:function cf(){return lastElement(this.tf)}},{key:"usingScaledLineWidth",value:function usingScaledLineWidth(t){var e=this,r=this.context.lineWidth;return using.call(this,function start(){e.context.lineWidth*=Math.abs(e.cf().a)},function close(){e.context.lineWidth=r},t)}},{key:"usingScaledFontSize",value:function usingScaledFontSize(t){var e=this,r=this.context.font,n=r.split(" "),o=Math.round(parseInt(n[0])*Math.abs(this.cf().a));return using.call(this,function start(){e.context.font=o+"px "+n[n.length-1]},function close(){e.context.font=r},t)}},{key:"trace",value:function trace(){var t=this.penx,e=this.peny;return console.log(Math.round(10*t)/10+this.ox,Math.round(10*e)/10+this.oy),this.context.moveTo(t-5,e),this.context.lineTo(t+5,e),this.context.moveTo(t,e+5),this.context.lineTo(t,e-5),this.context.moveTo(t,e),{x:t,y:e}}},{key:"transformPoint",value:function transformPoint(t,e){return lastElement(this.tf).inverse().applyToPoint(t,e)}},{key:"transformCoordinate",value:function transformCoordinate(t,e){return lastElement(this.tf).applyToPoint(t,e)}},{key:"save",value:function save(){this.tf.push(lastElement(this.tf).clone()),this.context.save()}},{key:"restore",value:function restore(){this.tf.pop(),this.context.restore()}},{key:"scale",value:function scale(t,e){lastElement(this.tf).scale(t,e)}},{key:"translate",value:function translate(t,e){lastElement(this.tf).translate(t,e)}},{key:"setTransform",value:function setTransform(t,e,r,n,o,a){lastElement(this.tf).setTransform(t,e,r,n,o,a)}},{key:"rotate",value:function rotate(t){lastElement(this.tf).rotate(t)}},{key:"movePen",value:function movePen(t,e){var r=this.cf().applyToPoint(t,e);this.justBegun&&(this.justBegun=!1,this.bpenx=r.x,this.bpeny=r.y),this.penx=r.x,this.peny=r.y}},{key:"_rect",value:function _rect(t,e,r,n,o){var a=this.cf().applyToPoint(t,e),i=this.cf().applyToPoint(r,n);o.call(this.context,a.x,a.y,i.x,i.y)}},{key:"clearRect",value:function clearRect(t,e,r,n){this._rect.apply(this,Array.prototype.slice.call(arguments).concat([this.context.clearRect]))}},{key:"fillRect",value:function fillRect(t,e,r,n){this._rect.apply(this,Array.prototype.slice.call(arguments).concat([this.context.fillRect]))}},{key:"strokeRect",value:function strokeRect(t,e,r,n){var o=arguments,a=this;this.usingScaledLineWidth(function(){a._rect.apply(a,_toConsumableArray(o).concat([a.context.strokeRect]))})}},{key:"rect",value:function rect(t,e,r,n){this._rect.apply(this,Array.prototype.slice.call(arguments).concat([this.context.rect]))}},{key:"fillText",value:function fillText(t,e,r,n){var o=this,a=this.cf().applyToPoint(e,r);this.usingScaledFontSize(function(){o.context.fillText(t,a.x,a.y,n)})}},{key:"strokeText",value:function strokeText(t,e,r,n){var o=this,a=this.cf().applyToPoint(e,r);this.usingScaledLineWidth(function(){o.usingScaledFontSize(function(){o.context.strokeText(t,a.x,a.y,n)})})}},{key:"createLinearGradient",value:function createLinearGradient(t,e,r,n){var o=this.cf().applyToPoint(t,e),a=this.cf().applyToPoint(r,n);return this.context.createLinearGradient(o.x,o.y,a.x,a.y)}},{key:"createRadialGradient",value:function createRadialGradient(t,e,r,n,o,a){var i=this.cf().applyToPoint(t,e),s=this.cf().applyToPoint(n,o),c=Math.abs(this.cf().a*r),l=Math.abs(this.cf().a*a);return this.context.createRadialGradient(i.x,i.y,c,s.x,s.y,l)}},{key:"beginPath",value:function beginPath(){this.justBegun=!0,this.context.beginPath()}},{key:"moveTo",value:function moveTo(t,e){this.movePen(t,e);var r=this.cf().applyToPoint(t,e);this.context.moveTo(r.x,r.y)}},{key:"lineTo",value:function lineTo(t,e,r){var n,o=this.cf().applyToPoint(t,e);(r||this.showcontrol)&&(n=Object.assign(this._getDefaultDebugOptions(),r),this._drawCurveControl(this._getDebugPoint(o.x,o.y),n)),this.context.lineTo(o.x,o.y),this.movePen(t,e)}},{key:"bezierCurveTo",value:function bezierCurveTo(t,e,r,n,o,a,i){var s,c=this.cf().applyToPoint(o,a),l=this.cf().applyToPoint(t,e),u=this.cf().applyToPoint(r,n);(i||this.showcontrol)&&(s=Object.assign(this._getDefaultDebugOptions(),i),this._drawCurveControl(this._getDebugPoint(c.x,c.y,l.x,l.y,u.x,u.y),s)),this.context.bezierCurveTo(l.x,l.y,u.x,u.y,c.x,c.y),this.movePen(o,a)}},{key:"quadraticCurveTo",value:function quadraticCurveTo(t,e,r,n,o){var a,i=this.cf().applyToPoint(r,n),s=this.cf().applyToPoint(t,e);(o||this.showcontrol)&&(a=Object.assign(this._getDefaultDebugOptions(),o),this._drawCurveControl(this._getDebugPoint(i.x,i.y,s.x,s.y),a)),this.context.quadraticCurveTo(s.x,s.y,i.x,i.y),this.movePen(r,n)}},{key:"arc",value:function arc(t,e,r,n,o,a){var i=this.cf().applyToPoint(t,e),s=this.cf().a*r,c=i.x+Math.cos(n)*s,l=i.y+Math.sin(n)*s;this.movePen(c,l),this.context.arc(i.x,i.y,s,n,o,a);var u=i.x+Math.cos(o)*s,p=i.y+Math.sin(o)*s;this.movePen(u,p),this.bpenx=u,this.bpeny=p}},{key:"drawImage",value:function drawImage(t,e,r,n,o,a,i,s,c){var l,u,p,f=this.cf().applyToPoint(e,r);void 0!==n?(l=this.cf().applyToPoint(n,o),void 0!==a?(u=this.cf().applyToPoint(a,i),p=this.cf().applyToPoint(s,c),this.context.drawImage(t,f.x,f.y,l.x,l.y,u.x,u.y,p.x,p.y)):this.context.drawImage(t,f.x,f.y,l.x,l.y)):this.context.drawImage(t,f.x,f.y)}},{key:"putImageData",value:function putImageData(t,e,r,n,o,a,i){var s,c,l=this.cf().applyToPoint(e,r);void 0!==n?(s=this.cf().applyToPoint(n,o),c=this.cf().applyToPoint(a,i),this.context.putImageData(t,l.x,l.y,s.x,s.y,c.x,c.y)):this.context.putImageData(t,l.x,l.y)}},{key:"stroke",value:function stroke(){var t=this;"rgba(0, 0, 0, 0)"!==this.context.strokeStyle&&this.usingScaledLineWidth(function(){t.context.stroke()})}},{key:"fill",value:function fill(){this.movePen(this.bpenx,this.bpeny),this.context.fill.apply(this.context,arguments)}},{key:"clip",value:function clip(){this.movePen(this.bpenx,this.bpeny),this.context.clip.apply(this.context,arguments)}},{key:"_drawCurveControl",value:function _drawCurveControl(t,e){this.context.save();var r=[t.p1];this.context.strokeStyle=e.controlLine.color,this.context.lineWidth=e.controlLine.width,t.cp1&&(this.context.moveTo(t.p1.x,t.p1.y),this.context.lineTo(t.cp1.x,t.cp1.y),r.push(t.cp1),t.cp2?(this.context.lineTo(t.cp2.x,t.cp2.y),this.context.lineTo(t.p2.x,t.p2.y),r.push(t.cp2)):this.context.lineTo(t.p2.x,t.p2.y)),this.context.stroke(),r.push(t.p2);for(var n=0;n<r.length;++n){var o=r[n];r[n]="("+Math.round(10*r[n].x)/10+", "+Math.round(10*r[n].y)/10+")",this.context.lineWidth=e.point.width,o===t.p2?this.context.strokeStyle=e.point.destinationColor:this.context.strokeStyle=e.point.color,this.context.fillStyle=e.point.fill,this.context.beginPath(),this.context.arc(o.x,o.y,e.point.radius,0,2*Math.PI,!0),this.context.fill(),this.context.stroke()}console.log("from points",r.join(" to ")),this.context.restore(),this.context.beginPath(),this.context.moveTo(t.p1.x,t.p1.y)}},{key:"_getDebugPoint",value:function _getDebugPoint(t,e,r,n,o,a){var i={p1:{x:this.penx,y:this.peny},p2:{x:t,y:e}};return"number"==typeof r&&"number"==typeof n&&(i.cp1={x:r,y:n},"number"==typeof o&&"number"==typeof a&&(i.cp2={x:o,y:a})),i}},{key:"_getDefaultDebugOptions",value:function _getDefaultDebugOptions(){return{controlLine:{color:"rgb(200,100,100)",width:.5},point:{color:"rgb(200,50,50)",destinationColor:"#000",fill:"white",width:1,radius:1}}}}]),Context2DTracked}()},function(t,e,r){
/*!
  2D Transformation Matrix v2.7.5
  (c) Epistemex.com 2014-2018
  License: MIT
*/
/**
 * 2D transformation matrix object initialized with identity matrix.
 *
 * The matrix can synchronize a canvas 2D context by supplying the context
 * as an argument, or later apply current absolute transform to an
 * existing context.
 *
 * To synchronize a DOM element you can use [`toCSS()`]{@link Matrix#toCSS} or [`toCSS3D()`]{@link Matrix#toCSS3D}.
 * together with for example the `style.transform` property.
 *
 * @param {CanvasRenderingContext2D} [context] - Optional context to sync with Matrix
 * @param {HTMLElement} [element=null] - DOM Element to synchronize
 * @prop {number} a - scale x
 * @prop {number} b - shear y
 * @prop {number} c - shear x
 * @prop {number} d - scale y
 * @prop {number} e - translate x
 * @prop {number} f - translate y
 * @prop {CanvasRenderingContext2D} [context] - set or get current synchronized 2D context
 * @prop {HTMLElement} [element] - get current synchronized DOM element
 * @prop {boolean} [useCSS3D=false] - is a DOM element is defined for sync., choose whether to use 2D (false) or 3D (true) matrix to sync it.
 * @constructor
 * @license MIT license
 * @copyright Epistemex.com 2014-2018
 */
function Matrix(t,e){var r,n=this;n._t=n.transform,n.a=n.d=1,n.b=n.c=n.e=n.f=0,t&&(n.context=t).setTransform(1,0,0,1,0,0),Object.defineProperty(n,"element",{get:function(){return r},set:function(t){r||(n._px=n._getPX(),n.useCSS3D=!1),r=t,(n._st=r.style)[n._px]=n.toCSS()}}),e&&(n.element=e)}Matrix.fromTriangles=function(t,e,r){var n,o,a,i,s,c=new Matrix,l=new Matrix(r),u=Array.isArray(t)?"number"==typeof t[0]?(o=t[4],a=t[5],i=e[4],s=e[5],n=[t[0]-o,t[1]-a,t[2]-o,t[3]-a,o,a],[e[0]-i,e[1]-s,e[2]-i,e[3]-s,i,s]):(o=t[2].x,a=t[2].y,i=e[2].x,s=e[2].y,n=[t[0].x-o,t[0].y-a,t[1].x-o,t[1].y-a,o,a],[e[0].x-i,e[0].y-s,e[1].x-i,e[1].y-s,i,s]):(n=[t.px-t.rx,t.py-t.ry,t.qx-t.rx,t.qy-t.ry,t.rx,t.ry],[e.px-e.rx,e.py-e.ry,e.qx-e.rx,e.qy-e.ry,e.rx,e.ry]);return c.setTransform.apply(c,n),l.setTransform.apply(l,u),l.multiply(c.inverse())},Matrix.fromSVGTransformList=function(t,e,r){for(var n=new Matrix(e,r),o=0;o<t.length;)n.multiply(t[o++].matrix);return n},Matrix.from=function(t,e,r,n,o,a,i,s){var c,l,u,p=new Matrix(i,s);if("number"==typeof t)p.setTransform(t,e,r,n,o,a);else if("number"==typeof t.x)u=Math.sqrt(t.x*t.x+t.y*t.y),c=l=1,n?c=u:l=u,p.translate(e||0,r||0).rotateFromVector(t).scaleU(c).translate(l,0);else{if("boolean"==typeof t.is2D&&!t.is2D)throw"Cannot use 3D DOMMatrix.";e&&(p.context=e),r&&(p.element=r),p.multiply(t)}return p},Matrix.prototype={_getPX:function(){for(var t,e=["t","oT","msT","mozT","webkitT","khtmlT"],r=0,n=document.createElement("div").style;t=e[r++];)if(void 0!==n[t+"ransform"])return t+"ransform"},concat:function(t){return this.clone().multiply(t)},flipX:function(){return this._t(-1,0,0,1,0,0)},flipY:function(){return this._t(1,0,0,-1,0,0)},reflectVector:function(t,e){var r=this.applyToPoint(0,1),n=2*(r.x*t+r.y*e);return{x:t-=n*r.x,y:e-=n*r.y}},reset:function(){return this.setTransform(1,0,0,1,0,0)},rotate:function(t){var e=Math.cos(t),r=Math.sin(t);return this._t(e,r,-r,e,0,0)},rotateFromVector:function(t,e){return this.rotate("number"==typeof t?Math.atan2(e,t):Math.atan2(t.y,t.x))},rotateDeg:function(t){return this.rotate(t*Math.PI/180)},scaleU:function(t){return this._t(t,0,0,t,0,0)},scale:function(t,e){return this._t(t,0,0,e,0,0)},scaleX:function(t){return this._t(t,0,0,1,0,0)},scaleY:function(t){return this._t(1,0,0,t,0,0)},scaleFromVector:function(t,e){return this.scaleU(Math.sqrt(t*t+e*e))},shear:function(t,e){return this._t(1,e,t,1,0,0)},shearX:function(t){return this._t(1,0,t,1,0,0)},shearY:function(t){return this._t(1,t,0,1,0,0)},skew:function(t,e){return this.shear(Math.tan(t),Math.tan(e))},skewDeg:function(t,e){return this.shear(Math.tan(t/180*Math.PI),Math.tan(e/180*Math.PI))},skewX:function(t){return this.shearX(Math.tan(t))},skewY:function(t){return this.shearY(Math.tan(t))},setTransform:function(t,e,r,n,o,a){var i=this;return i.a=t,i.b=e,i.c=r,i.d=n,i.e=o,i.f=a,i._x()},translate:function(t,e){return this._t(1,0,0,1,t,e)},translateX:function(t){return this._t(1,0,0,1,t,0)},translateY:function(t){return this._t(1,0,0,1,0,t)},transform:function(t,e,r,n,o,a){var i=this,s=i.a,c=i.b,l=i.c,u=i.d,p=i.e,f=i.f;return i.a=s*t+l*e,i.b=c*t+u*e,i.c=s*r+l*n,i.d=c*r+u*n,i.e=s*o+l*a+p,i.f=c*o+u*a+f,i._x()},multiply:function(t){return this._t(t.a,t.b,t.c,t.d,t.e,t.f)},divide:function(t){return this.multiply(t.inverse())},divideScalar:function(t){var e=this;if(!t)throw"Division on zero";return e.a/=t,e.b/=t,e.c/=t,e.d/=t,e.e/=t,e.f/=t,e._x()},inverse:function(t,e){var r=this,n=new Matrix(t?r.context:null,e?r.element:null),o=r.determinant();if(!o)throw"Matrix not invertible.";return n.a=r.d/o,n.b=-r.b/o,n.c=-r.c/o,n.d=r.a/o,n.e=(r.c*r.f-r.d*r.e)/o,n.f=-(r.a*r.f-r.b*r.e)/o,n},interpolate:function(t,e,r,n){var o=this,a=new Matrix(r,n);return a.a=o.a+(t.a-o.a)*e,a.b=o.b+(t.b-o.b)*e,a.c=o.c+(t.c-o.c)*e,a.d=o.d+(t.d-o.d)*e,a.e=o.e+(t.e-o.e)*e,a.f=o.f+(t.f-o.f)*e,a._x()},interpolateAnim:function(t,e,r,n){var o=new Matrix(r,n),a=this.decompose(),i=t.decompose(),s=a.translate,c=i.translate,l=a.scale;return o.translate(s.x+(c.x-s.x)*e,s.y+(c.y-s.y)*e),o.rotate(a.rotation+(i.rotation-a.rotation)*e),o.scale(l.x+(i.scale.x-l.x)*e,l.y+(i.scale.y-l.y)*e),o._x()},decompose:function(t){var e,r,n=this,o=n.a,a=n.b,i=n.c,s=n.d,c=Math.acos,l=Math.atan,u=Math.sqrt,p=Math.PI,f={x:n.e,y:n.f},y=0,h={x:1,y:1},d={x:0,y:0},g=o*s-a*i;return t?o?(d={x:l(i/o),y:l(a/o)},h={x:o,y:g/o}):a?(y=.5*p,h={x:a,y:g/a},d.x=l(s/a)):(h={x:i,y:s},d.x=.25*p):o||a?(e=u(o*o+a*a),y=0<a?c(o/e):-c(o/e),h={x:e,y:g/e},d.x=l((o*i+a*s)/(e*e))):i||s?(r=u(i*i+s*s),y=.5*p-(0<s?c(-i/r):-c(i/r)),h={x:g/r,y:r},d.y=l((o*i+a*s)/(r*r))):h={x:0,y:0},{translate:f,rotation:y,scale:h,skew:d}},determinant:function(){return this.a*this.d-this.b*this.c},applyToPoint:function(t,e){var r=this;return{x:t*r.a+e*r.c+r.e,y:t*r.b+e*r.d+r.f}},applyToArray:function(t){var e,r,n=0,o=[];if("number"==typeof t[0])for(r=t.length;n<r;)e=this.applyToPoint(t[n++],t[n++]),o.push(e.x,e.y);else for(;e=t[n++];)o.push(this.applyToPoint(e.x,e.y));return o},applyToTypedArray:function(t,e){for(var r,n=0,o=t.length,a=new(e?Float64Array:Float32Array)(o);n<o;)r=this.applyToPoint(t[n],t[n+1]),a[n++]=r.x,a[n++]=r.y;return a},applyToContext:function(t){var e=this;return t.setTransform(e.a,e.b,e.c,e.d,e.e,e.f),e},applyToElement:function(t,e){var r=this;return r._px||(r._px=r._getPX()),t.style[r._px]=e?r.toCSS3D():r.toCSS(),r},applyToObject:function(t){var e=this;return t.a=e.a,t.b=e.b,t.c=e.c,t.d=e.d,t.e=e.e,t.f=e.f,e},isIdentity:function(){var t=this;return!(1!==t.a||t.b||t.c||1!==t.d||t.e||t.f)},isInvertible:function(){return!this._q(this.determinant(),0)},isValid:function(){return!(this.a*this.d)},isEqual:function(t){var e=this,r=e._q;return r(e.a,t.a)&&r(e.b,t.b)&&r(e.c,t.c)&&r(e.d,t.d)&&r(e.e,t.e)&&r(e.f,t.f)},clone:function(t){return new Matrix(t?null:this.context).multiply(this)},toArray:function(){var t=this;return[t.a,t.b,t.c,t.d,t.e,t.f]},toTypedArray:function(){var t=this;return new Float32Array([t.a,t.b,t.c,t.d,t.e,t.f])},toCSS:function(){return"matrix("+this.toArray()+")"},toCSS3D:function(){var t=this,e=",0,0,";return"matrix3d("+t.a+","+t.b+e+t.c+","+t.d+e+e+",1,0,"+t.e+","+t.f+",0,1)"},toJSON:function(){var t=this;return'{"a":'+t.a+',"b":'+t.b+',"c":'+t.c+',"d":'+t.d+',"e":'+t.e+',"f":'+t.f+"}"},toString:function(t){var e=this;return t=t||4,"a="+e.a.toFixed(t)+" b="+e.b.toFixed(t)+" c="+e.c.toFixed(t)+" d="+e.d.toFixed(t)+" e="+e.e.toFixed(t)+" f="+e.f.toFixed(t)},toCSV:function(){return this.toArray().join()+"\r\n"},toDOMMatrix:function(){var t=null;return"DOMMatrix"in window&&((t=new DOMMatrix).a=this.a,t.b=this.b,t.c=this.c,t.d=this.d,t.e=this.e,t.f=this.f),t},toSVGMatrix:function(){var t=this,e=document.createElementNS("http://www.w3.org/2000/svg","svg"),r=null;return e&&((r=e.createSVGMatrix()).a=t.a,r.b=t.b,r.c=t.c,r.d=t.d,r.e=t.e,r.f=t.f),r},_q:function(t,e){return Math.abs(t-e)<1e-14},_x:function(){var t=this;return t.context&&t.context.setTransform(t.a,t.b,t.c,t.d,t.e,t.f),t._st&&(t._st[t._px]=t.useCSS3D?t.toCSS3D():t.toCSS()),t}},e.Matrix=Matrix},function(t,e,r){"use strict";function clone(t){return t?JSON.parse(JSON.stringify(t)):t}function fillerDefinition(t,e,r){void 0===r&&(r={}),t.hasOwnProperty(e)||(t[e]=r)}function deg(t){return 180*t/Math.PI}function rad(t){return t*Math.PI/180}function unwrapRad(t){for(;t>Math.PI;)t-=2*Math.PI;for(;t<-Math.PI;)t+=2*Math.PI;return t}function clamp(t,e,r){return t<e?e:r<t?r:t}function roundToDec(t,e){return parseFloat(t.toFixed(e))}function point(t,e){return{x:t,y:e}}function makePoint(t){for(var e=[],r=1;r<arguments.length;r++)e[r-1]=arguments[r];return{x:t.apply(void 0,e.map(function(t){return t.x})),y:t.apply(void 0,e.map(function(t){return t.y}))}}r.r(e),r.d(e,"clone",function(){return clone}),r.d(e,"fillerDefinition",function(){return fillerDefinition}),r.d(e,"deg",function(){return deg}),r.d(e,"rad",function(){return rad}),r.d(e,"unwrapRad",function(){return unwrapRad}),r.d(e,"clamp",function(){return clamp}),r.d(e,"roundToDec",function(){return roundToDec}),r.d(e,"point",function(){return point}),r.d(e,"makePoint",function(){return makePoint}),r.d(e,"origin",function(){return n}),r.d(e,"breakPoint",function(){return v}),r.d(e,"endPoint",function(){return b}),r.d(e,"add",function(){return add}),r.d(e,"diff",function(){return point_diff}),r.d(e,"norm",function(){return norm}),r.d(e,"angle",function(){return angle}),r.d(e,"scale",function(){return point_scale}),r.d(e,"getUnitVector",function(){return getUnitVector}),r.d(e,"getPerpendicularVector",function(){return getPerpendicularVector}),r.d(e,"extractPoint",function(){return extractPoint}),r.d(e,"reflect",function(){return reflect}),r.d(e,"adjust",function(){return adjust}),r.d(e,"adjustPoints",function(){return adjustPoints}),r.d(e,"scalePoints",function(){return scalePoints}),r.d(e,"rotatePoints",function(){return rotatePoints}),r.d(e,"applyToCurve",function(){return applyToCurve}),r.d(e,"getPointOnCurve",function(){return getPointOnCurve}),r.d(e,"getPointOnLine",function(){return getPointOnLine}),r.d(e,"splitCurve",function(){return splitCurve}),r.d(e,"interpolateCurve",function(){return interpolateCurve}),r.d(e,"simpleQuadratic",function(){return simpleQuadratic}),r.d(e,"elevateDegree",function(){return elevateDegree}),r.d(e,"getCubicControlPoints",function(){return getCubicControlPoints}),r.d(e,"transformCurve",function(){return transformCurve}),r.d(e,"reverseDrawPoint",function(){return reverseDrawPoint}),r.d(e,"continueCurve",function(){return continueCurve}),r.d(e,"none",function(){return d}),r.d(e,"drawPoints",function(){return drawPoints}),r.d(e,"drawCircle",function(){return drawCircle}),r.d(e,"drawSpecificCurl",function(){return drawSpecificCurl}),r.d(e,"tracePoint",function(){return tracePoint}),r.d(e,"Materials",function(){return o}),r.d(e,"loaded",function(){return at}),r.d(e,"load",function(){return load}),r.d(e,"extractRGB",function(){return extractRGB}),r.d(e,"extractHSL",function(){return extractHSL}),r.d(e,"extractHex",function(){return extractHex}),r.d(e,"RGBToHSL",function(){return RGBToHSL}),r.d(e,"adjustColor",function(){return adjustColor}),r.d(e,"randNormal",function(){return randNormal}),r.d(e,"testRandGenerator",function(){return testRandGenerator}),r.d(e,"averagePoint",function(){return averagePoint}),r.d(e,"topologicalSort",function(){return topologicalSort}),r.d(e,"simpleTopologicalSort",function(){return simpleTopologicalSort}),r.d(e,"serialize",function(){return h.c}),r.d(e,"deserialize",function(){return h.a}),r.d(e,"loadSerialization",function(){return h.b}),r.d(e,"extractSideLocation",function(){return extractSideLocation}),r.d(e,"extractBaseLocation",function(){return extractBaseLocation}),r.d(e,"extractUnmodifiedLocation",function(){return extractUnmodifiedLocation}),r.d(e,"extractLocationModifier",function(){return extractLocationModifier}),r.d(e,"Location",function(){return w}),r.d(e,"locationIsSideless",function(){return locationIsSideless}),r.d(e,"locateRelativeToDrawpoint",function(){return locateRelativeToDrawpoint}),r.d(e,"IMAGE_MAXSIZE",function(){return a}),r.d(e,"cachedPatterns",function(){return l}),r.d(e,"patternLoadingQueue",function(){return f}),r.d(e,"listAvailablePatterns",function(){return listAvailablePatterns}),r.d(e,"getPatternFullName",function(){return getPatternFullName}),r.d(e,"getPatternBaseName",function(){return getPatternBaseName}),r.d(e,"CachedPattern",function(){return y}),r.d(e,"getPattern",function(){return getPattern}),r.d(e,"getLoadedPattern",function(){return getLoadedPattern}),r.d(e,"addPattern",function(){return addPattern}),r.d(e,"loadPattern",function(){return loadPattern}),r.d(e,"drawTattooPattern",function(){return drawTattooPattern}),r.d(e,"isPattern",function(){return isPattern}),r.d(e,"incu",function(){return incu}),r.d(e,"cmcu",function(){return cmcu}),r.d(e,"cucm",function(){return cucm}),r.d(e,"convertPointsToCanvasUnits",function(){return convertPointsToCanvasUnits}),r.d(e,"setStrokeAndFill",function(){return setStrokeAndFill}),r.d(e,"inheritStroke",function(){return inheritStroke}),r.d(e,"inheritFill",function(){return inheritFill}),r.d(e,"requirePart",function(){return requirePart}),r.d(e,"dist",function(){return dist}),r.d(e,"averageQuadratic",function(){return averageQuadratic}),r.d(e,"Layer",function(){return _}),r.d(e,"ShadingLayers",function(){return m}),r.d(e,"seamWidth",function(){return S}),r.d(e,"getCanvasGroup",function(){return getCanvasGroup}),r.d(e,"getCanvas",function(){return getCanvas}),r.d(e,"hideCanvasGroup",function(){return hideCanvasGroup}),r.d(e,"showCanvasGroup",function(){return showCanvasGroup}),r.d(e,"getCanvasHandle",function(){return getCanvasHandle}),r.d(e,"getDefault",function(){return getDefault}),r.d(e,"applyMods",function(){return applyMods}),r.d(e,"removeMods",function(){return removeMods}),r.d(e,"getBiasMod",function(){return getBiasMod}),r.d(e,"createTransformation",function(){return createTransformation}),r.d(e,"transformAndShow",function(){return transformAndShow}),r.d(e,"getBaseColors",function(){return getBaseColors}),r.d(e,"configureBaseColors",function(){return configureBaseColors}),r.d(e,"initCanvas",function(){return initCanvas}),r.d(e,"defaultConfig",function(){return wt}),r.d(e,"draw",function(){return draw}),r.d(e,"renderBase",function(){return renderBase}),r.d(e,"renderParts",function(){return renderParts}),r.d(e,"drawPart",function(){return drawPart}),r.d(e,"drawPartsLayer",function(){return drawPartsLayer}),r.d(e,"connectEndPoints",function(){return connectEndPoints}),r.d(e,"coverNipplesIfHaveNoBreasts",function(){return coverNipplesIfHaveNoBreasts}),r.d(e,"drawFocusedWindow",function(){return drawFocusedWindow}),r.d(e,"styles",function(){return Z}),r.d(e,"DecorativePart",function(){return xt}),r.d(e,"Mustache",function(){return At}),r.d(e,"LegFur",function(){return Tt}),r.d(e,"BeautyMark",function(){return jt}),r.d(e,"BellyButtonOutline",function(){return Et}),r.d(e,"DeltoidsOutline",function(){return Lt}),r.d(e,"CollarboneOutline",function(){return It}),r.d(e,"PectoralOutline",function(){return Ft}),r.d(e,"AbdominalOutline",function(){return Ht}),r.d(e,"QuadricepsOutline",function(){return Mt}),r.d(e,"EarsHuman",function(){return Wt}),r.d(e,"EarsElf",function(){return Gt}),r.d(e,"BrowHuman",function(){return zt}),r.d(e,"EyelashHuman",function(){return Vt}),r.d(e,"EyelidHuman",function(){return Jt}),r.d(e,"EyesHuman",function(){return Yt}),r.d(e,"FacePart",function(){return Dt}),r.d(e,"IrisHuman",function(){return Kt}),r.d(e,"LipsHuman",function(){return ee}),r.d(e,"MouthHuman",function(){return ne}),r.d(e,"NoseHuman",function(){return ie}),r.d(e,"PupilHuman",function(){return ce}),r.d(e,"Player",function(){return _e}),r.d(e,"baseDimDesc",function(){return tt}),r.d(e,"basedimDiscretePool",function(){return et}),r.d(e,"extendDimensionCalc",function(){return extendDimensionCalc}),r.d(e,"loadDimensionDescriptions",function(){return loadDimensionDescriptions}),r.d(e,"Expression",function(){return le}),r.d(e,"modLimits",function(){return nt}),r.d(e,"modDiscretePool",function(){return ot}),r.d(e,"loadMods",function(){return loadMods}),r.d(e,"statLimits",function(){return g}),r.d(e,"statDiscretePool",function(){return P}),r.d(e,"vitalLimits",function(){return rt}),r.d(e,"BasePart",function(){return x}),r.d(e,"BodyPart",function(){return O}),r.d(e,"Part",function(){return A}),r.d(e,"getSideLocation",function(){return getSideLocation}),r.d(e,"prototypeAppliesToSide",function(){return prototypeAppliesToSide}),r.d(e,"partConflict",function(){return partConflict}),r.d(e,"isParentPart",function(){return isParentPart}),r.d(e,"getSideValue",function(){return getSideValue}),r.d(e,"getAttachedLocation",function(){return getAttachedLocation}),r.d(e,"ArmHuman",function(){return xe}),r.d(e,"ButtHuman",function(){return Ae}),r.d(e,"ChestHuman",function(){return Ee}),r.d(e,"NipplesHuman",function(){return Le}),r.d(e,"FeetHuman",function(){return Fe}),r.d(e,"HoofHorse",function(){return He}),r.d(e,"GroinHuman",function(){return Ne}),r.d(e,"HandHuman",function(){return Ge}),r.d(e,"HeadHuman",function(){return Qe}),r.d(e,"LegHuman",function(){return Ye}),r.d(e,"NeckHuman",function(){return tr}),r.d(e,"PenisHuman",function(){return rr}),r.d(e,"PenisHeadHuman",function(){return or}),r.d(e,"TesticlesHuman",function(){return ir}),r.d(e,"TorsoHuman",function(){return ur}),r.d(e,"VaginaHuman",function(){return fr}),r.d(e,"Clothing",function(){return lt}),r.d(e,"processClothingPartLocation",function(){return processClothingPartLocation}),r.d(e,"Clothes",function(){return ut}),r.d(e,"ClothingPart",function(){return pt}),r.d(e,"calcDressShirt",function(){return calcDressShirt}),r.d(e,"DressShirtBasePart",function(){return wr}),r.d(e,"DressShirtCollarPart",function(){return xr}),r.d(e,"DressShirtButtonPart",function(){return Or}),r.d(e,"DressShirtBreastPart",function(){return Ar}),r.d(e,"LongSleeveCuffPart",function(){return Tr}),r.d(e,"DressShirt",function(){return jr}),r.d(e,"WomenDressShirt",function(){return Rr}),r.d(e,"MenDressShirt",function(){return Br}),r.d(e,"HeelPart",function(){return Er}),r.d(e,"HeelBaseShine",function(){return Lr}),r.d(e,"HeelBasePart",function(){return Ir}),r.d(e,"CoveredHeelBasePart",function(){return Fr}),r.d(e,"HeelStrapPart",function(){return Hr}),r.d(e,"calcHeels",function(){return calcHeels}),r.d(e,"HeelSideBaseClosedPart",function(){return Mr}),r.d(e,"CoveredHeelSideBasePart",function(){return Dr}),r.d(e,"calcCoveredHeelBaseSide",function(){return calcCoveredHeelBaseSide}),r.d(e,"StilettoPart",function(){return Nr}),r.d(e,"PlatformSidePart",function(){return Wr}),r.d(e,"HeelSideSimpleStrapPart",function(){return Gr}),r.d(e,"HeelSideWideStrapPart",function(){return Ur}),r.d(e,"calcWideStrapSide",function(){return calcWideStrapSide}),r.d(e,"calcHeelBaseSide",function(){return calcHeelBaseSide}),r.d(e,"calcHeelPlatformSide",function(){return calcHeelPlatformSide}),r.d(e,"calcStiletto",function(){return calcStiletto}),r.d(e,"StrapLockSidePart",function(){return Qr}),r.d(e,"StrapLockPart",function(){return Vr}),r.d(e,"Heels",function(){return qr}),r.d(e,"ClosedToePumps",function(){return Jr}),r.d(e,"ClosedToeStrappedPumps",function(){return $r}),r.d(e,"CoveredFancyStilettos",function(){return Yr}),r.d(e,"LockedCoveredFancyStilettos",function(){return Kr}),r.d(e,"CapBasePart",function(){return Zr}),r.d(e,"CapBandPart",function(){return tn}),r.d(e,"calcCap",function(){return calcCap}),r.d(e,"Hat",function(){return en}),r.d(e,"SimpleCap",function(){return rn}),r.d(e,"BandedCap",function(){return nn}),r.d(e,"JacketBaseShading",function(){return _r}),r.d(e,"JacketBasePart",function(){return mr}),r.d(e,"calcJacket",function(){return calcJacket}),r.d(e,"MediumLooseSleevePart",function(){return Sr}),r.d(e,"Jacket",function(){return kr}),r.d(e,"LooseJacket",function(){return Cr}),r.d(e,"NecktiePart",function(){return on}),r.d(e,"NeckAccessory",function(){return an}),r.d(e,"NeckTie",function(){return sn}),r.d(e,"CoveredButtPart",function(){return cn}),r.d(e,"LongPantsPart",function(){return ln}),r.d(e,"MediumPantsPart",function(){return un}),r.d(e,"ShortPantsPart",function(){return pn}),r.d(e,"ShortsPart",function(){return fn}),r.d(e,"Pants",function(){return yn}),r.d(e,"LongTightPants",function(){return hn}),r.d(e,"MediumTightPants",function(){return dn}),r.d(e,"ShortTightPants",function(){return gn}),r.d(e,"TightShorts",function(){return Pn}),r.d(e,"LeftBaseShoeShading",function(){return dt}),r.d(e,"RightBaseShoeShading",function(){return gt}),r.d(e,"ShoeSidePart",function(){return Pt}),r.d(e,"ShoePart",function(){return vt}),r.d(e,"ShoeBasePart",function(){return bt}),r.d(e,"Shoe",function(){return _t}),r.d(e,"FlatShoes",function(){return mt}),r.d(e,"SockPart",function(){return vn}),r.d(e,"ShortSockPart",function(){return bn}),r.d(e,"MediumSockPart",function(){return _n}),r.d(e,"LongSockPart",function(){return mn}),r.d(e,"ThighHighPart",function(){return Sn}),r.d(e,"ThighHighBandPart",function(){return kn}),r.d(e,"Sock",function(){return Cn}),r.d(e,"ShortSocks",function(){return wn}),r.d(e,"MediumSocks",function(){return xn}),r.d(e,"LongSocks",function(){return On}),r.d(e,"ThighHighs",function(){return An}),r.d(e,"SweaterBasePart",function(){return yr}),r.d(e,"calcSweaterBase",function(){return calcSweaterBase}),r.d(e,"CoveredBreastPart",function(){return hr}),r.d(e,"LongSleevePart",function(){return dr}),r.d(e,"calcLongSleeve",function(){return calcLongSleeve}),r.d(e,"ShortSleevePart",function(){return gr}),r.d(e,"Sweater",function(){return Pr}),r.d(e,"LongSleevedSweater",function(){return vr}),r.d(e,"AsymmetricSleevedSweater",function(){return br}),r.d(e,"BraTopStrapPart",function(){return ue}),r.d(e,"BraBotStrapPart",function(){return pe}),r.d(e,"BraPart",function(){return fe}),r.d(e,"calcBra",function(){return calcBra}),r.d(e,"BreastWrapStrapPart",function(){return he}),r.d(e,"PantiesPart",function(){return de}),r.d(e,"Underwear",function(){return ge}),r.d(e,"Bra",function(){return Pe}),r.d(e,"BreastWrap",function(){return ve}),r.d(e,"Panties",function(){return be}),r.d(e,"RingBotPart",function(){return Tn}),r.d(e,"RingTopPart",function(){return jn}),r.d(e,"StudPart",function(){return Rn}),r.d(e,"ChainPart",function(){return Bn}),r.d(e,"Jewelry",function(){return En}),r.d(e,"Piercing",function(){return Ln}),r.d(e,"RingPiercing",function(){return In}),r.d(e,"StudPiercing",function(){return Fn}),r.d(e,"ChainJewelry",function(){return Hn}),r.d(e,"calcSuperBra",function(){return calcSuperBra}),r.d(e,"calcSuperBraStrap",function(){return calcSuperBraStrap}),r.d(e,"SuperBraGenitalPart",function(){return no}),r.d(e,"SuperBraChestPart",function(){return oo}),r.d(e,"calcPanties",function(){return calcPanties}),r.d(e,"calcPanties2",function(){return calcPanties2}),r.d(e,"SuperPantiesPart",function(){return ao}),r.d(e,"ChastityBeltPart",function(){return io}),r.d(e,"SuperPanties2Part",function(){return so}),r.d(e,"SuperBra",function(){return co}),r.d(e,"SuperPanties",function(){return lo}),r.d(e,"BikiniBottom",function(){return uo}),r.d(e,"ChastityBelt",function(){return po}),r.d(e,"calcSuperPantsTop",function(){return calcSuperPantsTop}),r.d(e,"calcSuperPants",function(){return calcSuperPants}),r.d(e,"calcSuperPantsZip",function(){return calcSuperPantsZip}),r.d(e,"SuperPantsPart",function(){return fo}),r.d(e,"SuperLegginsPart",function(){return yo}),r.d(e,"SuperSkirtPart",function(){return ho}),r.d(e,"LacedLegginsPart",function(){return go}),r.d(e,"JeansPart",function(){return Po}),r.d(e,"LoinclothPart",function(){return vo}),r.d(e,"SuperPants",function(){return bo}),r.d(e,"SuperLeggins",function(){return _o}),r.d(e,"SuperSkirt",function(){return mo}),r.d(e,"LacedLeggins",function(){return So}),r.d(e,"Jeans",function(){return ko}),r.d(e,"Loincloth",function(){return Co}),r.d(e,"Garter",function(){return wo}),r.d(e,"SuperSockBandPart",function(){return xo}),r.d(e,"SuperSockPart",function(){return Oo}),r.d(e,"PantyhosePart",function(){return Ao}),r.d(e,"SuperSocks",function(){return To}),r.d(e,"Stockings",function(){return jo}),r.d(e,"StockingsGarter",function(){return Ro}),r.d(e,"Pantyhose",function(){return Bo}),r.d(e,"MagicHatFrontPart",function(){return Eo}),r.d(e,"MagicHatBackPart",function(){return Lo}),r.d(e,"calcMagicHat",function(){return calcMagicHat}),r.d(e,"MaidHeadpiecePart",function(){return Io}),r.d(e,"MagicHat",function(){return Fo}),r.d(e,"MaidHeadpiece",function(){return Ho}),r.d(e,"DressBreastPart",function(){return Mo}),r.d(e,"DressBasePart",function(){return Do}),r.d(e,"calcDressCleavage",function(){return calcDressCleavage}),r.d(e,"calcDressBase",function(){return calcDressBase}),r.d(e,"DetachedSleevePart",function(){return No}),r.d(e,"SuperSleevePart",function(){return Wo}),r.d(e,"calcSuperSleeve",function(){return calcSuperSleeve}),r.d(e,"LacingPart",function(){return Go}),r.d(e,"Dress",function(){return Uo}),r.d(e,"SuperDress",function(){return zo}),r.d(e,"calcTee",function(){return calcTee}),r.d(e,"TeePart",function(){return Qo}),r.d(e,"LeotardPart",function(){return Vo}),r.d(e,"HalterTopBreastPart",function(){return qo}),r.d(e,"TubeTopBreastPart",function(){return Jo}),r.d(e,"TopChestPart",function(){return $o}),r.d(e,"TopGroinPart",function(){return Yo}),r.d(e,"calcTopBody",function(){return calcTopBody}),r.d(e,"BikiniTopBreastPart",function(){return Xo}),r.d(e,"Top",function(){return Ko}),r.d(e,"Tee",function(){return Zo}),r.d(e,"Leotard",function(){return ta}),r.d(e,"HalterTop",function(){return ea}),r.d(e,"TubeTop",function(){return ra}),r.d(e,"TubeTopSleeves",function(){return na}),r.d(e,"BikiniTop",function(){return oa}),r.d(e,"Swimsuit",function(){return aa}),r.d(e,"CorsetBreastPart",function(){return ia}),r.d(e,"calcCorset",function(){return calcCorset}),r.d(e,"CorsetPart",function(){return sa}),r.d(e,"HalfCorsetPart",function(){return ca}),r.d(e,"Corset",function(){return la}),r.d(e,"HalfCorset",function(){return ua}),r.d(e,"calcGlove",function(){return calcGlove}),r.d(e,"GloveSleevePart",function(){return pa}),r.d(e,"GlovePart",function(){return fa}),r.d(e,"FingerlessGlovePart",function(){return ya}),r.d(e,"BraceletPart",function(){return ha}),r.d(e,"Glove",function(){return da}),r.d(e,"GloveSleeve",function(){return ga}),r.d(e,"LongGloves",function(){return Pa}),r.d(e,"FingerlessGloves",function(){return va}),r.d(e,"Bracelet",function(){return ba}),r.d(e,"BraceletLeft",function(){return _a}),r.d(e,"BraceletRight",function(){return ma}),r.d(e,"ChokerPart",function(){return Sa}),r.d(e,"NeckCorsetPart",function(){return ka}),r.d(e,"CollarPart",function(){return Ca}),r.d(e,"TagPart",function(){return wa}),r.d(e,"ChokerCrossPart",function(){return xa}),r.d(e,"Choker",function(){return Oa}),r.d(e,"NeckCorset",function(){return Aa}),r.d(e,"Collar",function(){return Ta}),r.d(e,"TaggedCollar",function(){return ja}),r.d(e,"CrossedChoker",function(){return Ra}),r.d(e,"BiChainPart",function(){return Ba}),r.d(e,"TearPart",function(){return Ea}),r.d(e,"DoubleNecklacePart",function(){return La}),r.d(e,"MultiNecklacePart",function(){return Ia}),r.d(e,"NecklaceChainPart",function(){return Fa}),r.d(e,"StarPart",function(){return Ha}),r.d(e,"TNecklacePart",function(){return Ma}),r.d(e,"Necklace",function(){return Da}),r.d(e,"BiChain",function(){return Na}),r.d(e,"DoubleNecklace",function(){return Wa}),r.d(e,"MultiNecklace",function(){return Ga}),r.d(e,"PearlNecklace",function(){return Ua}),r.d(e,"SimpleChain",function(){return za}),r.d(e,"StarNecklace",function(){return Qa}),r.d(e,"TNecklace",function(){return Va}),r.d(e,"TearNecklace",function(){return qa}),r.d(e,"ThickChain",function(){return Ja}),r.d(e,"TriangleEarringsPart",function(){return $a}),r.d(e,"CrystalEarringsPart",function(){return Ya}),r.d(e,"LoopEarringsFrontPart",function(){return Xa}),r.d(e,"LoopEarringsBackPart",function(){return Ka}),r.d(e,"ChainEarringsPart",function(){return Za}),r.d(e,"BallEarringsPart",function(){return ti}),r.d(e,"RhombEarringsFrontPart",function(){return ei}),r.d(e,"RhombEarringsBackPart",function(){return ri}),r.d(e,"EarPiercingFrontPart",function(){return ni}),r.d(e,"EarPiercingBackPart",function(){return oi}),r.d(e,"Earrings",function(){return ai}),r.d(e,"TriangleEarrings",function(){return ii}),r.d(e,"CrystalEarrings",function(){return si}),r.d(e,"LoopEarrings",function(){return ci}),r.d(e,"ChainEarrings",function(){return li}),r.d(e,"BallEarrings",function(){return ui}),r.d(e,"RhombEarrings",function(){return pi}),r.d(e,"EarPiercing",function(){return fi}),r.d(e,"Bodychain1Part",function(){return yi}),r.d(e,"Bodychain2Part",function(){return hi}),r.d(e,"Bodychain3Part",function(){return di}),r.d(e,"Bodychain",function(){return gi}),r.d(e,"Bodychain1",function(){return Pi}),r.d(e,"Bodychain2",function(){return vi}),r.d(e,"Bodychain3",function(){return bi}),r.d(e,"SimpleArmletPart",function(){return _i}),r.d(e,"CrossedArmletPart",function(){return mi}),r.d(e,"SpiralArmletPart",function(){return Si}),r.d(e,"Armlet",function(){return ki}),r.d(e,"SpiralArmlet",function(){return Ci}),r.d(e,"SimpleArmlet",function(){return wi}),r.d(e,"CrossedArmlet",function(){return xi}),r.d(e,"FaceAccessoryPart",function(){return Mn}),r.d(e,"GagStrapPart",function(){return Dn}),r.d(e,"TopTriangularStrap",function(){return Nn}),r.d(e,"RingGagPart",function(){return Wn}),r.d(e,"BallGagPart",function(){return Gn}),r.d(e,"BlindFoldPart",function(){return Un}),r.d(e,"GlassesPart",function(){return zn}),r.d(e,"SimpleBeltPart",function(){return Qn}),r.d(e,"calcBelt",function(){return calcBelt}),r.d(e,"ApronPart",function(){return Vn}),r.d(e,"Accessory",function(){return qn}),r.d(e,"Glasses",function(){return Jn}),r.d(e,"Gag",function(){return $n}),r.d(e,"SimpleRingGag",function(){return Yn}),r.d(e,"SimpleBallGag",function(){return Xn}),r.d(e,"MediumRingGag",function(){return Kn}),r.d(e,"MediumBallGag",function(){return Zn}),r.d(e,"BlindFold",function(){return to}),r.d(e,"SimpleBelt",function(){return eo}),r.d(e,"Apron",function(){return ro}),r.d(e,"MascaraPart",function(){return Oi}),r.d(e,"Makeup",function(){return Ai}),r.d(e,"Mascara",function(){return Ti}),r.d(e,"RestraintChainPart",function(){return ji}),r.d(e,"BondageRopePart",function(){return Ri}),r.d(e,"ChestBondagePart",function(){return Bi}),r.d(e,"WaistBondagePart",function(){return Ei}),r.d(e,"ChestPentagramBondagePart",function(){return Li}),r.d(e,"WristRestraintChainPart",function(){return Ii}),r.d(e,"AnkleRestraintChainPart",function(){return Fi}),r.d(e,"Restraints",function(){return Hi}),r.d(e,"Bondage",function(){return Mi}),r.d(e,"WristRestraints",function(){return Di}),r.d(e,"AnkleRestraints",function(){return Ni}),r.d(e,"ChestBondage",function(){return Wi}),r.d(e,"ChestPentagramBondage",function(){return Gi}),r.d(e,"WaistBondage",function(){return Ui}),r.d(e,"AnkletPart",function(){return zi}),r.d(e,"ChainAnkletPart",function(){return Qi}),r.d(e,"BandedAnkletPart",function(){return Vi}),r.d(e,"Anklet",function(){return qi}),r.d(e,"ChainAnklet",function(){return Ji}),r.d(e,"BandedAnklet",function(){return $i}),r.d(e,"LipstickPart",function(){return Yi}),r.d(e,"Lipstick",function(){return Xi}),r.d(e,"BellyPiercingSimplePart",function(){return Ki}),r.d(e,"BellyPiercingAdvancedPart",function(){return Zi}),r.d(e,"NipplePiercingPart",function(){return ts}),r.d(e,"StudPart2",function(){return es}),r.d(e,"BridgePart",function(){return rs}),r.d(e,"NipplePiercing",function(){return ns}),r.d(e,"BellyPiercingSimple",function(){return os}),r.d(e,"BellyPiercingAdvanced",function(){return as}),r.d(e,"StudPiercing2",function(){return is}),r.d(e,"Bridge",function(){return ss}),r.d(e,"CuirassPart",function(){return cs}),r.d(e,"CuirassBreastPart",function(){return ls}),r.d(e,"GreavePart",function(){return us}),r.d(e,"VambracePart",function(){return ps}),r.d(e,"Armor",function(){return fs}),r.d(e,"Cuirass",function(){return ys}),r.d(e,"Greaves",function(){return hs}),r.d(e,"Vambraces",function(){return ds}),r.d(e,"ThumbPart",function(){return gs}),r.d(e,"FingerPart",function(){return Ps}),r.d(e,"BodyMakeup",function(){return vs}),r.d(e,"Nails",function(){return bs}),r.d(e,"Item",function(){return ft}),r.d(e,"Items",function(){return ht}),r.d(e,"Tattoo",function(){return St}),r.d(e,"Tattoos",function(){return Ct}),r.d(e,"__version__",function(){return _s});var n=Object.freeze({x:0,y:0}),v=Object.freeze({break:!0}),b=Object.freeze({end:!0});function add(t,e,r){return void 0===r&&(r=1),makePoint(function(t,e){return t+e*r},t,e)}function point_diff(t,e){return makePoint(function(t,e){return e-t},t,e)}function norm(t){return Math.sqrt(t.x*t.x+t.y*t.y)}function angle(t){return Math.atan2(t.y,t.x)}function point_scale(t,e,r){return void 0===r&&(r=n),add(r,point_diff(r,t),e)}function getUnitVector(t){var e=norm(t);return makePoint(function(t){return t/e},t)}function getPerpendicularVector(t){return getUnitVector({x:-t.y,y:t.x})}function extractPoint(t){return{x:t.x,y:t.y}}function reflect(t,e,r){return void 0===e&&(e=1/0),void 0===r&&(r=0),t?(e===1/0?(o=n=0,r=t.y):o=(n=(t.x+(t.y-r)*e)/(1+e*e))*e,{x:2*n-t.x,y:2*o-t.y+2*r}):t;var n,o}function adjust(t,e,r){if(!t)return t;var n={x:t.x+e,y:t.y+r};return t.cp1&&(n.cp1={x:t.cp1.x+e,y:t.cp1.y+r}),t.cp2&&(n.cp2={x:t.cp2.x+e,y:t.cp2.y+r}),n}function adjustPoints(e,r){for(var t=[],n=2;n<arguments.length;n++)t[n-2]=arguments[n];var o=[];return t.forEach(function(t){o.push(adjust(t,e,r))}),o}function scalePoints(o,a){for(var t=[],e=2;e<arguments.length;e++)t[e-2]=arguments[e];t.forEach(function(t){var e,r,n;t&&!1!==t.hasOwnProperty("x")&&(r=(e=point_scale(t,a,o)).x,n=e.y,t.x=r,t.y=n,t.cp1&&(t.cp1=point_scale(t.cp1,a,o)),t.cp2&&(t.cp2=point_scale(t.cp2,a,o)))})}function rotatePoints(e,t){for(var r=[],n=2;n<arguments.length;n++)r[n-2]=arguments[n];var o=Math.cos(t),a=Math.sin(t);r.forEach(function(t){t&&!1!==t.hasOwnProperty("x")&&(rotateDiff(e,t,a,o),t.cp1&&rotateDiff(e,t.cp1,a,o),t.cp2&&rotateDiff(e,t.cp2,a,o))})}function rotateDiff(t,e,r,n){var o=point_diff(t,e),a=o.x*n-o.y*r,i=o.x*r+o.y*n;e.x=t.x+a,e.y=t.y+i}var i=function(){for(var t=0,e=0,r=arguments.length;e<r;e++)t+=arguments[e].length;for(var n=Array(t),o=0,e=0;e<r;e++)for(var a=arguments[e],i=0,s=a.length;i<s;i++,o++)n[o]=a[i];return n};function applyToCurve(t,e,r){var n=r.linear,o=r.quadratic,a=r.cubic,i=extractPoint(t),s=extractPoint(e);if(e.cp1&&e.cp2)return a(i,e.cp1,e.cp2,s);var c=e.cp1||e.cp2;return c?o(i,c,s):n(i,s)}function getPointOnCurve(r,t,e){return applyToCurve(t,e,{linear:function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return getPointOnLine.apply(void 0,i([r],t))},quadratic:function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return makePoint.apply(void 0,i([function getQuadraticValue(t,e,r,n){return(e+n-2*r)*t*t+2*(r-e)*t+e}.bind(null,r)],t))},cubic:function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return makePoint.apply(void 0,i([function getCubicValue(t,e,r,n,o){return e*(1-t)*(1-t)*(1-t)+3*r*(1-t)*(1-t)*t+3*n*(1-t)*t*t+o*t*t*t}.bind(null,r)],t))}})}function getPointOnLine(t,e,r){return makePoint(function getLinearValue(t,e,r){return t*(r-e)+e}.bind(null,t),e,r)}function splitCurve(t,e,r){return applyToCurve(e,r,{linear:function splitLinear(t,e,r){var n=getPointOnLine(t,e,r);return{left:{p1:e,p2:n},right:{p1:n,p2:r}}}.bind(null,t),quadratic:function splitQuadratic(t,e,r,n){var o=getPointOnLine(t,e,r),a=getPointOnLine(t,r,n),i=getPointOnLine(t,o,a),s={p1:e,p2:i};s.p2.cp1=o;var c={p1:extractPoint(i),p2:n};return c.p2.cp1=a,{left:s,right:c}}.bind(null,t),cubic:function splitBezier(t,e,r,n,o){var a=getPointOnLine(t,e,r),i=getPointOnLine(t,r,n),s=getPointOnLine(t,n,o),c=getPointOnLine(t,a,i),l=getPointOnLine(t,i,s),u=getPointOnLine(t,c,l),p={p1:e,p2:u};p.p2.cp1=a,p.p2.cp2=c;var f={p1:extractPoint(u),p2:o};return f.p2.cp1=l,f.p2.cp2=s,{left:p,right:f}}.bind(null,t)})}function interpolateQuadratic(t,e,r,n){return function solveQuadraticEquation(t,e,r){var n=e*e-4*t*r;return n<0?[]:[(-e+Math.sqrt(n))/(2*t),(-e-Math.sqrt(n))/(2*t)]}(t-2*e+r,2*(e-t),t-n)}function cubeRoot(t){return t<0?-Math.pow(-t,1/3):Math.pow(t,1/3)}function interpolateCubic(t,e,r,n,o){var a=3*(e-=o)-(t-=o)-3*(r-=o)+(n-=o);return function solveCubicEquation(t,e,r){var n=t/3,o=(3*e-t*t)/3/3,a=(2*t*t*t-9*t*e+27*r)/27/2,i=roundToDec(a*a+o*o*o,8);if(0<i){var s,c=Math.sqrt(i);return[(s=cubeRoot(-a+c))-cubeRoot(a+c)-n]}if(0===i)return[2*(s=cubeRoot(-a))-n,-s-n];var l=Math.sqrt(-o*o*o),u=-a/l;u<-1?u=-1:1<u&&(u=1);var p=Math.acos(u),f=2*cubeRoot(l);return[f*Math.cos(p/3)-n,f*Math.cos((p+2*Math.PI)/3)-n,f*Math.cos((p+4*Math.PI)/3)-n]}((3*t-6*e+3*r)/a,(-3*t+3*e)/a,t/a).map(function(t){return roundToDec(t,4)})}function interpolateCurve(r,n,o){var a;if(null===o.x)a="y";else{if(null!==o.y)return[];a="x"}return applyToCurve(r,n,{linear:function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return function interpolateLinear(t,e,r){return e===t?[]:[(r-t)/(e-t)]}.apply(void 0,i(t.map(function(t){return t[a]}),[o[a]]))},quadratic:function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return interpolateQuadratic.apply(void 0,i(t.map(function(t){return t[a]}),[o[a]]))},cubic:function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return interpolateCubic.apply(void 0,i(t.map(function(t){return t[a]}),[o[a]]))}}).filter(function(t){return 0<=(t=roundToDec(t,3))&&t<=1}).map(function(t){var e=getPointOnCurve(t,r,n);return e.t=t,e})}function simpleQuadratic(t,e,r,n){return void 0===r&&(r=.5),void 0===n&&(n=0),add(getPointOnLine(r,t,e),getPerpendicularVector(point_diff(t,e)),n)}function elevateDegree(t,e){var n=[t];for(var r in e)e.hasOwnProperty(r)&&r.startsWith("cp")&&n.push(e[r]);n.push(extractPoint(e));for(var o=extractPoint(e),a=1,i=n.length;a<i;++a)!function(t,e){var r=t/e;o["cp"+t]=makePoint(function(t,e){return r*t+(1-r)*e},n[t-1],n[t])}(a,i);return o}function getCubicControlPoints(e,r){return applyToCurve(e,r,{linear:function(){var t=elevateDegree(e,elevateDegree(e,r));return[t.cp1,t.cp2]},quadratic:function(){var t=elevateDegree(e,r);return[t.cp1,t.cp2]},cubic:function(){return[r.cp1,r.cp2]}})}function transformCurve(t,e,r,n){if(!r)return n;if(!n)return r;var o=getCubicControlPoints(e,r),a=o[0],i=o[1],s=getCubicControlPoints(e,n),c=s[0],l=s[1],u=getPointOnLine(t,r,n);return u.cp1=getPointOnLine(t,a,c),u.cp2=getPointOnLine(t,i,l),u}function reverseDrawPoint(t,e){return t&&e?{x:t.x,y:t.y,cp1:clone(e.cp2),cp2:clone(e.cp1)}:t}function continueCurve(t,e,r){return void 0===r&&(r=1),applyToCurve(t,e,{linear:function(){return add(e,point_diff(t,e),r)},quadratic:function(){return point_scale(elevateDegree(t,e).cp2,-r,e)},cubic:function(){return point_scale(e.cp2,-r,e)}})}var d="rgba(0,0,0,0)";function drawPoints(t){for(var e=[],r=1;r<arguments.length;r++)e[r-1]=arguments[r];if(!(e.length<1)){var n=e[0];n&&(n===v&&(n=e[1]),n&&n.hasOwnProperty("x")&&t.moveTo(n.x,n.y));for(var o=1,a=e.length;o<a;++o){var i=e[o];i&&(i===v?++o<e.length&&(i=e[o],t.moveTo(i.x,i.y)):i.cp2&&i.cp1?t.bezierCurveTo(i.cp1.x,i.cp1.y,i.cp2.x,i.cp2.y,i.x,i.y,i.traceOptions):i.cp1?t.quadraticCurveTo(i.cp1.x,i.cp1.y,i.x,i.y,i.traceOptions):i.cp2?t.quadraticCurveTo(i.cp2.x,i.cp2.y,i.x,i.y,i.traceOptions):i.hasOwnProperty("x")&&t.lineTo(i.x,i.y))}}}function drawCircle(t,e){var r=.552284749831*e,n={x:t.x,y:t.y+e,cp1:void 0,cp2:void 0},o={x:t.x+e,y:t.y,cp1:void 0,cp2:void 0},a={x:t.x,y:t.y-e,cp1:void 0,cp2:void 0},i={x:t.x-e,y:t.y,cp1:void 0,cp2:void 0};return n.cp1={x:i.x,y:i.y+r},n.cp2={x:n.x-r,y:n.y},o.cp1={x:n.x+r,y:n.y},o.cp2={x:o.x,y:o.y+r},a.cp1={x:o.x,y:o.y-r},a.cp2={x:a.x+r,y:a.y},i.cp1={x:a.x-r,y:a.y},i.cp2={x:i.x,y:i.y-r},[n,o,a,i,n]}function drawSpecificCurl(t,e,r){var n=extractPoint(t),o=extractPoint(e),a=extractPoint(r),i=t.t,s=void 0===i?.5:i,c=t.deflection,l=void 0===c?.5:c;o.cp1=simpleQuadratic(n,o,s,l);var u=r.t,s=void 0===u?.5:u,p=r.deflection,l=void 0===p?.5:p;return a.cp1=simpleQuadratic(n,o,s,l),[n,o,a]}function tracePoint(t,e){return e?"number"==typeof e&&(e={radius:e}):e={radius:1},t.traceOptions={point:e},t}var o={brownFur:Object.freeze({stroke:"#663300",fill:"#ac7339",coverConceal:["this"]}),sheerFabric:Object.freeze({stroke:"#000",fill:"rgba(0,0,0,0.8)"})};function _defineProperties(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}var a=100,s=document.createElement("canvas");s.width=a,s.height=a;var c=s.getContext("2d"),p=document.createElement("canvas"),l={},f=[],u={};function listAvailablePatterns(){var t=[];for(var e in u)u.hasOwnProperty(e)&&t.push(e);return t}function getPatternFullName(t,e){return t+"."+e}function getPatternBaseName(t){var e=t.indexOf(".");return e<0?t:t.substr(0,e)}var y=function(){function CachedPattern(t){if(!function _classCallCheck(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,CachedPattern),Object.assign(this,{patternName:"",patternSize:a},t),this.fullName=this.patternName+"."+this.patternSize,""!==this.patternName){if(!1===u.hasOwnProperty(this.patternName))throw new Error("Trying to get pattern that hasn't been added yet: "+this.patternName);l.hasOwnProperty(this.fullName)||(console.log("create pattern "+this.fullName),f.push(loadPattern(this.patternName,u[this.patternName],this.patternSize)))}}return function _createClass(t,e,r){e&&_defineProperties(t.prototype,e),r&&_defineProperties(t,r)}(CachedPattern,[{key:"getLoaded",value:function getLoaded(t,e){var r=l[this.fullName];return"function"==typeof r?r(t,e):r}}]),CachedPattern}();function getPattern(t){return new y({patternName:t,patternSize:1<arguments.length&&void 0!==arguments[1]?arguments[1]:a})}function getLoadedPattern(t,e,r){return isPattern(t)?t.getLoaded(e,r):"function"==typeof t?getLoadedPattern.call(this,t.call(this,e,r),e,r):t}function addPattern(t,e){u[t]||(u[t]=e)}function loadPattern(e,r,a){var i=e+"."+a;return"function"==typeof r?r.length<=1?new Promise(function(t){l[i]=r(c),t()}):new Promise(function(t){l[i]=r,t()}):new Promise(function(n,t){var o=new Image;o.onload=function(){var t=o.width/a,e=Math.round(o.height/t);p.width=a,p.height=e;var r=p.getContext("2d");r.scale(1,-1),r.drawImage(o,0,0,o.width,o.height,0,0,a,-e),l[i]=r.createPattern(p,"repeat"),n()},o.onerror=function(){alert(Error("failed to load pattern '"+e+"' from "+r)),t()},o.crossOrigin="anonymous",o.src=r})}function drawTattooPattern(t,e,r,n){var o=rad(t.rotation),a=t.width?t.width/e.width:1,i=e.width,s=e.height,c=Math.max(i,s)*Math.sqrt(2);p.width=c*a,p.height=c*a;var l=p.getContext("2d");l.scale(a,a),l.translate(c/2,c/2),l.rotate(o),l.drawImage(e,-i/2,-s/2);var u=point_diff(r.transformPoint(p.width/2,p.height/2),r.transformPoint(0,0));r.drawImage(p,n.x+u.x,n.y+u.y)}function isPattern(t){return t instanceof y}var h=r(3),g={fem:{desc:"how overall feminine their appearance is; influences a lot of dimensions",low:0,high:11,avg:5,stdev:1,bias:2},pregnancy:{desc:"stages of pregnancy affecting belly protrusion",low:0,high:10,avg:0,stdev:0,bias:0}},P={skeleton:["human"]},_=Object.freeze({BASE:0,BACK:1,FRONT:2,SHADING_FRONT:3,MALE_GENITALS:4,MIDRIFT:5,SHADING_MIDRIFT:6,ARMS:7,SHADING_ARMS:8,GENITALS:9,SHADING_GENITALS:10,BELOW_HAIR:11,SHADING_BELOW_HAIR:12,HAIR:13,SHADING_HAIR:14,ABOVE_HAIR:15,EFFECTS:16,NUM_LAYERS:17}),m=[_.SHADING_FRONT,_.SHADING_MIDRIFT,_.SHADING_ARMS,_.SHADING_GENITALS,_.SHADING_BELOW_HAIR,_.SHADING_HAIR],S=0;function getCanvasGroup(t,e){var r=t;"string"==typeof t?r=document.getElementById(t):t=t.id;var n=Object.assign({width:"500",height:"800",parent:r},e);r.style.width=n.width+"px",r.style.height=n.height+"px",r.style.textAlign="left";for(var o=[],a=0;a<=_.NUM_LAYERS;++a){var i=t+a,s=null;a!==_.NUM_LAYERS&&(s={visibility:"hidden"}),o.push(getCanvas(i,Object.assign({},n,{"z-index":a},s)))}return r}function getCanvas(t,e){var r="string"==typeof t?document.getElementById(t):t;!1===e.hasOwnProperty("parent")&&(e.parent=document.createElement("div"),document.body.appendChild(e.parent),e.parent.style.width=e.width+"px",e.parent.style.height=e.height+"px");var n=!r;for(var o in n&&((r=document.createElement("canvas")).id=t),r.width=e.width,r.height=e.height,r.style.position="absolute",e)!1!==e.hasOwnProperty(o)&&"width"!==o&&"height"!==o&&e.hasOwnProperty(o)&&(r.style[o]=e[o]);return n&&e.parent.insertBefore(r,e.parent.firstChild),r}function hideCanvasGroup(t){getCanvasHandle(t).style.display="none"}function showCanvasGroup(t){getCanvasHandle(t).style.display="block"}function getCanvasHandle(t){return"string"==typeof t?document.getElementById(t):t}var k=r(30),C=r.n(k);function extractSideLocation(t){var e=extractUnmodifiedLocation(t);return e.indexOf(" ")<0?null:e.substr(0,e.indexOf(" "))}function extractBaseLocation(t){var e=extractUnmodifiedLocation(t);return e.indexOf(" ")<0?e:e.substr(e.lastIndexOf(" ")+1)}function extractUnmodifiedLocation(t){for(var e=0;e<t.length;++e)switch(t[e]){case"+":case"-":break;default:return t.substr(e)}}function extractLocationModifier(t){for(var e="",r=0;r<t.length;++r)switch(t[r]){case"+":case"-":e+=t[r]}return e}var w={ARM:"arm",CHEST:"chest",TORSO:"torso",BUTT:"butt",FEET:"feet",GROIN:"groin",HAND:"hand",HEAD:"head",HAIR:"hair",LEG:"leg",NECK:"neck",PENIS:"penis",VAGINA:"vagina",TESTICLES:"testicles",GENITALS:"genitals",EAR:"ears",EYEBROW:"brow",EYELASH:"eyelash",EYELID:"eyelid",EYES:"eyes",IRIS:"iris",LIPS:"lips",MOUTH:"mouth",NOSE:"nose",PUPIL:"pupil"};function locationIsSideless(t){switch(t){case w.TORSO:case w.HEAD:case w.NECK:case w.PENIS:case w.TESTICLES:case w.VAGINA:case w.LIPS:case w.MOUTH:case w.NOSE:return!0;default:return!1}}function locateRelativeToDrawpoint(t,e){var r=e.drawpoint,n=e.dx,o=e.dy;return adjust(C()(t,r),n,o)}function _typeof(t){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function _typeof(t){return typeof t}:function _typeof(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function _setPrototypeOf(t,e){return(_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(t,e){return t.__proto__=e,t})(t,e)}function _createSuper(r){var n=function _isNativeReflectConstruct(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(t){return!1}}();return function _createSuperInternal(){var t,e=_getPrototypeOf(r);return function _possibleConstructorReturn(t,e){return!e||"object"!==_typeof(e)&&"function"!=typeof e?function _assertThisInitialized(t){if(void 0!==t)return t;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}(t):e}(this,n?(t=_getPrototypeOf(this).constructor,Reflect.construct(e,arguments,t)):e.apply(this,arguments))}}function _getPrototypeOf(t){return(_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function part_classCallCheck(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function part_defineProperties(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function part_createClass(t,e,r){return e&&part_defineProperties(t.prototype,e),r&&part_defineProperties(t,r),t}var x=function(){function BasePart(){part_classCallCheck(this,BasePart),this.loc=null,this.parentPart=null,this.layer=_.BASE,this.reflect=!1,this.coverConceal=[],this.uncoverable=!1,this.aboveParts=[],this.belowParts=[];for(var t=arguments.length,e=new Array(t),r=0;r<t;r++)e[r]=arguments[r];Object.assign.apply(Object,[this].concat(e))}return part_createClass(BasePart,[{key:"toString",value:function toString(){return this.loc}}]),BasePart}(),O=function(){!function _inherits(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&_setPrototypeOf(t,e)}(BodyPart,x);var n=_createSuper(BodyPart);function BodyPart(){part_classCallCheck(this,BodyPart);for(var t=arguments.length,e=new Array(t),r=0;r<t;r++)e[r]=arguments[r];return n.call.apply(n,[this].concat(e))}return part_createClass(BodyPart,[{key:"stroke",value:function stroke(){return d}},{key:"fill",value:function fill(){return"inherit"}},{key:"getLineWidth",value:function getLineWidth(){return.8}},{key:"calcDrawPoints",value:function calcDrawPoints(){}}]),BodyPart}(),A={RIGHT:0,LEFT:1,create:function create(t){for(var e=arguments.length,r=new Array(1<e?e-1:0),n=1;n<e;n++)r[n-1]=arguments[n];var o=Object.assign.apply(Object,[{}].concat(r)),a=new t(o),i=o&&o.hasOwnProperty("side")?o.side:null;null===i&&(i=extractSideLocation(a.loc)),void 0!==a.forcedSide&&(i=a.forcedSide);var s,c,l=getSideLocation(i);return"right"!==l&&"left"!==l||(s=extractBaseLocation(a.loc),c=extractLocationModifier(a.loc),a.loc=c+l+" "+s),a.side=getSideValue(i),a}};function getSideLocation(t){return"right"===t||"left"===t?t:t===A.LEFT?"left":t===A.RIGHT?"right":null}function prototypeAppliesToSide(t,e){if(null===t)return!0;var r=e.name.toLowerCase();return!!r.startsWith(t)||!r.startsWith("left")&&!r.startsWith("right")}function partConflict(t,e){return t.side===e.side&&(Object.getPrototypeOf(t)===Object.getPrototypeOf(e)||extractUnmodifiedLocation(t.loc)===extractUnmodifiedLocation(e.loc)&&("-"===t.loc.charAt(0)||"-"===e.loc.charAt(0)||"+"!==t.loc.charAt(0)&&"+"!==e.loc.charAt(0)))}function isParentPart(t,e){if(!e.parentPart)return!1;if(extractBaseLocation(t.loc)!==e.parentPart)return!1;var r=extractSideLocation(t.loc);return!(null!==r&&r!==extractSideLocation(e.loc))}function getSideValue(t){return"left"===t||t===A.LEFT?A.LEFT:A.RIGHT}function getAttachedLocation(t){return extractUnmodifiedLocation((new t).loc)}function hair_part_typeof(t){return(hair_part_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function _typeof(t){return typeof t}:function _typeof(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function _construct(t,e,r){return(_construct=hair_part_isNativeReflectConstruct()?Reflect.construct:function _construct(t,e,r){var n=[null];n.push.apply(n,e);var o=new(Function.bind.apply(t,n));return r&&hair_part_setPrototypeOf(o,r.prototype),o}).apply(null,arguments)}function hair_part_defineProperties(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function hair_part_setPrototypeOf(t,e){return(hair_part_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(t,e){return t.__proto__=e,t})(t,e)}function hair_part_createSuper(r){var n=hair_part_isNativeReflectConstruct();return function _createSuperInternal(){var t,e=hair_part_getPrototypeOf(r);return function hair_part_possibleConstructorReturn(t,e){return!e||"object"!==hair_part_typeof(e)&&"function"!=typeof e?function hair_part_assertThisInitialized(t){if(void 0!==t)return t;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}(t):e}(this,n?(t=hair_part_getPrototypeOf(this).constructor,Reflect.construct(e,arguments,t)):e.apply(this,arguments))}}function hair_part_isNativeReflectConstruct(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(t){return!1}}function hair_part_getPrototypeOf(t){return(hair_part_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var T=function(){!function hair_part_inherits(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&hair_part_setPrototypeOf(t,e)}(HairPart,x);var n=hair_part_createSuper(HairPart);function HairPart(){!function hair_part_classCallCheck(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,HairPart);for(var t=arguments.length,e=new Array(t),r=0;r<t;r++)e[r]=arguments[r];return n.call.apply(n,[this,{layer:_.HAIR,reflect:!1,coverConceal:[],uncoverable:!1}].concat(e))}return function hair_part_createClass(t,e,r){e&&hair_part_defineProperties(t.prototype,e),r&&hair_part_defineProperties(t,r)}(HairPart,[{key:"stroke",value:function stroke(t,e){return e.hairStroke}},{key:"fill",value:function fill(t,e){return e.hairFill}},{key:"getLineWidth",value:function getLineWidth(){return 1.5}}]),HairPart}(),j={create:function create(t){for(var e=arguments.length,r=new Array(1<e?e-1:0),n=1;n<e;n++)r[n-1]=arguments[n];var o=_construct(t,r);return!1===o.hasOwnProperty("side")&&(o.side=getSideValue(null)),o},hairBack:Object.freeze({loc:"back hair",layer:_.BACK,belowParts:["parts groin"]}),hairAboveEars:Object.freeze({loc:"ears hair",layer:_.BELOW_HAIR,aboveParts:["ears"]}),hairMedium:Object.freeze({loc:"medium hair",layer:_.GENITALS,aboveParts:["chest","neck"]}),hairFront:Object.freeze({loc:"front hair",layer:_.HAIR})};function shading_part_defineProperties(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}var R="hsl(0,15%,85%)",B=function(){function ShadingPart(){!function shading_part_classCallCheck(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,ShadingPart);for(var t=arguments.length,e=new Array(t),r=0;r<t;r++)e[r]=arguments[r];Object.assign.apply(Object,[this,{layer:_.FRONT}].concat(e))}return function shading_part_createClass(t,e,r){e&&shading_part_defineProperties(t.prototype,e),r&&shading_part_defineProperties(t,r)}(ShadingPart,[{key:"stroke",value:function stroke(){return d}},{key:"fill",value:function fill(){return"hsl(0,15%,80%)"}},{key:"getLineWidth",value:function getLineWidth(){return 0}}]),ShadingPart}();function asian_bun_typeof(t){return(asian_bun_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function _typeof(t){return typeof t}:function _typeof(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function _slicedToArray(t,e){return function _arrayWithHoles(t){if(Array.isArray(t))return t}(t)||function _iterableToArrayLimit(t,e){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(t)))return;var r=[],n=!0,o=!1,a=void 0;try{for(var i,s=t[Symbol.iterator]();!(n=(i=s.next()).done)&&(r.push(i.value),!e||r.length!==e);n=!0);}catch(t){o=!0,a=t}finally{try{n||null==s.return||s.return()}finally{if(o)throw a}}return r}(t,e)||function _unsupportedIterableToArray(t,e){if(!t)return;if("string"==typeof t)return _arrayLikeToArray(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);"Object"===r&&t.constructor&&(r=t.constructor.name);if("Map"===r||"Set"===r)return Array.from(t);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return _arrayLikeToArray(t,e)}(t,e)||function _nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function _arrayLikeToArray(t,e){(null==e||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function asian_bun_classCallCheck(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function asian_bun_defineProperties(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function asian_bun_createClass(t,e,r){return e&&asian_bun_defineProperties(t.prototype,e),r&&asian_bun_defineProperties(t,r),t}function asian_bun_inherits(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&asian_bun_setPrototypeOf(t,e)}function asian_bun_setPrototypeOf(t,e){return(asian_bun_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(t,e){return t.__proto__=e,t})(t,e)}function asian_bun_createSuper(r){var n=function asian_bun_isNativeReflectConstruct(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(t){return!1}}();return function _createSuperInternal(){var t,e=asian_bun_getPrototypeOf(r);return function asian_bun_possibleConstructorReturn(t,e){return!e||"object"!==asian_bun_typeof(e)&&"function"!=typeof e?function asian_bun_assertThisInitialized(t){if(void 0!==t)return t;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}(t):e}(this,n?(t=asian_bun_getPrototypeOf(this).constructor,Reflect.construct(e,arguments,t)):e.apply(this,arguments))}}function asian_bun_getPrototypeOf(t){return(asian_bun_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var E=function(){asian_bun_inherits(AsianBunBack,T);var n=asian_bun_createSuper(AsianBunBack);function AsianBunBack(){asian_bun_classCallCheck(this,AsianBunBack);for(var t=arguments.length,e=new Array(t),r=0;r<t;r++)e[r]=arguments[r];return n.call.apply(n,[this,j.hairBack,{coverConceal:["head"]}].concat(e))}return asian_bun_createClass(AsianBunBack,[{key:"renderHairPoints",value:function renderHairPoints(e,r,t,n){var o,a,i,s=this.hairLength;function drawBackBuns(){var t=adjust(r.neck.top,1,-1);e.beginPath(),e.ellipse(t.x,t.y,.08*s,.06*s,.25*Math.PI,0,2*Math.PI),e.fill(),e.stroke()}drawBackBuns(),e.scale(-1,1),drawBackBuns(),e.scale(-1,1),10<(s=this.hairLength)&&(a={x:(o={x:0,y:r.skull.y+3}).x+.13*s,y:o.y+.05*s},i={x:o.x+.1*s,y:o.y+.1*s},e.save(),e.beginPath(),e.strokeStyle=n.hairAccessoryColor,drawPoints(e,o,a),e.stroke(),e.restore(),e.beginPath(),e.ellipse(o.x,o.y,.1*s,.06*s,0,0,2*Math.PI),e.fill(),e.stroke(),e.beginPath(),e.save(),e.strokeStyle=n.hairAccessoryColor,drawPoints(e,adjust(o,1+.02*s,1+.02*s),i),e.stroke(),e.restore())}}]),AsianBunBack}(),L=function(){asian_bun_inherits(LargeSideBangShading,B);var n=asian_bun_createSuper(LargeSideBangShading);function LargeSideBangShading(){asian_bun_classCallCheck(this,LargeSideBangShading);for(var t=arguments.length,e=new Array(t),r=0;r<t;r++)e[r]=arguments[r];return n.call.apply(n,[this,{loc:"+head",layer:_.HAIR,forcedSide:A.LEFT}].concat(e))}return asian_bun_createClass(LargeSideBangShading,[{key:"calcDrawPoints",value:function calcDrawPoints(t,e,r,n,o){var a=clamp(o.dim.hairLength,0,50),i=calcLargeSideBang.call(this,t,a),s=i.tip,c=i.bot,l=_slicedToArray(adjustPoints(.03*-a,.04*-a,s.cp1,s.cp2),2),u=l[0],p=l[1],f=_slicedToArray(adjustPoints(.06*a,.05*a,s.cp1,s.cp2),2),y=f[0],h=f[1];return c.cp1=h,c.cp2=y,s.cp1=u,s.cp2=p,[c,s,c]}}]),LargeSideBangShading}(),I=function(){asian_bun_inherits(AsianBunFront,T);var n=asian_bun_createSuper(AsianBunFront);function AsianBunFront(){asian_bun_classCallCheck(this,AsianBunFront);for(var t=arguments.length,e=new Array(t),r=0;r<t;r++)e[r]=arguments[r];return n.call.apply(n,[this,j.hairFront,{shadingParts:[L]}].concat(e))}return asian_bun_createClass(AsianBunFront,[{key:"renderHairPoints",value:function renderHairPoints(t,e){var r=clamp(this.hairLength,0,70),n={x:e.skull.x-2,y:e.skull.y+3},o=adjust(e.skull.side,1,0);o.cp1.x+=3+.01*r,o.cp1.y+=3+.01*r,o.cp2.x=o.x,n.cp1={x:o.x-4,y:o.y+3},n.cp2={x:n.x,y:n.y-this.faceLength/15},t.beginPath(),drawPoints(t,n,o,n),t.fill(),t.stroke();var a=clamp(this.hairLength,0,50);t.save();var i=calcLargeSideBang.call(this,e,a),s=i.tip,c=i.out,l=i.bot;t.scale(-1,1),t.beginPath(),drawPoints(t,s,c,l,s),t.fill(),t.stroke(),t.restore()}}]),AsianBunFront}();function calcLargeSideBang(t,e){var r={x:t.skull.x-2,y:t.skull.y+3},n=adjust(t.skull.side,1+.03*e,clamp(2-.05*e,-3,2));n.cp2.x=n.x,n.cp2.y-=2,n.cp1.x+=.05*e,n.cp1.y+=2+.04*e;var o,a={x:n.x-clamp(.1*e,0,10),y:n.y-clamp(e,0,20)};return a.x=clamp(a.x,13,n.x),a.cp2={x:clamp(a.x+.08*e,0,Math.POSITIVE_INFINITY),y:a.y+2+.07*e},5<e&&(a.x-=.1*(e-5),20<e&&(a=adjust(a,.02*-(o=e-20),.15*-o))),a.cp1=continueCurve(r,n),r.cp1=point_scale(a.cp2,2,a),r.cp1.y=n.y,r.cp2={x:r.x-8,y:r.y-this.faceLength/15},e<10&&(r.cp2.y-=.5*(10-e)),{tip:r,out:n,bot:a}}function curly_tail_typeof(t){return(curly_tail_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function _typeof(t){return typeof t}:function _typeof(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function curly_tail_slicedToArray(t,e){return function curly_tail_arrayWithHoles(t){if(Array.isArray(t))return t}(t)||function curly_tail_iterableToArrayLimit(t,e){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(t)))return;var r=[],n=!0,o=!1,a=void 0;try{for(var i,s=t[Symbol.iterator]();!(n=(i=s.next()).done)&&(r.push(i.value),!e||r.length!==e);n=!0);}catch(t){o=!0,a=t}finally{try{n||null==s.return||s.return()}finally{if(o)throw a}}return r}(t,e)||function curly_tail_unsupportedIterableToArray(t,e){if(!t)return;if("string"==typeof t)return curly_tail_arrayLikeToArray(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);"Object"===r&&t.constructor&&(r=t.constructor.name);if("Map"===r||"Set"===r)return Array.from(t);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return curly_tail_arrayLikeToArray(t,e)}(t,e)||function curly_tail_nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function curly_tail_arrayLikeToArray(t,e){(null==e||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function curly_tail_classCallCheck(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function curly_tail_defineProperties(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function curly_tail_createClass(t,e,r){return e&&curly_tail_defineProperties(t.prototype,e),r&&curly_tail_defineProperties(t,r),t}function curly_tail_inherits(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&curly_tail_setPrototypeOf(t,e)}function curly_tail_setPrototypeOf(t,e){return(curly_tail_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(t,e){return t.__proto__=e,t})(t,e)}function curly_tail_createSuper(r){var n=function curly_tail_isNativeReflectConstruct(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(t){return!1}}();return function _createSuperInternal(){var t,e=curly_tail_getPrototypeOf(r);return function curly_tail_possibleConstructorReturn(t,e){return!e||"object"!==curly_tail_typeof(e)&&"function"!=typeof e?function curly_tail_assertThisInitialized(t){if(void 0!==t)return t;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}(t):e}(this,n?(t=curly_tail_getPrototypeOf(this).constructor,Reflect.construct(e,arguments,t)):e.apply(this,arguments))}}function curly_tail_getPrototypeOf(t){return(curly_tail_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var F,H=function(){curly_tail_inherits(CurlyTailFront,T);var n=curly_tail_createSuper(CurlyTailFront);function CurlyTailFront(){curly_tail_classCallCheck(this,CurlyTailFront);for(var t=arguments.length,e=new Array(t),r=0;r<t;r++)e[r]=arguments[r];return n.call.apply(n,[this,j.hairFront].concat(e))}return curly_tail_createClass(CurlyTailFront,[{key:"renderHairPoints",value:function renderHairPoints(t,e){var r=clamp(this.hairLength,0,70),n={x:e.skull.x+.02*r,y:e.skull.y+3},o=splitCurve(clamp(.75+.0045*r,0,1.1),n,e.skull.side).left.p2;o.cp1.x+=3+.01*r,o.cp1.y+=3+.01*r,o.cp2.x=o.x,n.cp1={x:o.x-4+.03*r,y:o.y+3+.1*r},n.cp2={x:n.x,y:n.y-this.faceLength/15-.05*r},t.beginPath(),drawPoints(t,n,o,n),t.fill(),t.stroke();var a=calcCurlyTop(e,r),i=a.tip,s=a.out,c=a.bot;s.cp2.y-=.03*r,s.cp2.x+=.01*r,s.cp1.x+=.05*r,s.cp1.y+=4+.05*r,c.cp1={x:s.x,y:clamp(s.y-5-.05*r,c.y,s.y)},c.cp2={x:clamp(c.x+.07*r,0,s.x),y:c.y+2+.07*r},i.cp1=point_scale(c.cp2,3,c),i.cp2={x:i.x-7,y:i.y-this.faceLength/20},r<10&&(i.cp2.y-=.5*(10-r));var l=splitCurve(.5,c,i),u=curly_tail_slicedToArray(drawSpecificCurl({x:l.left.p2.x,y:l.left.p2.y,deflection:.03*-r},{x:l.left.p2.x,y:l.left.p2.y-.08*r},{x:i.x,y:i.y,deflection:-5}),3),p=u[0],f=u[1],y=u[2];y.cp2=l.right.p2.cp2,p.cp1=l.left.p2.cp1,p.cp2=l.left.p2.cp2,t.save(),t.scale(-1,1),t.beginPath(),drawPoints(t,i,s,c,p,f,y),t.fill(),t.stroke(),t.restore()}}]),CurlyTailFront}(),M=function(){curly_tail_inherits(CurlyTailMedium,T);var n=curly_tail_createSuper(CurlyTailMedium);function CurlyTailMedium(){curly_tail_classCallCheck(this,CurlyTailMedium);for(var t=arguments.length,e=new Array(t),r=0;r<t;r++)e[r]=arguments[r];return n.call.apply(n,[this,j.hairMedium].concat(e))}return curly_tail_createClass(CurlyTailMedium,[{key:"renderHairPoints",value:function renderHairPoints(t,e){var r,n,o,a,i,s,c=this.hairLength,l=c-40;0<l&&(n=(r=calcCurlyTop(e,clamp(c,0,70))).out,(a={x:(o=r.bot).x+.04*l,y:o.y-.35*l,cp1:{x:o.x,y:o.y-.2*l}}).cp2={x:a.x,y:a.y+.15*l},(i={x:o.x-.1*l,y:o.y-l,cp1:{x:a.x,y:a.y-.3*l}}).cp2={x:i.x-.05*l,y:i.y+.4*l},(s=extractPoint(e.neck.top)).cp1={x:i.x-.3*l,y:i.y+.2*l},s.cp2={x:s.x,y:s.y-.05*l},t.save(),t.scale(-1,1),t.beginPath(),drawPoints(t,o,a,i,s,n),t.fill(),t.stroke(),t.restore())}}]),CurlyTailMedium}();function calcCurlyTop(t,e){var r={x:t.skull.x-.08*e,y:t.skull.y+3},n=adjust(t.skull.side,1+.03*e,clamp(2-.05*e,-3,2)),o={x:n.x-clamp(.05*e,0,10),y:n.y-clamp(.25*e,0,25)};return 50<e&&(o.x+=.06*(e-50)),{tip:r,out:n,bot:o}}function extractRGB(t){var e=/rgb\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*\)/.exec(t);return e?{r:parseInt(e[1]),g:parseInt(e[2]),b:parseInt(e[3])}:null}function extractHSL(t){var e=/hsl\(\s*(\d+)\s*,\s*(\d+)%\s*,\s*(\d+)%\s*\)/.exec(t);return e?{h:parseInt(e[1]),s:parseInt(e[2]),l:parseInt(e[3])}:null}function extractHex(t){var e=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(t);return e?{r:parseInt(e[1],16),g:parseInt(e[2],16),b:parseInt(e[3],16)}:null}function RGBToHSL(t){var e=[t.r,t.g,t.b],r=e[0],n=e[1],o=e[2];r/=255,n/=255,o/=255;var a,i=Math.max(r,n,o),s=Math.min(r,n,o),c=(i+s)/2;if(i===s)a=u=0;else{var l=i-s,u=.5<c?l/(2-i-s):l/(i+s);switch(i){case r:a=(n-o)/l+(n<o?6:0);break;case n:a=(o-r)/l+2;break;case o:a=(r-n)/l+4}a/=6}return a*=360,u*=100,c*=100,t.hasOwnProperty("a")?{h:a,s:u,l:c,a:t.a}:{h:a,s:u,l:c}}function adjustColor(t,e){var r=null;return"string"==typeof t?null===(r=extractHSL(t))&&(r=(r=(r=r||extractRGB(t))||extractHex(t))&&RGBToHSL(r)):t.hasOwnProperty("h")&&t.hasOwnProperty("s")&&t.hasOwnProperty("l")?r=t:t.hasOwnProperty("r")&&t.hasOwnProperty("g")&&t.hasOwnProperty("b")&&(r=RGBToHSL(t)),null===r?null:(r.h+=e.h||0,r.s+=e.s||0,r.l+=e.l||0,e.hasOwnProperty("a")?"hsla(".concat(r.h.toFixed(1),",").concat(r.s.toFixed(1),"%,").concat(r.l.toFixed(1),"%,").concat(e.a.toFixed(2),")"):"hsl(".concat(r.h.toFixed(1),",").concat(r.s.toFixed(1),"%,").concat(r.l.toFixed(1),"%)"))}function Ziggurat(){var i=123456789,s=Array(128),c=Array(128),l=Array(128);function RNOR(){var t=SHR3(),e=127&t;return Math.abs(t)<l[e]?t*s[e]:function nfix(t,e){var r,n,o=3.442619855899,a=1/o;for(;;){if(r=t*s[e],0==e){for(r=-Math.log(UNI())*a,n=-Math.log(UNI());n+n<r*r;)r=-Math.log(UNI())*a,n=-Math.log(UNI());return 0<t?o+r:-o-r}if(c[e]+UNI()*(c[e-1]-c[e])<Math.exp(-.5*r*r))return r;if(t=SHR3(),e=127&t,Math.abs(t)<l[e])return t*s[e]}}(t,e)}function SHR3(){var t=i;return t^=t<<13,t^=t>>>17,i+(i=t^=t<<5)|0}function UNI(){return.5*(1+SHR3()/-Math.pow(2,31))}this.nextGaussian=RNOR,function zigset(){i^=(new Date).getTime();var t=2147483648,e=3.442619855899,r=e,n=.00991256303526217,o=n/Math.exp(-.5*e*e);l[0]=Math.floor(e/o*t),l[1]=0,s[0]=o/t,s[127]=e/t,c[0]=1,c[127]=Math.exp(-.5*e*e);for(var a=126;1<=a;a--)e=Math.sqrt(-2*Math.log(n/e+Math.exp(-.5*e*e))),l[a+1]=Math.floor(e/r*t),r=e,c[a]=Math.exp(-.5*e*e),s[a]=e/t}()}function randNormal(t,e){return(F=F||new Ziggurat).nextGaussian()*e+t}function testRandGenerator(t){for(var e={},r=-100;r<101;++r)e[r]=0;for(;0<t--;)++e[Math.round(randNormal(10,20))];var n=[];for(var o in e)n.push(o+"\t"+e[o]);console.log(n.join("\n"))}function averagePoint(t,e){var r=2<arguments.length&&void 0!==arguments[2]?arguments[2]:.5;return{x:t.x*(1-r)+e.x*r,y:t.y*(1-r)+e.y*r}}function topologicalSort(i,s){for(var c=i.length,l=new Array(c),u={},t=c;t--;)u[t]||!function visit(e,t,r){if(0<=r.indexOf(e))throw new Error("Cyclic dependency: "+JSON.stringify(e));if(!~i.indexOf(e))throw new Error("Found unknown node. Make sure to provided all involved nodes. Unknown node: "+JSON.stringify(e));if(u[t])return;u[t]=!0;var n=s.filter(function(t){return t[0]===e});if(t=n.length){var o=r.concat(e);do{var a=n[--t][1];visit(a,i.indexOf(a),o)}while(t)}l[--c]=e}(i[t],t,[]);return l}function simpleTopologicalSort(t){return topologicalSort(function uniqueNodes(t){for(var e=[],r=0,n=t.length;r<n;r++){var o=t[r];e.indexOf(o[0])<0&&e.push(o[0]),e.indexOf(o[1])<0&&e.push(o[1])}return e}(t),t)}function hime_cut_slicedToArray(t,e){return function hime_cut_arrayWithHoles(t){if(Array.isArray(t))return t}(t)||function hime_cut_iterableToArrayLimit(t,e){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(t)))return;var r=[],n=!0,o=!1,a=void 0;try{for(var i,s=t[Symbol.iterator]();!(n=(i=s.next()).done)&&(r.push(i.value),!e||r.length!==e);n=!0);}catch(t){o=!0,a=t}finally{try{n||null==s.return||s.return()}finally{if(o)throw a}}return r}(t,e)||function hime_cut_unsupportedIterableToArray(t,e){if(!t)return;if("string"==typeof t)return hime_cut_arrayLikeToArray(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);"Object"===r&&t.constructor&&(r=t.constructor.name);if("Map"===r||"Set"===r)return Array.from(t);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return hime_cut_arrayLikeToArray(t,e)}(t,e)||function hime_cut_nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function hime_cut_arrayLikeToArray(t,e){(null==e||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function hime_cut_typeof(t){return(hime_cut_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function _typeof(t){return typeof t}:function _typeof(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function hime_cut_classCallCheck(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function hime_cut_defineProperties(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function hime_cut_createClass(t,e,r){return e&&hime_cut_defineProperties(t.prototype,e),r&&hime_cut_defineProperties(t,r),t}function hime_cut_inherits(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&hime_cut_setPrototypeOf(t,e)}function hime_cut_setPrototypeOf(t,e){return(hime_cut_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(t,e){return t.__proto__=e,t})(t,e)}function hime_cut_createSuper(r){var n=function hime_cut_isNativeReflectConstruct(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(t){return!1}}();return function _createSuperInternal(){var t,e=hime_cut_getPrototypeOf(r);return function hime_cut_possibleConstructorReturn(t,e){return!e||"object"!==hime_cut_typeof(e)&&"function"!=typeof e?function hime_cut_assertThisInitialized(t){if(void 0!==t)return t;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}(t):e}(this,n?(t=hime_cut_getPrototypeOf(this).constructor,Reflect.construct(e,arguments,t)):e.apply(this,arguments))}}function hime_cut_getPrototypeOf(t){return(hime_cut_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}"function"!=typeof Object.assign&&(Object.assign=function(t){if(null==t)throw new TypeError("Cannot convert undefined or null to object");for(var e=Object(t),r=1;r<arguments.length;r++){var n=arguments[r];if(null!=n)for(var o in n)n.hasOwnProperty(o)&&(e[o]=n[o])}return e}),String.prototype.capitalizeFirstLetter=function(){return this.charAt(0).toUpperCase()+this.slice(1)},Array.prototype.last||(Array.prototype.last=function(){return this.length?this[this.length-1]:null}),Array.prototype.extend||(Array.prototype.extend=function(t){this.push.apply(this,t)}),Array.prototype.contains=function(t){var o=t!=t,e=o||"function"!=typeof Array.prototype.indexOf?function indexOf(t){for(var e=-1,r=-1,e=0;e<this.length;e++){var n=this[e];if(o&&n!=n||n===t){r=e;break}}return r}:Array.prototype.indexOf;return-1<e.call(this,t)},String.prototype.startsWith||(String.prototype.startsWith=function(t,e){return e=e||0,this.substr(e,t.length)===t});var D=function(){hime_cut_inherits(HimeCutFrontShading,B);var n=hime_cut_createSuper(HimeCutFrontShading);function HimeCutFrontShading(){hime_cut_classCallCheck(this,HimeCutFrontShading);for(var t=arguments.length,e=new Array(t),r=0;r<t;r++)e[r]=arguments[r];return n.call.apply(n,[this,{loc:"+head",layer:_.BELOW_HAIR}].concat(e))}return hime_cut_createClass(HimeCutFrontShading,[{key:"calcDrawPoints",value:function calcDrawPoints(t){var e=calcHimeCut(t,clamp(this.hairLength,0,53)),r=e.left,n=e.right,o=e.top,r=adjust(r,0,-1);return[n=adjust(n,0,-1),r,o,n]}}]),HimeCutFrontShading}(),N=function(){hime_cut_inherits(HimeCutBack,T);var n=hime_cut_createSuper(HimeCutBack);function HimeCutBack(){hime_cut_classCallCheck(this,HimeCutBack);for(var t=arguments.length,e=new Array(t),r=0;r<t;r++)e[r]=arguments[r];return n.call.apply(n,[this,j.hairBack,{reflect:!0}].concat(e))}return hime_cut_createClass(HimeCutBack,[{key:"renderHairPoints",value:function renderHairPoints(t,e){var r=this.hairLength,n=calcHimeCut(e,clamp(r,0,53)),o=n.right,a=n.top;a.y+=.01*r,a.x-=S,(o=adjust(o,.005*r,0)).cp1.y+=.01*r;var i={x:o.x,y:o.y-.8*r},s={x:-S,y:i.y-.01*r};t.beginPath(),drawPoints(t,a,o,i,s),t.fill(),t.stroke()}}]),HimeCutBack}(),W=function(){hime_cut_inherits(HimeCutFront,T);var n=hime_cut_createSuper(HimeCutFront);function HimeCutFront(){hime_cut_classCallCheck(this,HimeCutFront);for(var t=arguments.length,e=new Array(t),r=0;r<t;r++)e[r]=arguments[r];return n.call.apply(n,[this,j.hairFront,{shadingParts:[D]}].concat(e))}return hime_cut_createClass(HimeCutFront,[{key:"renderHairPoints",value:function renderHairPoints(t,e){var r=calcHimeCut(e,clamp(this.hairLength,0,53)),n=r.left,o=r.right,a=r.top;t.beginPath(),drawPoints(t,o);var i=splitCurve(.2,o,n),s=i.left.p2;s.deflection=-2,i=splitCurve(.221,o,n),n.cp1=i.left.p2.cp1;var c=hime_cut_slicedToArray(drawSpecificCurl(s,averagePoint(s,a,.6),{x:i.left.p2.x,y:i.left.p2.y,deflection:-2}),3);drawPoints(t,null,s,c[1],c[2]);var l=splitCurve(.6,o,n),u=l.left.p2;u.deflection=-1,l=splitCurve(.615,o,n),n.cp1=l.left.p2.cp1;var p=hime_cut_slicedToArray(drawSpecificCurl(u,averagePoint(u,a,.4),{x:l.left.p2.x,y:l.left.p2.y,deflection:-1}),3);drawPoints(t,null,u,p[1],p[2]);var f=splitCurve(.9,o,n),y=f.left.p2;y.deflection=4,f=splitCurve(.91,o,n),n.cp1=f.left.p2.cp1;var h=hime_cut_slicedToArray(drawSpecificCurl(y,averagePoint(y,a,.5),{x:f.left.p2.x,y:f.left.p2.y,deflection:4}),3);drawPoints(t,null,y,h[1],h[2]),drawPoints(t,null,n,a,o),t.fill()}}]),HimeCutFront}(),G=function(){hime_cut_inherits(HimeCutSide,T);var n=hime_cut_createSuper(HimeCutSide);function HimeCutSide(){hime_cut_classCallCheck(this,HimeCutSide);for(var t=arguments.length,e=new Array(t),r=0;r<t;r++)e[r]=arguments[r];return n.call.apply(n,[this,j.hairFront,{loc:"+front hair",aboveParts:["hairParts hair"],reflect:!0}].concat(e))}return hime_cut_createClass(HimeCutSide,[{key:"renderHairPoints",value:function renderHairPoints(t,e){var r,n,o,a,i,s,c=this.hairLength;c<40||(n=(r=calcHimeCut(e,clamp(c,0,53))).left,(o=adjust(o=r.right,.4,.9)).cp1.y+=.01*c,a=splitCurve(.1,o,n).left.p2,i={x:o.x,y:o.y-.4*(c-40)},(s={x:a.x,y:i.y-1}).cp1=simpleQuadratic(i,s,.5,1),t.beginPath(),drawPoints(t,o,i,s,a),t.fill())}}]),HimeCutSide}();function calcHimeCut(t,e){var r=splitCurve(.4+e/82,t.skull,t.skull.side).left.p2;(r=adjust(r,1,e/100)).cp1.x-=.09*e;var n=reflect(r);n.cp1=simpleQuadratic(r,n,.5,e/20);var o=extractPoint(t.skull);return o.cp1=reflect(r.cp2),o.cp2=reflect(r.cp1),o=adjust(o,0,2),r.cp1.y+=2,r.cp2.y+=2,{left:n,right:r,top:o}}function straight_typeof(t){return(straight_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function _typeof(t){return typeof t}:function _typeof(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function straight_classCallCheck(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function straight_defineProperties(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function straight_createClass(t,e,r){return e&&straight_defineProperties(t.prototype,e),r&&straight_defineProperties(t,r),t}function straight_inherits(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&straight_setPrototypeOf(t,e)}function straight_setPrototypeOf(t,e){return(straight_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(t,e){return t.__proto__=e,t})(t,e)}function straight_createSuper(r){var n=function straight_isNativeReflectConstruct(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(t){return!1}}();return function _createSuperInternal(){var t,e=straight_getPrototypeOf(r);return function straight_possibleConstructorReturn(t,e){return!e||"object"!==straight_typeof(e)&&"function"!=typeof e?function straight_assertThisInitialized(t){if(void 0!==t)return t;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}(t):e}(this,n?(t=straight_getPrototypeOf(this).constructor,Reflect.construct(e,arguments,t)):e.apply(this,arguments))}}function straight_getPrototypeOf(t){return(straight_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var U=function(){straight_inherits(StraightFrontShading,B);var n=straight_createSuper(StraightFrontShading);function StraightFrontShading(){straight_classCallCheck(this,StraightFrontShading);for(var t=arguments.length,e=new Array(t),r=0;r<t;r++)e[r]=arguments[r];return n.call.apply(n,[this,{loc:"front hair",layer:_.HAIR}].concat(e))}return straight_createClass(StraightFrontShading,[{key:"calcDrawPoints",value:function calcDrawPoints(t){var e=calcStraight.call(this,t),r=e.top,n=e.topBot;return n.cp1=simpleQuadratic(r,n,.5,2.5),n.cp2=null,r.cp1=simpleQuadratic(n,r,.5,-.5),[r,n,r]}}]),StraightFrontShading}(),z=function(){straight_inherits(StraightFrontSideShading,B);var n=straight_createSuper(StraightFrontSideShading);function StraightFrontSideShading(){straight_classCallCheck(this,StraightFrontSideShading);for(var t=arguments.length,e=new Array(t),r=0;r<t;r++)e[r]=arguments[r];return n.call.apply(n,[this,{loc:"+front hair",layer:_.HAIR,reflect:!0}].concat(e))}return straight_createClass(StraightFrontSideShading,[{key:"calcDrawPoints",value:function calcDrawPoints(t){var e=calcStraight.call(this,t),r=e.top,n=e.side,o=e.topBot,a=splitCurve(.8,r,n),i=[],s={x:1,y:.8*r.y+.2*o.y},c=adjust(extractPoint(a.left.p2),-.3,0);c.cp1=simpleQuadratic(s,c,.35,7),s.cp1=simpleQuadratic(c,s,.65,-6.6),i.push(s,c,s);var l={x:-1,y:.4*r.y+.6*o.y},u=adjust(extractPoint(a.left.p2),-.5,-1.5);return u.cp1=simpleQuadratic(l,u,.55,7),l.cp1=simpleQuadratic(u,l,1-.55,-6.6),i.push(v,l,u,l),i.push(b),i}}]),StraightFrontSideShading}(),Q=function(){straight_inherits(StraightFrontShine,T);var n=straight_createSuper(StraightFrontShine);function StraightFrontShine(){straight_classCallCheck(this,StraightFrontShine);for(var t=arguments.length,e=new Array(t),r=0;r<t;r++)e[r]=arguments[r];return n.call.apply(n,[this,{loc:"+ears hair",layer:_.HAIR,aboveParts:["hairParts hair"]}].concat(e))}return straight_createClass(StraightFrontShine,[{key:"renderHairPoints",value:function renderHairPoints(t,e){var r=calcStraight.call(this,e),n=r.top,o=r.topBot,n=adjust(n,2.5,-1),o=adjust(o,2.5,1),a=adjust(averagePoint(n,o,.5),.5,0);o.cp1={x:n.x-1,y:n.y},o.cp2={x:o.x-1,y:o.y+.5},a.cp1={x:o.x+1.5,y:o.y},a.cp2={x:a.x-.2,y:a.y-.3},n.cp1=continueCurve(o,a),n.cp2={x:n.x+2,y:n.y},t.fillStyle="hsla(0,0%,100%,0.2)",t.scale(-1,1),t.beginPath(),drawPoints(t,n,o,a,n),t.fill(),t.scale(-1,1)}}]),StraightFrontShine}(),V=function(){straight_inherits(StraightFront,T);var n=straight_createSuper(StraightFront);function StraightFront(){straight_classCallCheck(this,StraightFront);for(var t=arguments.length,e=new Array(t),r=0;r<t;r++)e[r]=arguments[r];return n.call.apply(n,[this,j.hairFront,{reflect:!0,shadingParts:[U,z]}].concat(e))}return straight_createClass(StraightFront,[{key:"stroke",value:function stroke(){return d}},{key:"renderHairPoints",value:function renderHairPoints(t,e){var r=calcStraight.call(this,e),n=r.top,o=r.side,a=r.topBot;t.beginPath(),drawPoints(t,n,o,a,n),t.fill()}}]),StraightFront}(),q=function(){straight_inherits(StraightSideBangShading,B);var n=straight_createSuper(StraightSideBangShading);function StraightSideBangShading(){straight_classCallCheck(this,StraightSideBangShading);for(var t=arguments.length,e=new Array(t),r=0;r<t;r++)e[r]=arguments[r];return n.call.apply(n,[this,{loc:"+front hair",layer:_.BELOW_HAIR}].concat(e))}return straight_createClass(StraightSideBangShading,[{key:"calcDrawPoints",value:function calcDrawPoints(t){var e=this.hairLength-12;if(e<0)return[];var r=calcStraightSide.call(this,t,e),n=r.sideBot,o=r.innerBot;return n.y+=.1*e,[n,o,{x:o.x+6,y:o.y+10},{x:n.x+3,y:n.y+2},n]}}]),StraightSideBangShading}(),J=function(){straight_inherits(StraightSideBang,T);var n=straight_createSuper(StraightSideBang);function StraightSideBang(){straight_classCallCheck(this,StraightSideBang);for(var t=arguments.length,e=new Array(t),r=0;r<t;r++)e[r]=arguments[r];return n.call.apply(n,[this,j.hairAboveEars,{shadingParts:[q]}].concat(e))}return straight_createClass(StraightSideBang,[{key:"renderHairPoints",value:function renderHairPoints(t,e){var r,n,o,a,i,s,c=this.hairLength-12;c<0||(n=(r=calcStraightSide.call(this,e,c)).top,o=r.side,a=r.sideBot,i=r.innerBot,s=r.innerTop,a.cp1=simpleQuadratic(o,a,.5,.5+.005*c),s.cp1=simpleQuadratic(i,s,.5,-.5),t.beginPath(),drawPoints(t,n,o,a,i,s),t.fill())}}]),StraightSideBang}();function calcStraightSide(t,e){var r=calcStraight.call(this,t),n=r.top,o=r.side;o.x+=.02*e;var a={x:o.x-.03*e,y:o.y-.65*e};return{top:n,side:o,sideBot:a,innerBot:{x:a.x-.02*e,y:a.y-.05*e},innerTop:extractPoint(splitCurve(.6,n,o).left.p2)}}var $=function(){straight_inherits(StraightBack,T);var n=straight_createSuper(StraightBack);function StraightBack(){straight_classCallCheck(this,StraightBack);for(var t=arguments.length,e=new Array(t),r=0;r<t;r++)e[r]=arguments[r];return n.call.apply(n,[this,j.hairBack,{reflect:!0}].concat(e))}return straight_createClass(StraightBack,[{key:"renderHairPoints",value:function renderHairPoints(t,e){var r,n,o,a,i,s=this.hairLength-12;s<0||(n=(r=calcStraight.call(this,e,12+s)).top,(o=r.side).x+=.02*s,i={x:0,y:(a={x:o.x+.05*s,y:o.y-s}).y-.05*s},t.beginPath(),drawPoints(t,n,o,a,i),t.fill(),t.stroke())}}]),StraightBack}();function calcStraight(t){var e=extractPoint(t.skull);e.y+=1;var r=splitCurve(.5,t.skull.side,t.skull.bot).left.p2;r.cp1={x:.5*e.x+.5*r.x,y:e.y+2},r.cp2={x:r.x+3.5,y:.7*e.y+.3*r.y};var n={x:e.x,y:e.y-.04*this.faceLength};return n.cp1={x:r.x,y:.4*r.y+.6*e.y},n.cp2={x:n.x,y:n.y-.02*this.faceLength},e.cp1=simpleQuadratic(n,e,.5,1),{top:e,side:r,topBot:n}}function side_high_tail_typeof(t){return(side_high_tail_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function _typeof(t){return typeof t}:function _typeof(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function side_high_tail_classCallCheck(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function side_high_tail_defineProperties(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function side_high_tail_createClass(t,e,r){return e&&side_high_tail_defineProperties(t.prototype,e),r&&side_high_tail_defineProperties(t,r),t}function side_high_tail_inherits(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&side_high_tail_setPrototypeOf(t,e)}function side_high_tail_setPrototypeOf(t,e){return(side_high_tail_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(t,e){return t.__proto__=e,t})(t,e)}function side_high_tail_createSuper(r){var n=function side_high_tail_isNativeReflectConstruct(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(t){return!1}}();return function _createSuperInternal(){var t,e=side_high_tail_getPrototypeOf(r);return function side_high_tail_possibleConstructorReturn(t,e){return!e||"object"!==side_high_tail_typeof(e)&&"function"!=typeof e?function side_high_tail_assertThisInitialized(t){if(void 0!==t)return t;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}(t):e}(this,n?(t=side_high_tail_getPrototypeOf(this).constructor,Reflect.construct(e,arguments,t)):e.apply(this,arguments))}}function side_high_tail_getPrototypeOf(t){return(side_high_tail_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var Y=function(){side_high_tail_inherits(SideHighTailFront,T);var n=side_high_tail_createSuper(SideHighTailFront);function SideHighTailFront(){side_high_tail_classCallCheck(this,SideHighTailFront);for(var t=arguments.length,e=new Array(t),r=0;r<t;r++)e[r]=arguments[r];return n.call.apply(n,[this,j.hairFront].concat(e))}return side_high_tail_createClass(SideHighTailFront,[{key:"renderHairPoints",value:function renderHairPoints(t,e){var r=clamp(this.hairLength,0,70),n={x:e.skull.x+.02*r,y:e.skull.y+3},o=splitCurve(clamp(.75+.0045*r,.9,1.1),n,e.skull.side).left.p2;o.cp1.x+=3+.01*r,o.cp1.y+=3+.01*r,o.cp2.x=o.x,n.cp1={x:o.x-4+.03*r,y:o.y+3+.1*r},n.cp2={x:n.x,y:n.y-this.faceLength/15-.05*r},t.beginPath(),drawPoints(t,n,o,n),t.fill(),t.stroke();var a=calcSideHighTailTop(e,r),i=a.tip,s=a.out,c=a.bot;s.cp2.y-=.03*r,s.cp2.x+=.01*r,s.cp1.x+=.05*r,s.cp1.y+=4+.05*r,c.cp1={x:s.x,y:clamp(s.y-5-.05*r,c.y,s.y)},c.cp2={x:clamp(c.x+.07*r,0,s.x),y:c.y+2+.07*r},i.cp1=point_scale(c.cp2,3,c),i.cp2={x:i.x-5,y:i.y-this.faceLength/15-.05*r},r<10&&(i.cp2.y-=.5*(10-r)),t.save(),t.scale(-1,1),t.beginPath(),drawPoints(t,i,s,c,i),t.fill(),t.stroke(),t.restore()}}]),SideHighTailFront}(),X=function(){side_high_tail_inherits(SideHighTailTail,T);var n=side_high_tail_createSuper(SideHighTailTail);function SideHighTailTail(){side_high_tail_classCallCheck(this,SideHighTailTail);for(var t=arguments.length,e=new Array(t),r=0;r<t;r++)e[r]=arguments[r];return n.call.apply(n,[this,j.hairMedium].concat(e))}return side_high_tail_createClass(SideHighTailTail,[{key:"renderHairPoints",value:function renderHairPoints(t,e,r,n){var o,a,i,s,c,l,u,p,f,y=this.hairLength,h=this.hairLength-50;h<0||((o=calcSideHighTailTop(e,clamp(y,0,70)).tip).x*=-1,o.y-=.01*h,a={x:o.x,y:o.y+.12*h},i={x:o.x-.09*h,y:o.y},s={x:o.x+.09*h,y:o.y},a.cp1={x:i.x+.02*y,y:i.y+.02*y},a.cp2={x:a.x-.1*h,y:a.y-.02*h},s.cp1={x:a.x+.1*h,y:a.y-.02*h},s.cp2={x:s.x-.02*y,y:s.y+.02*y},rotatePoints(o,-.24,a,i,s),(c={}).out={x:a.x+.2*h,y:a.y-.8*h},c.outbot={x:a.x+.18*h,y:c.out.y-.8*h},c.in=extractPoint(e.neck.top),c.out.cp1={x:a.x+.3*h,y:a.y-.1*h},c.out.cp2={x:c.out.x-.1*h,y:c.out.y+.3*h},c.outbot.cp1=continueCurve(a,c.out),c.outbot.cp2={x:c.outbot.x+.2*h,y:c.outbot.y+.05*h},c.in.cp1={x:c.outbot.x-.05*h,y:c.outbot.y+.4*h},c.in.cp2={x:c.in.x-.1*h,y:c.in.y-.5*h},t.beginPath(),drawPoints(t,a,c.out,c.outbot,c.in),t.fill(),t.stroke(),0<(l=this.hairLength-90)&&((u={}).top=extractPoint(e.neck.top),u.tip={x:u.top.x+.6*l,y:u.top.y-3.5*l},u.tip.cp1={x:u.top.x+1.5*l,y:u.top.y-2*l},u.tip.cp2={x:u.tip.x-.5*l,y:u.tip.y+1.2*l},u.right=extractPoint(e.neck.cusp),u.right.x+=.5,u.right.cp1={x:u.tip.x-.6*l,y:u.tip.y+l},u.right.cp2={x:u.right.x+.3*l,y:u.right.y-.8*l},t.save(),t.scale(-1,1),t.beginPath(),drawPoints(t,u.top,u.tip,u.right),t.fill(),t.stroke(),t.restore()),t.beginPath(),drawPoints(t,i,a,s),t.fill(),t.stroke(),p=splitCurve(.3,i,a).left.p2,(f=splitCurve(.7,a,s).left.p2).cp1=simpleQuadratic(p,f,.5,.03*h),t.save(),t.strokeStyle=n.hairAccessoryColor,t.beginPath(),drawPoints(t,p,f),t.stroke(),t.restore())}}]),SideHighTailTail}();function calcSideHighTailTop(t,e){var r={x:t.skull.x-.08*e,y:t.skull.y+3},n=adjust(t.skull.side,.03*e,clamp(2-.05*e,-3,2)),o={x:n.x-clamp(.05*e,0,10),y:n.y-clamp(.25*e,0,25)};return 50<e&&(o.x+=.06*(e-50)),{tip:r,out:n,bot:o}}function hime_curl_typeof(t){return(hime_curl_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function _typeof(t){return typeof t}:function _typeof(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function hime_curl_slicedToArray(t,e){return function hime_curl_arrayWithHoles(t){if(Array.isArray(t))return t}(t)||function hime_curl_iterableToArrayLimit(t,e){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(t)))return;var r=[],n=!0,o=!1,a=void 0;try{for(var i,s=t[Symbol.iterator]();!(n=(i=s.next()).done)&&(r.push(i.value),!e||r.length!==e);n=!0);}catch(t){o=!0,a=t}finally{try{n||null==s.return||s.return()}finally{if(o)throw a}}return r}(t,e)||function hime_curl_unsupportedIterableToArray(t,e){if(!t)return;if("string"==typeof t)return hime_curl_arrayLikeToArray(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);"Object"===r&&t.constructor&&(r=t.constructor.name);if("Map"===r||"Set"===r)return Array.from(t);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return hime_curl_arrayLikeToArray(t,e)}(t,e)||function hime_curl_nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function hime_curl_arrayLikeToArray(t,e){(null==e||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function hime_curl_classCallCheck(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function hime_curl_defineProperties(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function hime_curl_createClass(t,e,r){return e&&hime_curl_defineProperties(t.prototype,e),r&&hime_curl_defineProperties(t,r),t}function hime_curl_inherits(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&hime_curl_setPrototypeOf(t,e)}function hime_curl_setPrototypeOf(t,e){return(hime_curl_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(t,e){return t.__proto__=e,t})(t,e)}function hime_curl_createSuper(r){var n=function hime_curl_isNativeReflectConstruct(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(t){return!1}}();return function _createSuperInternal(){var t,e=hime_curl_getPrototypeOf(r);return function hime_curl_possibleConstructorReturn(t,e){return!e||"object"!==hime_curl_typeof(e)&&"function"!=typeof e?function hime_curl_assertThisInitialized(t){if(void 0!==t)return t;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}(t):e}(this,n?(t=hime_curl_getPrototypeOf(this).constructor,Reflect.construct(e,arguments,t)):e.apply(this,arguments))}}function hime_curl_getPrototypeOf(t){return(hime_curl_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var K=function(){hime_curl_inherits(HimeCurlShading,B);var n=hime_curl_createSuper(HimeCurlShading);function HimeCurlShading(){hime_curl_classCallCheck(this,HimeCurlShading);for(var t=arguments.length,e=new Array(t),r=0;r<t;r++)e[r]=arguments[r];return n.call.apply(n,[this,{loc:"+front hair",layer:_.GENITALS}].concat(e))}return hime_curl_createClass(HimeCurlShading,[{key:"calcDrawPoints",value:function calcDrawPoints(t){var e=calcHimeCurl(t,this.hairLength),r=e.right,n=e.out,o=e.bot,a=e.fork,i=e.forkIn,s=hime_curl_slicedToArray(adjustPoints(-2,0,r,n),2),c=s[0],l=s[1];o.cp1=adjust(o.cp1,-3,0),o.cp2=adjust(o.cp2,-4,0);var u=splitCurve(.35,l,o),p=adjust(u.left.p2,-2,0);return p.cp1=u.left.p2.cp1,p.cp2={x:p.x+.04*this.hairLength,y:p.y-.2*this.hairLength},o.cp1={x:p.x-.02*this.hairLength,y:p.y-.07*this.hairLength},o.cp2=u.right.p2.cp2,r.cp1={x:o.x+12,y:o.y},r.cp2={x:r.x+5,y:c.y},a.y+=1.5,a.x+=.7,a.cp1=simpleQuadratic(a,i,.5,-7),a.cp2=null,[r,l,p,o,r,v,o,a,i,a,extractPoint(o),b]}}]),HimeCurlShading}();function calcHimeCurl(t,e){var r=calcHimeCut(t,clamp(e,0,53)),n=r.right,o=r.top;o.y+=.01*e,o.x-=S,(n=adjust(n,.005*e,0)).cp1.y+=.01*e,o.cp1.y+=.01*e,o.cp2.x-=.005*e;var a=reflect(n);n.x+=.012*e;var i={x:n.x,y:n.y-.8*e},s={x:n.x-.01*e,y:.7*n.y+.3*i.y};s.cp1={x:n.x+.01*e,y:n.y-.15*e},s.cp2={x:s.x,y:s.y+.1*e},i.cp1={x:s.x,y:s.y-.07*e},i.cp2={x:i.x+.1*e,y:i.y+.1*e};var c={x:i.x-.03*e,y:i.y+.2*e},l={x:c.x-.02*e,y:c.y-.1*e},u=extractPoint(t.neck.top);return u.y-=2,u.cp1={x:l.x-.18*e,y:l.y+.23*e},u.cp2={x:u.x,y:u.y-.23*e},c.cp1={x:i.x+.02*e,y:i.y+.07*e},c.cp2={x:c.x-.02*e,y:c.y-.07*e},l.cp1=simpleQuadratic(c,l,.3,.02*-e),{left:a,top:o,right:n,out:s,bot:i,fork:c,forkIn:l,forkTop:u}}var Z=[[],[I,E],[H,M],[W,N,G],[V,J,$,Q],[Y,X],[W,function(){hime_curl_inherits(HimeCurlMedium,T);var n=hime_curl_createSuper(HimeCurlMedium);function HimeCurlMedium(){hime_curl_classCallCheck(this,HimeCurlMedium);for(var t=arguments.length,e=new Array(t),r=0;r<t;r++)e[r]=arguments[r];return n.call.apply(n,[this,j.hairMedium,{shadingParts:[K]}].concat(e))}return hime_curl_createClass(HimeCurlMedium,[{key:"renderHairPoints",value:function renderHairPoints(t,e){var r=calcHimeCurl(e,this.hairLength),n=r.left,o=r.top,a=r.right,i=r.out,s=r.bot,c=r.fork,l=r.forkIn,u=r.forkTop;e.hair=e.hair||{},e.hair.mid={left:n,top:o,right:a,out:i,bot:s,fork:c,forkIn:l,forkTop:u},t.beginPath(),drawPoints(t,n,o,a,i,s,c,l,u),t.fill(),t.stroke()}}]),HimeCurlMedium}(),function(){hime_curl_inherits(HimeCurlSide,T);var n=hime_curl_createSuper(HimeCurlSide);function HimeCurlSide(){hime_curl_classCallCheck(this,HimeCurlSide);for(var t=arguments.length,e=new Array(t),r=0;r<t;r++)e[r]=arguments[r];return n.call.apply(n,[this,j.hairFront,{loc:"+front hair",aboveParts:["hairParts hair"]}].concat(e))}return hime_curl_createClass(HimeCurlSide,[{key:"renderHairPoints",value:function renderHairPoints(t,e){var r,n,o,a,i,s=this.hairLength,c=s-35;c<0||(n=(r=calcHimeCut(e,clamp(s,0,53))).left,(o=adjust(o=r.right,.4,1.5)).cp1.y+=.01*s,a=splitCurve(.1,o,n).left.p2,(i=c<15?{x:o.x-3,y:o.y-c}:adjust(splitCurve(clamp(.015*c-.3,-.3,.8),e.jaw,e.chin.out).left.p2,.2,-.2)).cp1={x:o.x,y:o.y-.1*c},i.cp2={x:i.x+.13*c,y:i.y+.06*c},a.cp1=simpleQuadratic(i,a,.45,.07*-c),t.save(),t.scale(-1,1),t.beginPath(),drawPoints(t,o,i,a),t.fill(),t.stroke(),t.restore())}}]),HimeCurlSide}()]];function dimensions_slicedToArray(t,e){return function dimensions_arrayWithHoles(t){if(Array.isArray(t))return t}(t)||function dimensions_iterableToArrayLimit(t,e){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(t)))return;var r=[],n=!0,o=!1,a=void 0;try{for(var i,s=t[Symbol.iterator]();!(n=(i=s.next()).done)&&(r.push(i.value),!e||r.length!==e);n=!0);}catch(t){o=!0,a=t}finally{try{n||null==s.return||s.return()}finally{if(o)throw a}}return r}(t,e)||function dimensions_unsupportedIterableToArray(t,e){if(!t)return;if("string"==typeof t)return dimensions_arrayLikeToArray(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);"Object"===r&&t.constructor&&(r=t.constructor.name);if("Map"===r||"Set"===r)return Array.from(t);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return dimensions_arrayLikeToArray(t,e)}(t,e)||function dimensions_nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function dimensions_arrayLikeToArray(t,e){(null==e||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}var tt={human:{areolaSize:{linkedPart:"".concat(w.CHEST),units:"mm",low:0,high:50,avg:20,stdev:2,bias:3,calc:function calc(){return this.getDim("areolaSize")+this.get("pregnancy")}},armThickness:{linkedPart:"".concat(w.ARM),units:"mm",low:45,high:95,avg:65,stdev:3,bias:-7,calc:function calc(){return adjustLengthByHeight(this.getDim("armThickness")-.5*this.get("fem"),this.getDim("height"),.2)}},armLength:{linkedPart:"".concat(w.ARM),units:"cm",low:30,high:80,avg:45,stdev:2,bias:0,calc:function calc(){return adjustLengthByHeight(this.getDim("armLength"),this.getDim("height"))}},bellyProtrusion:{linkedPart:"".concat(w.TORSO),units:"cm",low:0,high:60,avg:0,stdev:0,bias:0,calc:function calc(){return this.getDim("bellyProtrusion")+5*this.get("pregnancy")}},breastSize:{linkedPart:"".concat(w.CHEST),units:"cm",low:-10,high:50,avg:-1,stdev:5,bias:20,calc:function calc(){return this.getDim("breastSize")+.1*this.get("fem")+.7*this.get("pregnancy")}},buttFullness:{linkedPart:"".concat(w.BUTT),units:"arbitrary",low:0,high:40,avg:10,stdev:2,bias:4,calc:function calc(){return this.getDim("buttFullness")+.2*this.get("fem")}},chinWidth:{linkedPart:"".concat(w.HEAD),units:"mm",low:30,high:140,avg:70,stdev:2,bias:-2},eyelashLength:{linkedPart:"".concat(w.EYELASH),units:"mm",low:0,high:15,avg:3,stdev:2,bias:3},eyeSize:{linkedPart:"".concat(w.EYES),units:"mm",low:0,high:40,avg:15,stdev:2,bias:3},faceFem:{linkedPart:"".concat(w.HEAD),units:"arbitrary",low:0,high:40,avg:15,stdev:2,bias:14,calc:function calc(){return this.getDim("faceFem")+.5*this.get("fem")}},faceLength:{linkedPart:"".concat(w.HEAD),units:"mm",low:180,high:270,avg:230,stdev:5,bias:-2},faceWidth:{linkedPart:"".concat(w.HEAD),units:"mm",low:75,high:105,avg:93,stdev:2,bias:-2,calc:function calc(){return this.getDim("faceWidth")-.5*this.get("fem")}},feetLength:{linkedPart:"".concat(w.FEET),units:"mm",low:30,high:800,avg:240,stdev:30,bias:-40},feetWidth:{linkedPart:"".concat(w.FEET),units:"mm",low:0,high:120,avg:55,stdev:4,bias:-5},hairLength:{linkedPart:"".concat(w.HAIR),units:"cm",low:0,high:110,avg:6,stdev:2,bias:10,calc:function calc(){return this.getDim("hairLength")+this.get("fem")}},hairStyle:{linkedPart:"".concat(w.HAIR),desc:"Index of base hair style to be worn (individual parts can be swapped afterwards)",units:"index",low:0,high:Z.length-1,avg:Z.length/2,stdev:2,bias:0,calc:function calc(){var t=Math.round(this.getDim("hairStyle"));return t<0?0:t>Z.length-1?Z.length-1:t}},hairHue:{linkedPart:"".concat(w.HAIR),units:"degree",low:0,high:360,avg:30,stdev:30,bias:0},hairSaturation:{linkedPart:"".concat(w.HAIR),units:"%",low:0,high:100,avg:50,stdev:10,bias:0},hairLightness:{linkedPart:"".concat(w.HAIR),units:"%",low:0,high:100,avg:30,stdev:10,bias:0},handSize:{linkedPart:"".concat(w.HAND),units:"mm",low:0,high:200,avg:100,stdev:5,bias:-10,calc:function calc(){return adjustLengthByHeight(this.getDim("handSize")-.3*this.get("fem"),this.getDim("height"),.4)}},height:{units:"cm",low:50,high:270,avg:167,stdev:3,bias:-5},hipWidth:{linkedPart:"".concat(w.TORSO),units:"mm",low:70,high:200,avg:125,stdev:2.5,bias:3,calc:function calc(){return this.getDim("hipWidth")+2*this.get("fem")}},legFem:{linkedPart:"".concat(w.LEG),units:"arbitrary",low:0,high:40,avg:13,stdev:2,bias:9,calc:function calc(){return this.getDim("legFem")+.6*this.get("fem")}},legFullness:{linkedPart:"".concat(w.LEG),desc:"Approximately how thick the leg is as a combination of fat and muscle",units:"arbitrary",low:0,high:40,avg:10,stdev:3,bias:2,calc:function calc(){return this.getDim("legFullness")+.5*this.get("fem")}},legLength:{linkedPart:"".concat(w.LEG),units:"cm",low:20,high:200,avg:95,stdev:2.5,bias:4,calc:function calc(){return adjustLengthByHeight(this.getDim("legLength"),this.getDim("height"))}},lipSize:{linkedPart:"".concat(w.LIPS),units:"mm",low:0,high:40,avg:14,stdev:1.5,bias:2,calc:function calc(){return this.getDim("lipSize")+.05*this.get("fem")}},lowerMuscle:{linkedPart:"".concat(w.LEG),units:"arbitrary",low:0,high:40,avg:16,stdev:3,bias:-17,calc:function calc(){return this.getDim("lowerMuscle")-this.get("fem")}},neckLength:{linkedPart:"".concat(w.NECK),units:"mm",low:0,high:120,avg:72,stdev:5,bias:0},neckWidth:{linkedPart:"".concat(w.NECK),units:"mm",low:35,high:75,avg:45,stdev:2,bias:-2},penisSize:{linkedPart:"".concat(w.GENITALS),units:"mm",low:0,high:200,avg:20,stdev:5,bias:-20,calc:function calc(){return this.getDim("penisSize")-.5*this.get("fem")+.5*this.getMod("arousal")}},shoulderWidth:{linkedPart:"".concat(w.CHEST),units:"mm",low:0,high:200,avg:73,stdev:2,bias:-7,calc:function calc(){return adjustLengthByHeight(this.getDim("shoulderWidth")-.3*this.get("fem"),this.getDim("height"),.4)}},skin:{units:"arbitrary",low:-20,high:50,avg:7,stdev:5},testicleSize:{linkedPart:"".concat(w.GENITALS),units:"mm",low:0,high:100,avg:35,stdev:4,bias:-20,calc:function calc(){return this.getDim("testicleSize")-this.get("fem")}},upperMuscle:{linkedPart:"".concat(w.CHEST),units:"arbitrary",low:0,high:40,avg:14,stdev:3,bias:-15,calc:function calc(){return this.getDim("upperMuscle")-.5*this.get("fem")}},vaginaSize:{linkedPart:"".concat(w.GENITALS),units:"mm",low:0,high:100,avg:40,stdev:10,bias:5,calc:function calc(){return this.getDim("vaginaSize")+this.Mods.labiaFullness+.2*this.Mods.arousal}},waistWidth:{linkedPart:"".concat(w.TORSO),units:"mm",low:70,high:150,avg:120,stdev:3,bias:-3,calc:function calc(){return this.getDim("waistWidth")-this.get("fem")+this.getDim("upperMuscle")}}}};function adjustLengthByHeight(t,e,r){var n=2<arguments.length&&void 0!==r?r:1;return t*(1-n)+t*n*e/170}var et={eyecolor:["white"]};function extendDimensionCalc(o,a){var t,e,r;"string"==typeof o&&(e=(t=dimensions_slicedToArray(o.split("."),2))[0],r=t[1],o=tt[e][r]);var i=o.calc;o.calc=function(){for(var t,e=arguments.length,r=new Array(e),n=0;n<e;n++)r[n]=arguments[n];return t=i?i.call.apply(i,[this].concat(r)):this.getDim(o.name),a.call.apply(a,[this,t].concat(r))}}function loadDimensionDescriptions(){for(var t in tt)if(!1!==tt.hasOwnProperty(t)){var e=tt[t];for(var r in e)e.hasOwnProperty(r)&&(e[r].name=r)}}var rt={stamina:{display:"STM",color:"hsl(80, 50%, 50%)",low:0,high:500,avg:30,stdev:6,bias:0,calc:function calc(){return this.getBaseVitals("stamina")}},sanity:{display:"SAN",color:"hsl(30, 50%, 50%)",low:0,high:100,avg:50,stdev:6,bias:0}};function mods_slicedToArray(t,e){return function mods_arrayWithHoles(t){if(Array.isArray(t))return t}(t)||function mods_iterableToArrayLimit(t,e){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(t)))return;var r=[],n=!0,o=!1,a=void 0;try{for(var i,s=t[Symbol.iterator]();!(n=(i=s.next()).done)&&(r.push(i.value),!e||r.length!==e);n=!0);}catch(t){o=!0,a=t}finally{try{n||null==s.return||s.return()}finally{if(o)throw a}}return r}(t,e)||function mods_unsupportedIterableToArray(t,e){if(!t)return;if("string"==typeof t)return mods_arrayLikeToArray(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);"Object"===r&&t.constructor&&(r=t.constructor.name);if("Map"===r||"Set"===r)return Array.from(t);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return mods_arrayLikeToArray(t,e)}(t,e)||function mods_nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function mods_arrayLikeToArray(t,e){(null==e||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}var nt={armRotation:{linkedPart:"".concat(w.ARM),units:"degree",low:-40,high:40,avg:0,stdev:0,bias:0},arousal:{units:"arbitrary",low:0,high:100,avg:10,stdev:5,bias:0},breastPerkiness:{linkedPart:"".concat(w.CHEST),desc:"counter sagging effect when breasts grow too large",units:"arbitrary",low:-10,high:20,avg:0,stdev:2,bias:0},browBotCurl:{linkedPart:"".concat(w.EYEBROW),desc:"How much the bottom of the eyebrow curls up or down; 0 is flat",units:"mm",low:-10,high:15,avg:3,stdev:2,bias:3},browTopCurl:{linkedPart:"".concat(w.EYEBROW),desc:"How much the top of the eyebrow curls up or down; 0 is flat",units:"mm",low:-10,high:15,avg:8,stdev:2,bias:1},browCloseness:{linkedPart:"".concat(w.EYEBROW),units:"mm",low:-10,high:10,avg:0,stdev:2,bias:0},browHeight:{linkedPart:"".concat(w.EYEBROW),units:"mm",low:-10,high:10,avg:0,stdev:2,bias:0},browLength:{linkedPart:"".concat(w.EYEBROW),units:"mm",low:-10,high:10,avg:0,stdev:2,bias:0},browSharpness:{linkedPart:"".concat(w.EYEBROW),units:"arbitrary",low:-10,high:10,avg:0,stdev:2,bias:0},browThickness:{linkedPart:"".concat(w.EYEBROW),units:"mm",low:-10,high:10,avg:0,stdev:1,bias:-1.5},browOutBias:{linkedPart:"".concat(w.EYEBROW),desc:"Whether the top of the outer brow ends inside or outside the bottom",units:"mm",low:-10,high:10,avg:-1,stdev:2,bias:0},browTilt:{linkedPart:"".concat(w.EYEBROW),units:"degree",low:-20,high:20,avg:5,stdev:4,bias:0},cheekFullness:{linkedPart:"".concat(w.HEAD),units:"arbitrary",low:-20,high:20,avg:0,stdev:3,bias:0},chinLength:{linkedPart:"".concat(w.HEAD),units:"mm",low:-30,high:30,avg:0,stdev:3,bias:0},earlobeLength:{linkedPart:"".concat(w.EAR),low:-2,high:4,avg:0,stdev:.2,bias:0},eyeBias:{linkedPart:"".concat(w.EYES),desc:"Whether the eyes bias towards the inside or outside",units:"arbitrary",low:-10,high:10,avg:1,stdev:2,bias:0},eyeCloseness:{linkedPart:"".concat(w.EYES),units:"mm",low:-100,high:100,avg:0,stdev:5,bias:0},eyeBotBias:{linkedPart:"".concat(w.EYES),desc:"Whether the eye bottom bias towards the inside or outside",units:"arbitrary",low:-10,high:10,avg:0,stdev:2,bias:0},eyeBotSize:{linkedPart:"".concat(w.EYES),desc:"How much does the bottom of the eyes dip",units:"mm",low:-20,high:20,avg:0,stdev:0,bias:1},eyeHeight:{linkedPart:"".concat(w.EYES),units:"mm",low:-15,high:10,avg:-3,stdev:2,bias:0},eyeTilt:{linkedPart:"".concat(w.EYES),units:"degree",low:-20,high:30,avg:2,stdev:4,bias:0},eyeTopSize:{linkedPart:"".concat(w.EYES),desc:"How much does the top of the eyes curve",units:"mm",low:-10,high:8,avg:0,stdev:.5,bias:0},eyeWidth:{linkedPart:"".concat(w.EYES),units:"mm",low:-10,high:10,avg:0,stdev:2,bias:0},eyelashBias:{linkedPart:"".concat(w.EYELASH),desc:"Whether the eyelashes bias towards the inside or outside",units:"arbitrary",low:-10,high:20,avg:5,stdev:1,bias:0},eyelashAngle:{linkedPart:"".concat(w.EYELASH),desc:"Whether the eyelash points down or up",units:"arbitrary",low:-1,high:1,avg:.9,stdev:0,bias:0},eyelidBias:{linkedPart:"".concat(w.EYELID),desc:"Whether the eyelids bias towards the inside or outside",units:"arbitrary",low:-10,high:10,avg:1,stdev:2,bias:0},eyelidHeight:{linkedPart:"".concat(w.EYELID),units:"mm",low:-6,high:12,avg:0,stdev:2,bias:0},feetBias:{linkedPart:"".concat(w.FEET),desc:"Relative importance of inner toes vs outer toes",units:"arbitrary",low:-10,high:20,avg:0,stdev:2,bias:0},hairAccessoryHue:{linkedPart:"".concat(w.HAIR),units:"degree",low:0,high:360,avg:360,stdev:50,bias:0},hairAccessorySaturation:{linkedPart:"".concat(w.HAIR),units:"%",low:0,high:100,avg:80,stdev:5,bias:0},hairAccessoryLightness:{linkedPart:"".concat(w.HAIR),units:"%",low:0,high:100,avg:50,stdev:10,bias:0},handRotation:{linkedPart:"".concat(w.HAND),units:"degree",low:-40,high:40,avg:0,stdev:0,bias:0},irisHeight:{linkedPart:"".concat(w.IRIS),units:"mm",low:-10,high:10,avg:0,stdev:1,bias:0},irisHue:{linkedPart:"".concat(w.IRIS),units:"degree",low:0,high:360,avg:30,stdev:30,bias:0},irisSaturation:{linkedPart:"".concat(w.IRIS),units:"%",low:0,high:100,avg:50,stdev:10,bias:0},irisLightness:{linkedPart:"".concat(w.IRIS),units:"%",low:0,high:100,avg:20,stdev:10,bias:0},irisSize:{linkedPart:"".concat(w.IRIS),desc:"Diameter of the iris",units:"mm",low:0,high:50,avg:16,stdev:1.5,bias:0},jawJut:{linkedPart:"".concat(w.HEAD),units:"mm",low:-10,high:10,avg:0,stdev:.5,bias:0},limbalRingSize:{linkedPart:"".concat(w.IRIS),desc:"Width of the limbal ring (dark ring surrounding iris)",units:"um",low:0,high:100,avg:20,stdev:5,bias:0},lipBias:{linkedPart:"".concat(w.LIPS),desc:"Whether the top lip sits above the bottom lip or vise versa",units:"arbitrary",low:-50,high:50,avg:10,stdev:10,bias:0},lipCupidsBow:{linkedPart:"".concat(w.LIPS),units:"mm",low:-100,high:30,avg:0,stdev:20,bias:0},lipCurl:{linkedPart:"".concat(w.LIPS),units:"arbitrary",low:-20,high:20,avg:0,stdev:5,bias:0},lipHeight:{linkedPart:"".concat(w.LIPS),units:"mm",low:-10,high:10,avg:0,stdev:1.2,bias:0},lipTopCurve:{linkedPart:"".concat(w.LIPS),units:"arbitrary",low:-50,high:50,avg:0,stdev:10,bias:0},lipTopSize:{linkedPart:"".concat(w.LIPS),units:"um",low:-20,high:60,avg:8,stdev:4,bias:0},lipBotSize:{linkedPart:"".concat(w.LIPS),units:"mm",low:-80,high:100,avg:30,stdev:10,bias:3},lipParting:{linkedPart:"".concat(w.LIPS),units:"um",low:0,high:100,avg:0,stdev:0,bias:0},lipWidth:{linkedPart:"".concat(w.LIPS),units:"mm",low:-250,high:100,avg:0,stdev:30,bias:-70},lipHue:{linkedPart:"".concat(w.LIPS),units:"degree",low:-180,high:180,avg:0,stdev:4,bias:0},lipSaturation:{linkedPart:"".concat(w.LIPS),units:"%",low:-20,high:20,avg:0,stdev:2,bias:0},lipLightness:{linkedPart:"".concat(w.LIPS),units:"%",low:-20,high:20,avg:0,stdev:2,bias:0},nippleHue:{linkedPart:"".concat(w.CHEST),units:"degree",low:-180,high:180,avg:0,stdev:2,bias:0},nippleSaturation:{linkedPart:"".concat(w.CHEST),units:"%",low:-20,high:20,avg:0,stdev:2,bias:0},nippleLightness:{linkedPart:"".concat(w.CHEST),units:"%",low:-20,high:20,avg:0,stdev:2,bias:0},neckCurve:{linkedPart:"".concat(w.NECK),units:"mm",low:-20,high:10,avg:-5,stdev:3,bias:-2},noseHeight:{linkedPart:"".concat(w.NOSE),units:"mm",low:-10,high:10,avg:0,stdev:4,bias:0},noseLength:{linkedPart:"".concat(w.NOSE),units:"mm",low:0,high:70,avg:45,stdev:3,bias:0},noseRidgeHeight:{linkedPart:"".concat(w.NOSE),units:"mm",low:-10,high:10,avg:0,stdev:2,bias:0},noseRoundness:{linkedPart:"".concat(w.NOSE),units:"arbitrary",low:-6,high:10,avg:0,stdev:2,bias:0},noseWidth:{linkedPart:"".concat(w.NOSE),units:"mm",low:10,high:30,avg:18,stdev:2,bias:-1},nostrilSize:{linkedPart:"".concat(w.NOSE),units:"mm",low:5,high:30,avg:10,stdev:2,bias:0},pupilSize:{linkedPart:"".concat(w.PUPIL),desc:"Diameter of the pupil",units:"mm",low:0,high:20,avg:10,stdev:.5,bias:0},labiaFullness:{linkedPart:"".concat(w.GENITALS),desc:"How puffy the labia is",units:"arbitrary",low:-10,high:10,avg:0,stdev:1,bias:1},penisThickness:{linkedPart:"".concat(w.GENITALS),units:"um",low:-30,high:30,avg:0,stdev:4,bias:-4},shoeHeight:{units:"mm",low:0,high:300,avg:0,stdev:0,bias:0},skinHue:{units:"degree",low:-180,high:180,avg:0,stdev:2,bias:0},skinSaturation:{units:"%",low:-20,high:20,avg:0,stdev:2,bias:0},skinLightness:{units:"%",low:-20,high:20,avg:0,stdev:2,bias:0}},ot={};function loadMods(){[g,rt,tt.human].forEach(function(t){Object.entries(t).forEach(function(t){var e,r=mods_slicedToArray(t,2),n=r[0],o=r[1];nt.hasOwnProperty(n)||(e=o.high-o.low,nt[n]={low:-1e9,high:1e9,avg:0,stdev:.01*e,bias:0},o.linkedPart&&(nt[n].linkedPart=o.linkedPart))})})}var at=!1;function load(){return new Promise(function(t){loadDimensionDescriptions(),loadMods(),Object(h.b)(),function loadPatterns(){addPattern("sequins","https://i.imgur.com/PoQcggD.jpg"),addPattern("soft brown fur","https://i.imgur.com/1v9coRk.jpg"),addPattern("coarse fur","https://i.imgur.com/Ikt1KHU.png"),addPattern("black leather","https://i.imgur.com/xfA29GM.jpg"),addPattern("brown leather","https://i.imgur.com/hVWtAl0.jpg"),addPattern("chain mail 1","https://i.imgur.com/W3iSEWa.jpg"),addPattern("fishnet","http://i.imgur.com/fU41Daz.png"),addPattern("lace","https://i.imgur.com/SWkUyef.jpg"),addPattern("red plaid","https://i.imgur.com/sJGeGWR.jpg"),addPattern("green camouflage","http://i.imgur.com/cSQUcjj.png"),addPattern("camouflage","https://i.imgur.com/EOyjNND.jpg"),addPattern("kimono flowers","https://i.imgur.com/d0RFLql.png"),addPattern("bandages","http://i.imgur.com/Om7lYpO.png"),addPattern("knit cashmere","https://i.imgur.com/kcyIFUT.jpg")}(),at=!0,t()})}function draw_typeof(t){return(draw_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function _typeof(t){return typeof t}:function _typeof(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function incu(t){return 2.54*t*2}function cmcu(t){return 2*t}function cucm(t){return t/2}function convertPointsToCanvasUnits(t){if(Array.isArray(t))for(var e=0;e<t.length;++e)convertPointsToCanvasUnits(t[e]);else if("object"===draw_typeof(t))for(var r=Object.getOwnPropertyNames(t),n=0;n<r.length;++n){var o=r[n];"x"===o||"y"===o?t[o]=2*t[o]:convertPointsToCanvasUnits(t[o])}}function setStrokeAndFill(t,e,r){var n=getLoadedPattern.call(e,e.stroke,t,r);t.strokeStyle="inherit"===n?r.baseStroke:n;var o=getLoadedPattern.call(e,e.fill,t,r);t.fillStyle="inherit"===o?r.baseFill:o}function inheritStroke(t,e){var r=extractUnmodifiedLocation(this.loc),n=e.avatar.getClothingInLocation.call(e.avatar,r),o=null;if(n.forEach(function(t){(null===o||t.clothingLayer>o.clothingLayer)&&(o=t)}),o)return"function"==typeof o.stroke?o.stroke(t,e):o.stroke;var a=e.avatar.getPartInLocation.call(e.avatar,r);if(a){if("function"==typeof a.stroke){var i=a.stroke(t,e);if(i!==d)return i}if(a.stroke!==d)return a.stroke}return e.baseStroke}function inheritFill(t,e){var r=e.avatar.getPartInLocation(this.loc);return r?"function"==typeof r.fill?r.fill(t,e):r.fill:e.baseFill}function requirePart(t,e){if(!1===e.hasOwnProperty(t))throw new Error("Trying to draw ".concat(t," but it hasn't been defined yet"))}function dist(t,e){return norm(point_diff(t,e))}function averageQuadratic(t,e,r,n,o,a,i){r=r||.5,n=n||0,o=o||0;var s,c,l={x:t.x*r+e.x*(1-r)+n,y:t.y*r+e.y*(1-r)+o};return a&&((s=e).cp1=l,l=splitCurve(a,t,s).right.p2.cp1),i&&((c=e).cp1=l,l=splitCurve(i,t,c).left.p2.cp1),l}function player_typeof(t){return(player_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function _typeof(t){return typeof t}:function _typeof(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function getDefault(n,o){return function run(){var t={};for(var e in n)n.hasOwnProperty(e)&&(t[e]=n[e].avg);if(o)for(var r in o)o.hasOwnProperty(r)&&(t[r]=o[r][0]);return t}}function applyMods(t,e){for(var r in e)e.hasOwnProperty(r)&&(t.hasOwnProperty(r)?t[r]+=e[r]:t[r]=e[r])}function removeMods(t,e){for(var r in e)e.hasOwnProperty(r)&&t.hasOwnProperty(r)&&(t[r]-=e[r])}function getBiasMod(t,e){return t.hasOwnProperty("bias")?t.bias:1}function createTransformation(r,t,n){var o=0;return{object:r,transform:function transform(t){var e=t;return 1<o+t?(e=1-o,o=1):o+=t,function performTransformation(t,e,r){for(var n in e)if(e.hasOwnProperty(n)&&t.hasOwnProperty(n))switch(player_typeof(e[n])){case"object":performTransformation(t[n],e[n],r);break;case"number":t[n]+=e[n]*r;break;default:console.log("unrecognized transformation property type ".concat(player_typeof(e[n])," for ").concat(n))}}(r,n,e),o},showTransformation:t}}function transformAndShow(a){var i=1<arguments.length&&void 0!==arguments[1]?arguments[1]:5e3,s=null;return new Promise(function(o){window.requestAnimationFrame(function doTransform(t){var e=null===s?0:t-s;s=t;var r=e/i,n=a.transform(r);a.showTransformation(n),n<1?window.requestAnimationFrame(doTransform):o()})})}function init_slicedToArray(t,e){return function init_arrayWithHoles(t){if(Array.isArray(t))return t}(t)||function init_iterableToArrayLimit(t,e){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(t)))return;var r=[],n=!0,o=!1,a=void 0;try{for(var i,s=t[Symbol.iterator]();!(n=(i=s.next()).done)&&(r.push(i.value),!e||r.length!==e);n=!0);}catch(t){o=!0,a=t}finally{try{n||null==s.return||s.return()}finally{if(o)throw a}}return r}(t,e)||function init_unsupportedIterableToArray(t,e){if(!t)return;if("string"==typeof t)return init_arrayLikeToArray(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);"Object"===r&&t.constructor&&(r=t.constructor.name);if("Map"===r||"Set"===r)return Array.from(t);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return init_arrayLikeToArray(t,e)}(t,e)||function init_nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function init_arrayLikeToArray(t,e){(null==e||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function getBaseColors(t){var e,n={},r=t.dim.skin;if(isNaN(r))return n.baseFill=r,n.baseStroke=r,n.baseLipColor=r,n.nippleColor=r,n;r<11?(n.baseFill=[Math.floor(255-2.8*r),Math.floor(214-5.3*r),Math.floor(180-6.5*r)],n.baseStroke=[Math.floor(214-5.1*r),Math.floor(156-4*r),Math.floor(147-6.4*r)],n.baseLipColor=[Math.floor(194-4.1*r),Math.floor(123-4.1*r),Math.floor(119-4.1*r)],n.nippleColor=[Math.floor(140-4.1*r),Math.floor(89-4.1*r),Math.floor(86-4.1*r)]):r<100&&(e=r-11,n.baseFill=[Math.floor(227-9.6*e),Math.floor(161-9.1*e),Math.floor(115-6.3*e)],28<r&&(e-=2.5*(r-23)),n.baseStroke=[Math.floor(163-12*e),Math.floor(116-10.8*e),Math.floor(83-7.3*e)],n.baseLipColor=[Math.floor(153-8.9*e),Math.floor(82-6.2*e),Math.floor(78-6.4*e)],n.nippleColor=[Math.floor(99-9.9*e),Math.floor(48-7.2*e),Math.floor(45-7.4*e)]);var o=.7+clamp(t.getDim("faceFem")/(3*t.getDimDesc("faceFem").high),0,.3);n.baseLipColor.forEach(function(t,e,r){r[e]=n.baseFill[e]*(1-o)+t*o}),n.baseFill=finalizeColor(n.baseFill,t.Mods,"skin"),n.baseStroke=finalizeColor(n.baseStroke,t.Mods,"skin"),n.baseLipColor=finalizeColor(n.baseLipColor,t.Mods,"lip"),n.nippleColor=finalizeColor(n.nippleColor,t.Mods,"nipple");var a=t.getDim("faceFem")/t.getDimDesc("faceFem").high*20;return n.eyelidColor=adjustColor(n.baseStroke,{s:-a,l:-a}),n.defaultHairFill=HSLObjToStr({h:t.dim.hairHue,s:t.dim.hairSaturation,l:t.dim.hairLightness}),n.hairFill=t.hairFill||n.defaultHairFill,n.hairStroke=t.hairStroke||adjustColor(n.defaultHairFill,{l:-10,s:-10}),n.browFill=t.browFill||adjustColor(n.defaultHairFill,{l:-5,s:-5}),n.lashFill=adjustColor(n.defaultHairFill,{l:-10,s:-10}),n.hairAccessoryColor=HSLObjToStr({h:t.getMod("hairAccessoryHue"),s:t.getMod("hairAccessorySaturation"),l:t.getMod("hairAccessoryLightness")}),n}function configureBaseColors(t){Object.assign(t,getBaseColors(t.avatar))}function HSLObjToStr(t){return"hsl(".concat(clamp(Math.floor(t.h),0,360),",").concat(clamp(Math.floor(t.s),0,100),"%,").concat(clamp(Math.floor(t.l),0,100),"%)")}function finalizeColor(t,e,r){var n=RGBToHSL({r:clamp(t[0],0,255),g:clamp(t[1],0,255),b:clamp(t[2],0,255)});return r&&(n.h+=e[r+"Hue"],n.s+=e[r+"Saturation"],n.l+=e[r+"Lightness"]),HSLObjToStr(n)}function initCanvas(e,r,n,o,t,a,i,s){i&&(a!==_.BASE||n.transparentBackground?r.clearRect(0,0,e.width,e.height):(r.fillStyle=n.backgroundColor,r.fillRect(0,0,e.width,e.height)));var c=e.width/180,l=e.height/400,u=t.scaling=Math.min(c,l);if(r.scale(u,u),t.ox=n.ox=Math.floor(e.width/u-e.width/c),t.oy=n.oy=Math.floor(e.height/u-e.height/l),a===_.BASE&&(n.printAdditionalInfo&&function printAdditionalInfo(t,e,r,n){e.save(),e.font="bold 20px Arial",e.fillStyle=r.genderColor,e.fillText(n.isMale()?String.fromCharCode(9794):String.fromCharCode(9792),6,24);var o=clamp(t.width/n.name.length/2,10,24);e.font=o+"px Arial",e.fillStyle=r.nameColor;24<n.name.length?e.fillText(n.name.slice(0,24)+"...",30,26):e.fillText(n.name,30,26);e.restore()}(e,r,n,o),n.printVitals&&function printVitals(t,l,e,u){l.save();var p=0;Object.entries(u.maxVitals).forEach(function(t){var e=init_slicedToArray(t,2),r=e[0],n=e[1],o=rt[r],a="string"==typeof(a=o.color||{h:345*p/8%360,s:50,l:50})?a:HSLObjToStr(a);l.strokeStyle=a;var i=30+7*p,s=1/o.high*190,c=n*s;l.strokeRect(5,i,c,5),l.font="5px Arial",l.fillStyle="#222",l.fillText(o.display,5+c+2,5+i-1),l.fillStyle=a,c=u.vitals[r]*s,l.fillRect(5,i,c,5),p++}),l.restore()}(0,r,0,o),s))if(Array.isArray(s))s.forEach(function(t){t(e,r,n,o)});else{if("function"!=typeof s)throw Error("custom drawing function needs to be function(canvas, ctx, config, avatar) or an array of such functions");s(e,r,n,o)}r.translate(n.ox,0),a===_.BASE&&n.printHeight&&function printHeight(t,e,r){var n=r.heightAdjust(),o=r.dim.height/2.54+n+2,a=Math.floor(o/12)+"'",i=Math.floor(o-12*Math.floor(o/12))+'"',s=e.oy;o=a+i,t.save(),t.fillStyle=e.heightColor,t.font="12px Arial",t.fillText(o,125,16),0<n&&(o=r.dim.height/2.54+2,a=Math.floor(o/12)+"'",i=Math.floor(o-12*Math.floor(o/12))+'"',o=a+i,t.fillText("("+o+")",150,16));t.strokeStyle=e.heightBarColor,t.beginPath();t.moveTo(150,20),t.lineTo(178,20),t.lineTo(178,390+s);var c=Math.floor(72+s/(370/72)),l=1;for(l=1;l<c;l++){var u=390+s-l*(370/72);t.moveTo(178,u),l%12==0?t.lineTo(164,u):l%6==0?t.lineTo(171,u):l%3==0?t.lineTo(173,u):t.lineTo(175,u)}t.stroke(),t.restore()}(r,n,o),r.scale(1,-1),r.translate(0,-400-n.oy+10+incu(o.heightAdjust())/2),r.translate(t.cx,0),r.strokeStyle=t.baseStroke,r.fillStyle=t.baseFill,r.lineCap="round",r.lineJoin="round"}var it=r(9),st=r.n(it),ct={human:{}};function clothing_construct(t,e,r){return(clothing_construct=function clothing_isNativeReflectConstruct(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(t){return!1}}()?Reflect.construct:function _construct(t,e,r){var n=[null];n.push.apply(n,e);var o=new(Function.bind.apply(t,n));return r&&clothing_setPrototypeOf(o,r.prototype),o}).apply(null,arguments)}function clothing_setPrototypeOf(t,e){return(clothing_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(t,e){return t.__proto__=e,t})(t,e)}function _toConsumableArray(t){return function _arrayWithoutHoles(t){if(Array.isArray(t))return clothing_arrayLikeToArray(t)}(t)||function _iterableToArray(t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(t))return Array.from(t)}(t)||function clothing_unsupportedIterableToArray(t,e){if(!t)return;if("string"==typeof t)return clothing_arrayLikeToArray(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);"Object"===r&&t.constructor&&(r=t.constructor.name);if("Map"===r||"Set"===r)return Array.from(t);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return clothing_arrayLikeToArray(t,e)}(t)||function _nonIterableSpread(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function clothing_arrayLikeToArray(t,e){(null==e||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function clothing_classCallCheck(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function clothing_defineProperties(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function clothing_createClass(t,e,r){return e&&clothing_defineProperties(t.prototype,e),r&&clothing_defineProperties(t,r),t}var lt=function(){function Clothing(){for(var a=this,t=arguments.length,i=new Array(t),e=0;e<t;e++)i[e]=arguments[e];clothing_classCallCheck(this,Clothing),Object.assign(this,{clothingLayer:ut.Layer.BASE,thickness:1.2,noCover:!1}),this.parts=[],this.name="",Object.assign.apply(Object,[this].concat(i)),this.side=getSideValue(this.side);var s=0===this.parts.length;this.partPrototypes.forEach(function(t){var e=t.side,r=t.Part,n={};Object.assign.apply(Object,[n].concat(_toConsumableArray(i.map(function(t){return t[r.name]}))));var o=new r(n);Object.assign(a,o),s&&(processClothingPartLocation(e,o),(o._owner=a).parts.push(o))},this),Object.assign.apply(Object,[this].concat(i)),this.side=getSideValue(this.side),this.parts.forEach(function(t){t._owner=a})}return clothing_createClass(Clothing,[{key:"stroke",value:function stroke(){return d}},{key:"fill",value:function fill(){return"#fff"}}]),Clothing}();function processClothingPartLocation(t,e){void 0!==e.forcedSide&&(t=e.forcedSide);var r,n,o=getSideLocation(t);return!1===e.forcedNoSideString&&("right"!==o&&"left"!==o||!1===locationIsSideless(r=extractUnmodifiedLocation(e.loc))&&(n=extractLocationModifier(e.loc),e.loc=n+o+" "+r)),e.side=getSideValue(t),e}var ut={Layer:Object.freeze({BASE:0,INNER:1,MID:2,OUTER:3,NUM_LAYERS:4}),create:function create(t){for(var e=arguments.length,r=new Array(1<e?e-1:0),n=1;n<e;n++)r[n-1]=arguments[n];return clothing_construct(t,r)},simpleStrokeFill:function simpleStrokeFill(t,e,r){setStrokeAndFill(t,{fill:r.fill,stroke:r.stroke},e),t.lineWidth=r.thickness}},pt=function(){function ClothingPart(){clothing_classCallCheck(this,ClothingPart);for(var t=arguments.length,e=new Array(t),r=0;r<t;r++)e[r]=arguments[r];Object.assign.apply(Object,[this,{layer:_.FRONT,loc:"torso",forcedNoSideString:!1}].concat(e))}return clothing_createClass(ClothingPart,[{key:"renderClothingPoints",value:function renderClothingPoints(){}}]),ClothingPart}();function item_construct(t,e,r){return(item_construct=function item_isNativeReflectConstruct(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(t){return!1}}()?Reflect.construct:function _construct(t,e,r){var n=[null];n.push.apply(n,e);var o=new(Function.bind.apply(t,n));return r&&item_setPrototypeOf(o,r.prototype),o}).apply(null,arguments)}function item_setPrototypeOf(t,e){return(item_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(t,e){return t.__proto__=e,t})(t,e)}function item_defineProperties(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}var ft=function(){function Item(){!function item_classCallCheck(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,Item);for(var t=arguments.length,e=new Array(t),r=0;r<t;r++)e[r]=arguments[r];if(Object.assign.apply(Object,[this,{layer:_.BASE}].concat(e)),!1===this.hasOwnProperty("name"))throw new Error("Constructing item with no name!");if(!1===this.hasOwnProperty("src"))throw new Error("Constructing item with no src!")}return function item_createClass(t,e,r){e&&item_defineProperties(t.prototype,e),r&&item_defineProperties(t,r)}(Item,[{key:"renderItemLocation",value:function renderItemLocation(){return this.hasOwnProperty("x")&&this.hasOwnProperty("y")?{x:this.x,y:this.y}:null}},{key:"modifyPose",value:function modifyPose(){}},{key:"restorePose",value:function restorePose(){}}]),Item}(),yt={},ht={getItemRender:function getItemRender(t){if(yt.hasOwnProperty(t.name))return yt[t.name];throw new Error("Item not loaded yet: "+t.name)},loadItem:function loadItem(n){yt.hasOwnProperty(n.name)||f.push(new Promise(function(t,e){var r=new Image;r.onload=function(){yt[n.name]=r,t()},r.onerror=function(){console.log(Error("failed to load "+n.src)),e()},img.crossOrigin="anonymous",r.src=n.src}))},create:function create(t){for(var e=arguments.length,r=new Array(1<e?e-1:0),n=1;n<e;n++)r[n-1]=arguments[n];return item_construct(t,r)}};function shoes_typeof(t){return(shoes_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function _typeof(t){return typeof t}:function _typeof(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function shoes_classCallCheck(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function shoes_defineProperties(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function shoes_createClass(t,e,r){return e&&shoes_defineProperties(t.prototype,e),r&&shoes_defineProperties(t,r),t}function shoes_inherits(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&shoes_setPrototypeOf(t,e)}function shoes_setPrototypeOf(t,e){return(shoes_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(t,e){return t.__proto__=e,t})(t,e)}function shoes_createSuper(r){var n=function shoes_isNativeReflectConstruct(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(t){return!1}}();return function _createSuperInternal(){var t,e=shoes_getPrototypeOf(r);return function shoes_possibleConstructorReturn(t,e){return!e||"object"!==shoes_typeof(e)&&"function"!=typeof e?function shoes_assertThisInitialized(t){if(void 0!==t)return t;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}(t):e}(this,n?(t=shoes_getPrototypeOf(this).constructor,Reflect.construct(e,arguments,t)):e.apply(this,arguments))}}function shoes_getPrototypeOf(t){return(shoes_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var dt=function(){shoes_inherits(LeftBaseShoeShading,B);var n=shoes_createSuper(LeftBaseShoeShading);function LeftBaseShoeShading(){shoes_classCallCheck(this,LeftBaseShoeShading);for(var t=arguments.length,e=new Array(t),r=0;r<t;r++)e[r]=arguments[r];return n.call.apply(n,[this,{loc:"left feet",layer:_.FRONT}].concat(e))}return shoes_createClass(LeftBaseShoeShading,[{key:"calcDrawPoints",value:function calcDrawPoints(t){var e=t.toe.toebox,r=splitCurve(.5,t.toe.out,t.toe.in),n=r.right.p2,o=r.left.p2;o.cp1=simpleQuadratic(e,o,.5,1);var a=clone(t.ankle.inbot);return e.cp1={x:a.x-1,y:a.y-5},e.cp2={x:e.x-3,y:e.y},[e,o,n,a,e]}}]),LeftBaseShoeShading}(),gt=function(){shoes_inherits(RightBaseShoeShading,B);var n=shoes_createSuper(RightBaseShoeShading);function RightBaseShoeShading(){shoes_classCallCheck(this,RightBaseShoeShading);for(var t=arguments.length,e=new Array(t),r=0;r<t;r++)e[r]=arguments[r];return n.call.apply(n,[this,{loc:"right feet",layer:_.FRONT}].concat(e))}return shoes_createClass(RightBaseShoeShading,[{key:"calcDrawPoints",value:function calcDrawPoints(t){var e=t.toe.toebox,r=splitCurve(.8,t.toe.out,t.toe.in).left.p2;r.cp1=simpleQuadratic(e,r,.5,-1);var n=extractPoint(t.ankle.outbot);return n.cp1=simpleQuadratic(r,n,.5,-10),e.cp1=simpleQuadratic(n,e,.7,3),[n,e,r,n]}}]),RightBaseShoeShading}(),Pt=function(){shoes_inherits(ShoeSidePart,pt);var n=shoes_createSuper(ShoeSidePart);function ShoeSidePart(){shoes_classCallCheck(this,ShoeSidePart);for(var t=arguments.length,e=new Array(t),r=0;r<t;r++)e[r]=arguments[r];return n.call.apply(n,[this,{layer:_.BACK,loc:"feet"}].concat(e))}return ShoeSidePart}(),vt=function(){shoes_inherits(ShoePart,pt);var n=shoes_createSuper(ShoePart);function ShoePart(){shoes_classCallCheck(this,ShoePart);for(var t=arguments.length,e=new Array(t),r=0;r<t;r++)e[r]=arguments[r];return n.call.apply(n,[this,{layer:_.FRONT,loc:"feet",aboveParts:["parts feet","parts leg"],belowParts:["shadingParts feet"]}].concat(e))}return ShoePart}(),bt=function(){shoes_inherits(ShoeBasePart,vt);var n=shoes_createSuper(ShoeBasePart);function ShoeBasePart(){shoes_classCallCheck(this,ShoeBasePart);for(var t=arguments.length,e=new Array(t),r=0;r<t;r++)e[r]=arguments[r];return n.call.apply(n,[this,{layer:_.FRONT,loc:"feet",shadingParts:[dt,gt]}].concat(e))}return shoes_createClass(ShoeBasePart,[{key:"renderClothingPoints",value:function renderClothingPoints(t,e){t.toe.toebox={x:t.toe.center.x,y:t.toe.center.y+this.toeHeight};var r=extractPoint(t.ankle.out),n=t.ankle.outbot,o=t.toe.out,a=t.toe.in,i=clone(t.ankle.inbot),s=t.ankle.in;i.cp2.x-=2,r.cp1=simpleQuadratic(s,r,.5,this.tongueDeflection),ut.simpleStrokeFill(e,t,this),e.beginPath(),drawPoints(e,r,n,o,a,i,s,r),e.fill(),e.stroke()}}]),ShoeBasePart}(),_t=function(){shoes_inherits(Shoe,lt);var n=shoes_createSuper(Shoe);function Shoe(){shoes_classCallCheck(this,Shoe);for(var t=arguments.length,e=new Array(t),r=0;r<t;r++)e[r]=arguments[r];return n.call.apply(n,[this,{clothingLayer:ut.Layer.MID,shoeHeight:0,tongueDeflection:2,toeHeight:0,Mods:{feetLength:-10,feetWidth:-2}}].concat(e))}return Shoe}(),mt=function(){shoes_inherits(FlatShoes,_t);var n=shoes_createSuper(FlatShoes);function FlatShoes(){shoes_classCallCheck(this,FlatShoes);for(var t=arguments.length,e=new Array(t),r=0;r<t;r++)e[r]=arguments[r];return n.call.apply(n,[this,{shoeHeight:0}].concat(e))}return shoes_createClass(FlatShoes,[{key:"stroke",value:function stroke(){return"#000"}},{key:"fill",value:function fill(){return"hsl(0,10%,20%)"}},{key:"partPrototypes",get:function get(){return[{side:A.LEFT,Part:bt},{side:A.RIGHT,Part:bt}]}}]),FlatShoes}();function tattoo_construct(t,e,r){return(tattoo_construct=function tattoo_isNativeReflectConstruct(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(t){return!1}}()?Reflect.construct:function _construct(t,e,r){var n=[null];n.push.apply(n,e);var o=new(Function.bind.apply(t,n));return r&&tattoo_setPrototypeOf(o,r.prototype),o}).apply(null,arguments)}function tattoo_setPrototypeOf(t,e){return(tattoo_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(t,e){return t.__proto__=e,t})(t,e)}function tattoo_defineProperties(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}var St=function(){function Tattoo(){!function tattoo_classCallCheck(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,Tattoo);for(var t=arguments.length,e=new Array(t),r=0;r<t;r++)e[r]=arguments[r];Object.assign.apply(Object,[this,{layer:_.BASE,side:A.RIGHT,rotation:0,width:20,loc:"+arm",ignoreClip:!1}].concat(e)),this.loc.startsWith("+")||(this.loc="+"+this.loc);var n=extractBaseLocation(this.loc);if(this.aboveParts=["parts ".concat(n),"decorativeParts ".concat(n)],this.belowParts=["clothingParts ".concat(n)],this.side=getSideValue(this.side),!1===this.hasOwnProperty("name"))throw new Error("Constructing tattoo with no name!");if(!1===this.hasOwnProperty("src"))throw new Error("Constructing tattoo with no src!");if(!1===this.hasOwnProperty("relativeLocation"))throw new Error("Constructing tattoo without relativeLocation object")}return function tattoo_createClass(t,e,r){e&&tattoo_defineProperties(t.prototype,e),r&&tattoo_defineProperties(t,r)}(Tattoo,[{key:"renderTattooLocation",value:function renderTattooLocation(t){return locateRelativeToDrawpoint(t,this.relativeLocation)}}]),Tattoo}(),kt={},Ct={getRender:function getRender(t){if(kt.hasOwnProperty(t.name))return kt[t.name];throw new Error("Tattoo not loaded yet: "+t.name)},loadTattoo:function loadTattoo(n){kt.hasOwnProperty(n.name)||f.push(new Promise(function(t,e){var r=new Image;r.onload=function(){kt[n.name]=r,t()},r.onerror=function(){console.log(Error("failed to load "+n.src)),e()},r.crossOrigin="anonymous",r.src=n.src}))},create:function create(){for(var t=arguments.length,e=new Array(1<t?t-1:0),r=1;r<t;r++)e[r-1]=arguments[r];return tattoo_construct(St,e)}};function draw_toConsumableArray(t){return function draw_arrayWithoutHoles(t){if(Array.isArray(t))return draw_arrayLikeToArray(t)}(t)||function draw_iterableToArray(t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(t))return Array.from(t)}(t)||function draw_unsupportedIterableToArray(t,e){if(!t)return;if("string"==typeof t)return draw_arrayLikeToArray(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);"Object"===r&&t.constructor&&(r=t.constructor.name);if("Map"===r||"Set"===r)return Array.from(t);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return draw_arrayLikeToArray(t,e)}(t)||function draw_nonIterableSpread(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function draw_arrayLikeToArray(t,e){(null==e||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function draw_draw_typeof(t){return(draw_draw_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function _typeof(t){return typeof t}:function _typeof(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}var wt=Object.freeze({nameColor:"#000",genderColor:"#000",heightColor:"#000",heightBarColor:"#000",backgroundColor:"#fff",transparentBackground:!0,printAdditionalInfo:!0,printVitals:!0,printHeight:!0,renderShoeSideView:!0,offsetX:0,offsetY:0});function draw(t,r,e,n){if(!at)throw new Error("trying to draw without having loaded first! (call da.load() before)");if(f.length)return Promise.all(f).then(function(){return f.length=0,draw(t,r,e,n)});var o=Object.assign({},wt);if(e&&Object.assign(o,e),r.Mods.shoeHeight=r.heightAdjust(),o.passThrough||r.calcAll(),!ct[r.skeleton])throw new Error("can't find skeleton with name "+r.skeleton);var a={};a.cx=80+o.offsetX,a.cy=200+o.offsetY,a.avatar=r,a[A.LEFT]={},a[A.RIGHT]={},r.parts.forEach(function(t){calcPart(a,t)}),r.faceParts.forEach(function(t){calcPart(a,t)}),r.decorativeParts.forEach(function(t){var e=t.loc;(r.getPartInLocation(e)||r.getPartInLocation(e,r.faceParts))&&calcPart(a,t)}),r.fillMissingDrawpoints(a[A.LEFT]),r.fillMissingDrawpoints(a[A.RIGHT]),convertPointsToCanvasUnits(a[A.LEFT]),convertPointsToCanvasUnits(a[A.RIGHT]),configureBaseColors(a);for(var i=[],s=t.children.length-1;0<=s;--s)i.push(t.children[s]);a.canvasGroup=i;for(var c=[],l=0;l<_.NUM_LAYERS;++l){var u=new st.a(i[l].getContext("2d"));initCanvas(i[l],u,o,r,a,l,!0,n),c.push(u)}return a.height=i[_.BASE].height,a.width=i[_.BASE].width,a.clip={},new Promise(function(t){return renderBase(c,a),renderParts(c,a,o),a.ctxGroup=c,a.ctx=new st.a(i[_.NUM_LAYERS].getContext("2d")),initCanvas(i[_.NUM_LAYERS],a.ctx,o,r,a,_.NUM_LAYERS,!1,n),t(a),a})}function calcPart(t,e){var r=t.avatar;e.hasOwnProperty("Mods")&&(applyMods(r.Mods,e.Mods),r.calcAll()),e.calcDrawPoints.call(r.dim,t[e.side],r._clampedMods,!0,e),e.reflect&&e.calcDrawPoints.call(r.dim,t[1-e.side],r._clampedMods,!0,e),e.hasOwnProperty("Mods")&&(removeMods(r.Mods,e.Mods),r.calcAll())}function renderBase(t,e){for(var r=_.BASE;r<_.NUM_LAYERS;++r){e.clip[r]={};var n=t[r];n.save(),n.scale(-1,1),n.beginPath(),e.clip[r][A.LEFT]=drawPartsLayer(e,r,A.LEFT,n),n.fill(),n.restore(),e.clip[r][A.RIGHT]=drawPartsLayer(e,r,A.RIGHT,n),n.fill()}}function strokePart(t,e){t.beginPath(),drawPoints.apply(null,[t].concat(e)),t.stroke()}function orderParts(a){var i=["parts","faceParts","decorativeParts","hairParts","clothingParts","shadingParts","tattoos"],r=[],s=new Map,n=[],o=0,c=[];i.forEach(function(e){a[e].forEach(function(t){r[o]=t,s.set(t,o),n.push(e),++o})}),i.forEach(function(t){a[t].forEach(function(t){!function findDependencies(n){var o=s.get(n);n.parentPart&&a.parts.forEach(function(t){isParentPart(t,n)&&c.push([o,s.get(t)])});n.aboveParts&&n.aboveParts.forEach(function(e){var t,r=null;-1<e.indexOf(" ")&&(t=e.split(" "),r=t[0],e=t[1]),i.forEach(function(t){r&&r!==t||a[t].forEach(function(t){t===n||t.layer>n.layer||e===extractBaseLocation(extractUnmodifiedLocation(t.loc))&&c.push([o,s.get(t)])})})});n.belowParts&&n.belowParts.forEach(function(e){var t,r=null;-1<e.indexOf(" ")&&(t=e.split(" "),r=t[0],e=t[1]),i.forEach(function(t){r&&r!==t||a[t].forEach(function(t){t===n||n.layer>t.layer||e===extractBaseLocation(extractUnmodifiedLocation(t.loc))&&c.push([s.get(t),o])})})})}(t)})}),function findClothingLayerDependencies(){for(var r=[],t=0;t<ut.Layer.NUM_LAYERS;++t)r.push([]);a.clothingParts.forEach(function(t){var e=t._owner.clothingLayer;r[e].push(t)});for(var e=0;e<r.length;++e)for(var n=e+1;n<r.length;++n)!function _loop(t){r[e].forEach(function(e){r[t].forEach(function(t){e.layer<=t.layer&&c.push([s.get(t),s.get(e)])})})}(n)}(),function findClothingSameLayerOrdering(){var r={};a.clothingParts.forEach(function(t){var e=t._owner.clothingLayer;r.hasOwnProperty(e)?r[e].push(t):r[e]=[t]});for(var t in r)(function _loop2(t){if(!1===r.hasOwnProperty(t))return;var e=r[t];e.forEach(function(r){(r.aboveSameLayerParts||r.belowSameLayerParts)&&e.forEach(function(t){var e;t!==r&&t.layer===r.layer&&(e=extractBaseLocation(extractUnmodifiedLocation(t.loc)),mutualSameLayerOrdering(r.aboveSameLayerParts,t.aboveSameLayerParts)||mutualSameLayerOrdering(r.belowSameLayerParts,t.belowSameLayerParts)||(r.aboveSameLayerParts&&-1<r.aboveSameLayerParts.indexOf(e)&&c.push([s.get(r),s.get(t)]),r.belowSameLayerParts&&-1<r.belowSameLayerParts.indexOf(e)&&c.push([s.get(t),s.get(r)])))})})})(t);function mutualSameLayerOrdering(t,e){var r=!1;return t&&e&&t.forEach(function(t){-1<e.indexOf(t)&&(r=!0)}),r}}();for(var t=[],e=0;e<o;++e)t.push(e);for(var l=topologicalSort(t,c).reverse(),u=[],p=[],f=0;f<l.length;++f){var y=l[f];u.push(r[y]),p.push(n[y])}return{orderedPartTypes:p,orderedParts:u}}function renderParts(c,l,t){for(var u=l.avatar,e=orderParts(u),r=e.orderedPartTypes,p=e.orderedParts,o=[],n={},a=0;a<p.length;++a){var i=p[a];if(i.coverConceal&&i.coverConceal.length)if(u.checkPartCoveredByClothing(i))continue;!1===n.hasOwnProperty(r[a])&&(n[r[a]]={});var s=n[r[a]];switch(s.hasOwnProperty(i.loc)&&(s[i.loc]=null),r[a]){case"parts":case"faceParts":case"decorativeParts":!function renderPart(t,e,r){if(!t.calcDrawPoints)return;var n=c[t.layer];n.save(),t.side!==A.LEFT&&!0!==t.reflect||n.scale(-1,1);setStrokeAndFill(n,t,l),n.lineWidth=t.getLineWidth(u);var o,a=t.clipFill?t.clipFill(l[t.side]):l.clip[t.layer][t.side];n.save(),clipPart(n,a),drawPart(l,p,e,t.layer,t.side,r),fillPart(n,r[t.loc]),n.restore(),o="function"==typeof t.stroke&&0===t.stroke.length?t.stroke()!==d:t.stroke!==d;{var i;o&&(t.clipStroke?(i=t.clipStroke(l[t.side]),n.save(),clipPart(n,i),strokePart(n,r[t.loc]),n.restore()):strokePart(n,r[t.loc]))}{var s;!0===t.reflect&&(n.scale(-1,1),n.save(),clipPart(n,a),fillPart(n,r[t.loc]),n.restore(),o&&(t.hasOwnProperty("clipStroke")?(s=t.clipStroke(l[t.side]),n.save(),clipPart(n,s),strokePart(n,r[t.loc]),n.restore()):strokePart(n,r[t.loc])))}n.restore()}(i,a,s);break;case"shadingParts":!function renderShading(t,e,r){var n=c[t.layer+1];n.save(),t.side!==A.LEFT&&!0!==t.reflect||n.scale(-1,1);setStrokeAndFill(n,t,l),n.save(),t.clipFill&&clipPart(n,t.clipFill.call(u.dim,l[t.side]));drawPart(l,p,e,t.layer,t.side,r),fillPart(n,r[t.loc]),strokePart(n,r[t.loc]),n.restore(),!0===t.reflect&&(n.scale(-1,1),t.clipFill&&clipPart(n,t.clipFill.call(u.dim,l[t.side])),fillPart(n,r[t.loc]),strokePart(n,r[t.loc]));n.restore()}(i,a,s);break;case"hairParts":!function renderHairPart(t){var e=c[t.layer];e.save(),setStrokeAndFill(e,t,l),t.renderHairPoints.call(u.dim,e,l[t.side],u._clampedMods,l),t.reflect&&(e.save(),e.scale(-1,1),t.renderHairPoints.call(u.dim,e,l[1-t.side],u._clampedMods,l),e.restore());e.restore()}(i);break;case"clothingParts":!function renderClothingPart(t){if(t instanceof Pt)return o.push(t);var e=c[t.layer],r=t.side;e.save(),t.side===A.LEFT&&e.scale(-1,1);t.renderClothingPoints.call(t._owner,l[r],e,u._clampedMods,u),e.restore(),t.reflect&&(e.save(),e.scale(-1,1),t.renderClothingPoints.call(t._owner,l[1-r],e,u._clampedMods,u),e.restore())}(i);break;case"tattoos":!function renderTattoo(t){var e=Ct.getRender(t),r=c[t.layer],n=t.renderTattooLocation(l[t.side]);r.save(),t.side===A.LEFT&&r.scale(-1,1);{var o;t.ignoreClip||(o=l.clip[t.layer][t.side],clipPart(r,o))}drawTattooPattern(t,e,r,n),r.restore()}(i)}}!function renderItems(){var i={x:-l.cx-l.ox+5,y:.15*l.height/2.5};u.items.forEach(function(t){var e=ht.getItemRender(t),r=e.width,n=e.height;t.width&&(n*=t.width/r,r=t.width);var o=c[t.layer];o.scale(1,-1);var a=t.renderItemLocation(l,r,n);a?o.drawImage(e,a.x,-a.y,r,-n):(o.drawImage(e,i.x,-i.y,r,-n),i.y+=n),o.scale(1,-1)})}(),function synthesizeLayers(){var t=l.canvasGroup[_.NUM_LAYERS],e=t.getContext("2d");{var r;e.setTransform(1,0,0,1,0,0),e.clearRect(0,0,t.width,t.height),l.shadingCanvas||((r=document.createElement("canvas")).width=l.canvasGroup[0].width,r.height=l.canvasGroup[0].height,l.shadingCanvas=r)}for(var n=l.shadingCanvas.getContext("2d"),o=_.BASE+1;o<_.NUM_LAYERS;++o)m.indexOf(o)<0?(e.globalCompositeOperation="source-over",e.drawImage(l.canvasGroup[o],0,0)):(n.clearRect(0,0,l.shadingCanvas.width,l.shadingCanvas.height),n.drawImage(l.canvasGroup[o],0,0),n.globalCompositeOperation="destination-in",n.drawImage(t,0,0),e.globalCompositeOperation="multiply",e.drawImage(l.shadingCanvas,0,0),n.globalCompositeOperation="source-over");l.canvasGroup[_.BASE].getContext("2d").drawImage(t,0,0),e.globalCompositeOperation="source-over",e.drawImage(l.canvasGroup[_.BASE],0,0)}(),t.renderShoeSideView&&function renderShoeSideView(){var r=l.canvasGroup[_.NUM_LAYERS].getContext("2d");r.save(),r.translate(l.ox,l.height-30);var t=l.scaling;r.scale(t,-t);var e=220/t,n=.2*l.height/t;r.rect(0,0,e,n),r.clip(),o.forEach(function(t){var e=t.side;r.save(),t.renderShoeSidePart.call(t._owner,l[e],r,{feetBias:u._clampedMods.feetBias,feetLength:u.dim.feetLength,feetWidth:u.dim.feetWidth}),r.restore()}),r.restore()}()}function drawPart(o,a,t,i,e,s){var c=a[t];if("number"==typeof c.layer){if(c.calcDrawPoints&&c.layer===i&&(!1!==c.reflect||c.side===e&&!s[c.loc])){var r=o.avatar;c.hasOwnProperty("Mods")&&(applyMods(r.Mods,c.Mods),r.calcAll());var n=c._owner?c._owner:r.dim,l=c.calcDrawPoints.call(n,o[e],r._clampedMods,!1,c,r);c.hasOwnProperty("Mods")&&(removeMods(r.Mods,c.Mods),r.calcAll());for(var u=[],p=0;p<l.length;++p)l[p]&&l[p].hasOwnProperty("child")?a.forEach(function(t,e){var r,n;isParentPart(c,t)&&(r=extractUnmodifiedLocation(t.loc),!1===s.hasOwnProperty(r)&&(n=getSideValue(extractSideLocation(r)),drawPart(o,a,e,i,n,s)),u.extend(s[r]),s[r]=[])}):u.push(l[p]);return s[c.loc]=u}}else console.log(c.loc,"in layer",c.layer,"not found typeof",draw_draw_typeof(_[c.layer]))}function drawPartsLayer(t,e,r,n){for(var o=[],a={},i=0;i<t.avatar.parts.length;++i){drawPart(t,t.avatar.parts,i,e,r,a);var s=t.avatar.parts[i];!1===t.avatar.checkPartCoveredByClothing(s)&&o.push(t.avatar.parts[i].loc)}return o=function synthesizeDrawPoints(t,e){for(var r=[],n=0;n<t.length;++n)r.extend(e[t[n]]);return r}(o,a),drawPoints.apply(null,[n].concat(o)),o}function clipPart(t,e){e&&(t.beginPath(),drawPoints.apply(null,[t].concat(e)),t.closePath(),t.clip())}function fillPart(t,e){t.beginPath();var r=[];e.forEach(function(t){t&&t.hasOwnProperty("fillOnly")?r.push.apply(r,draw_toConsumableArray(t.fillOnly)):r.push(t)}),drawPoints.apply(null,[t].concat(r));var n=null,o=r[r.length-1];if(o!==b){for(var a=0;a<r.length;++a)if(r[a]&&r[a].hasOwnProperty("x")){n=r[a];break}for(var i=r.length-1;0<=i;--i)if(r[i]&&r[i].hasOwnProperty("x")){o=r[i];break}null!==n&&(drawPoints(t,null,connectEndPoints(o,n)),t.fill())}else t.fill()}function connectEndPoints(t,e){var r=2<arguments.length&&void 0!==arguments[2]?arguments[2]:.25,n=extractPoint(e);return n.cp1=simpleQuadratic(t,e,.5,dist(t,e)*r),n}function coverNipplesIfHaveNoBreasts(t,e,r){return!1===t.hasOwnProperty("breast")&&(e.save(),e.lineWidth=10,setStrokeAndFill(e,{fill:d,stroke:r.fill},t),e.beginPath(),drawPoints(e,v,t.chest.nipples),e.stroke(),e.restore(),!0)}function drawFocusedWindow(t,e,r){var n=t.getContext("2d");n.clearRect(0,0,t.width,t.height);var o=e.ctx.canvas,a=r.center.x-r.width/2,i=r.center.y+r.height/2,s=e.ctx.tf.last().applyToPoint(a,i),c=r.width*e.scaling,l=r.height*e.scaling,u=Math.min(t.width,t.height/l*c);n.drawImage(o,s.x,s.y,c,l,0,0,u,t.height)}function decorative_part_typeof(t){return(decorative_part_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function _typeof(t){return typeof t}:function _typeof(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function decorative_part_defineProperties(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function decorative_part_setPrototypeOf(t,e){return(decorative_part_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(t,e){return t.__proto__=e,t})(t,e)}function decorative_part_createSuper(r){var n=function decorative_part_isNativeReflectConstruct(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(t){return!1}}();return function _createSuperInternal(){var t,e=decorative_part_getPrototypeOf(r);return function decorative_part_possibleConstructorReturn(t,e){return!e||"object"!==decorative_part_typeof(e)&&"function"!=typeof e?function decorative_part_assertThisInitialized(t){if(void 0!==t)return t;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}(t):e}(this,n?(t=decorative_part_getPrototypeOf(this).constructor,Reflect.construct(e,arguments,t)):e.apply(this,arguments))}}function decorative_part_getPrototypeOf(t){return(decorative_part_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var xt=function(){!function decorative_part_inherits(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&decorative_part_setPrototypeOf(t,e)}(DecorativePart,x);var n=decorative_part_createSuper(DecorativePart);function DecorativePart(){!function decorative_part_classCallCheck(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,DecorativePart);for(var t=arguments.length,e=new Array(t),r=0;r<t;r++)e[r]=arguments[r];return n.call.apply(n,[this,{loc:null,layer:_.BASE,reflect:!1,coverConceal:[],uncoverable:!1}].concat(e))}return function decorative_part_createClass(t,e,r){e&&decorative_part_defineProperties(t.prototype,e),r&&decorative_part_defineProperties(t,r)}(DecorativePart,[{key:"stroke",value:function stroke(){return"inherit"}},{key:"fill",value:function fill(){return"inherit"}},{key:"getLineWidth",value:function getLineWidth(){return 1.5}}]),DecorativePart}();function facial_hair_typeof(t){return(facial_hair_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function _typeof(t){return typeof t}:function _typeof(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function facial_hair_classCallCheck(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function facial_hair_defineProperties(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function facial_hair_createClass(t,e,r){return e&&facial_hair_defineProperties(t.prototype,e),r&&facial_hair_defineProperties(t,r),t}function facial_hair_inherits(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&facial_hair_setPrototypeOf(t,e)}function facial_hair_setPrototypeOf(t,e){return(facial_hair_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(t,e){return t.__proto__=e,t})(t,e)}function facial_hair_createSuper(r){var n=function facial_hair_isNativeReflectConstruct(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(t){return!1}}();return function _createSuperInternal(){var t,e=facial_hair_getPrototypeOf(r);return function facial_hair_possibleConstructorReturn(t,e){return!e||"object"!==facial_hair_typeof(e)&&"function"!=typeof e?function facial_hair_assertThisInitialized(t){if(void 0!==t)return t;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}(t):e}(this,n?(t=facial_hair_getPrototypeOf(this).constructor,Reflect.construct(e,arguments,t)):e.apply(this,arguments))}}function facial_hair_getPrototypeOf(t){return(facial_hair_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var Ot=function(){facial_hair_inherits(FacialHair,xt);var n=facial_hair_createSuper(FacialHair);function FacialHair(){facial_hair_classCallCheck(this,FacialHair);for(var t=arguments.length,e=new Array(t),r=0;r<t;r++)e[r]=arguments[r];return n.call.apply(n,[this,{loc:"+head",layer:_.BELOW_HAIR,aboveParts:["parts head"]}].concat(e))}return facial_hair_createClass(FacialHair,[{key:"stroke",value:function stroke(){return d}},{key:"clipFill",value:function clipFill(){}},{key:"fill",value:function fill(t,e){return console.log(this),adjustColor(e.hairFill,{l:-5,s:-5})}}]),FacialHair}(),At=function(){facial_hair_inherits(Mustache,Ot);var n=facial_hair_createSuper(Mustache);function Mustache(){facial_hair_classCallCheck(this,Mustache);for(var t=arguments.length,e=new Array(t),r=0;r<t;r++)e[r]=arguments[r];return n.call.apply(n,[this].concat(e))}return facial_hair_createClass(Mustache,[{key:"stroke",value:function stroke(){return d}},{key:"clipFill",value:function clipFill(){}},{key:"fill",value:function fill(t,e){return console.log(this),adjustColor(e.hairFill,{l:-5,s:-5})}}]),Mustache}();function fur_typeof(t){return(fur_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function _typeof(t){return typeof t}:function _typeof(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function fur_defineProperties(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function fur_setPrototypeOf(t,e){return(fur_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(t,e){return t.__proto__=e,t})(t,e)}function fur_createSuper(r){var n=function fur_isNativeReflectConstruct(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(t){return!1}}();return function _createSuperInternal(){var t,e=fur_getPrototypeOf(r);return function fur_possibleConstructorReturn(t,e){return!e||"object"!==fur_typeof(e)&&"function"!=typeof e?function fur_assertThisInitialized(t){if(void 0!==t)return t;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}(t):e}(this,n?(t=fur_getPrototypeOf(this).constructor,Reflect.construct(e,arguments,t)):e.apply(this,arguments))}}function fur_getPrototypeOf(t){return(fur_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var Tt=function(){!function fur_inherits(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&fur_setPrototypeOf(t,e)}(LegFur,xt);var n=fur_createSuper(LegFur);function LegFur(){!function fur_classCallCheck(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,LegFur);for(var t=arguments.length,e=new Array(t),r=0;r<t;r++)e[r]=arguments[r];return n.call.apply(n,[this,o.brownFur,{fill:d,loc:"+leg",layer:_.FRONT,aboveParts:["parts leg"]}].concat(e))}return function fur_createClass(t,e,r){e&&fur_defineProperties(t.prototype,e),r&&fur_defineProperties(t,r)}(LegFur,[{key:"calcDrawPoints",value:function calcDrawPoints(){return[]}}]),LegFur}();function markings_typeof(t){return(markings_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function _typeof(t){return typeof t}:function _typeof(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function markings_toConsumableArray(t){return function markings_arrayWithoutHoles(t){if(Array.isArray(t))return markings_arrayLikeToArray(t)}(t)||function markings_iterableToArray(t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(t))return Array.from(t)}(t)||function markings_unsupportedIterableToArray(t,e){if(!t)return;if("string"==typeof t)return markings_arrayLikeToArray(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);"Object"===r&&t.constructor&&(r=t.constructor.name);if("Map"===r||"Set"===r)return Array.from(t);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return markings_arrayLikeToArray(t,e)}(t)||function markings_nonIterableSpread(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function markings_arrayLikeToArray(t,e){(null==e||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function markings_defineProperties(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function markings_setPrototypeOf(t,e){return(markings_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(t,e){return t.__proto__=e,t})(t,e)}function markings_createSuper(r){var n=function markings_isNativeReflectConstruct(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(t){return!1}}();return function _createSuperInternal(){var t,e=markings_getPrototypeOf(r);return function markings_possibleConstructorReturn(t,e){return!e||"object"!==markings_typeof(e)&&"function"!=typeof e?function markings_assertThisInitialized(t){if(void 0!==t)return t;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}(t):e}(this,n?(t=markings_getPrototypeOf(this).constructor,Reflect.construct(e,arguments,t)):e.apply(this,arguments))}}function markings_getPrototypeOf(t){return(markings_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var jt=function(){!function markings_inherits(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&markings_setPrototypeOf(t,e)}(BeautyMark,xt);var n=markings_createSuper(BeautyMark);function BeautyMark(){!function markings_classCallCheck(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,BeautyMark);for(var t=arguments.length,e=new Array(t),r=0;r<t;r++)e[r]=arguments[r];return n.call.apply(n,[this,{offsetX:-10,offsetY:10,radius:.3,loc:"head",layer:_.BELOW_HAIR,aboveParts:["parts head"]}].concat(e))}return function markings_createClass(t,e,r){e&&markings_defineProperties(t.prototype,e),r&&markings_defineProperties(t,r)}(BeautyMark,[{key:"stroke",value:function stroke(){return d}},{key:"clipFill",value:function clipFill(){}},{key:"fill",value:function fill(t,e){return adjustColor(e.baseStroke,{s:-30,l:-30})}},{key:"calcDrawPoints",value:function calcDrawPoints(t,e,r,n){var o=extractPoint(t.lips.center);return o.x+=n.offsetX,o.y+=n.offsetY,[v].concat(markings_toConsumableArray(drawCircle(o,n.radius)))}}]),BeautyMark}();function outline_toConsumableArray(t){return function outline_arrayWithoutHoles(t){if(Array.isArray(t))return outline_arrayLikeToArray(t)}(t)||function outline_iterableToArray(t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(t))return Array.from(t)}(t)||function outline_unsupportedIterableToArray(t,e){if(!t)return;if("string"==typeof t)return outline_arrayLikeToArray(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);"Object"===r&&t.constructor&&(r=t.constructor.name);if("Map"===r||"Set"===r)return Array.from(t);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return outline_arrayLikeToArray(t,e)}(t)||function outline_nonIterableSpread(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function outline_arrayLikeToArray(t,e){(null==e||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function outline_typeof(t){return(outline_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function _typeof(t){return typeof t}:function _typeof(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function outline_classCallCheck(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function outline_defineProperties(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function outline_createClass(t,e,r){return e&&outline_defineProperties(t.prototype,e),r&&outline_defineProperties(t,r),t}function outline_inherits(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&outline_setPrototypeOf(t,e)}function outline_setPrototypeOf(t,e){return(outline_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(t,e){return t.__proto__=e,t})(t,e)}function outline_createSuper(r){var n=function outline_isNativeReflectConstruct(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(t){return!1}}();return function _createSuperInternal(){var t,e=outline_getPrototypeOf(r);return function outline_possibleConstructorReturn(t,e){return!e||"object"!==outline_typeof(e)&&"function"!=typeof e?function outline_assertThisInitialized(t){if(void 0!==t)return t;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}(t):e}(this,n?(t=outline_getPrototypeOf(this).constructor,Reflect.construct(e,arguments,t)):e.apply(this,arguments))}}function outline_getPrototypeOf(t){return(outline_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var Rt=function(){outline_inherits(Outline,xt);var n=outline_createSuper(Outline);function Outline(){outline_classCallCheck(this,Outline);for(var t=arguments.length,e=new Array(t),r=0;r<t;r++)e[r]=arguments[r];return n.call.apply(n,[this].concat(e))}return outline_createClass(Outline,[{key:"stroke",value:function stroke(t,e){return adjustColor(e.baseStroke,{s:-30,l:-30})}},{key:"fill",value:function fill(){return d}}]),Outline}(),Bt=function(){outline_inherits(MuscleOutline,Rt);var n=outline_createSuper(MuscleOutline);function MuscleOutline(){outline_classCallCheck(this,MuscleOutline);for(var t=arguments.length,e=new Array(t),r=0;r<t;r++)e[r]=arguments[r];return n.call.apply(n,[this].concat(e))}return outline_createClass(MuscleOutline,[{key:"getLineWidth",value:function getLineWidth(t){return clamp(.05*(t.getDim(this.muscleGroup)-10),0,1.2)}}]),MuscleOutline}(),Et=function(){outline_inherits(BellyButtonOutline,Rt);var n=outline_createSuper(BellyButtonOutline);function BellyButtonOutline(){outline_classCallCheck(this,BellyButtonOutline);for(var t=arguments.length,e=new Array(t),r=0;r<t;r++)e[r]=arguments[r];return n.call.apply(n,[this,{loc:"+torso",aboveParts:["parts torso"],belowParts:["clothingParts leg"],layer:_.FRONT}].concat(e))}return outline_createClass(BellyButtonOutline,[{key:"getLineWidth",value:function getLineWidth(){return 1}},{key:"calcDrawPoints",value:function calcDrawPoints(t,e,r){var n;return r&&((n=t.bellybutton={}).top={x:0,y:.45*t.waist.y+.55*t.hip.y},n.bot={x:n.top.x,y:n.top.y-1},n.bot.cp1=simpleQuadratic(n.top,n.bot,.5,.5)),[t.bellybutton.top,t.bellybutton.bot]}}]),BellyButtonOutline}(),Lt=function(){outline_inherits(DeltoidsOutline,Bt);var n=outline_createSuper(DeltoidsOutline);function DeltoidsOutline(){outline_classCallCheck(this,DeltoidsOutline);for(var t=arguments.length,e=new Array(t),r=0;r<t;r++)e[r]=arguments[r];return n.call.apply(n,[this,{loc:"+arm",aboveParts:["parts arm"],layer:_.FRONT,muscleGroup:"upperMuscle"}].concat(e))}return outline_createClass(DeltoidsOutline,[{key:"calcDrawPoints",value:function calcDrawPoints(t,e,r){return this.upperMuscle<20||!1===t.hasOwnProperty("deltoids")?[]:(r&&(n=this.upperMuscle-10,(o=t.deltoids).top={x:t.armpit.x,y:t.armpit.y+2},o.bot={x:o.x-5,y:o.y},o.bot.cp1=simpleQuadratic(o.top,o.bot,.7,.1*-n)),[t.deltoids.top,t.deltoids.bot]);var n,o}}]),DeltoidsOutline}(),It=function(){outline_inherits(CollarboneOutline,Bt);var n=outline_createSuper(CollarboneOutline);function CollarboneOutline(){outline_classCallCheck(this,CollarboneOutline);for(var t=arguments.length,e=new Array(t),r=0;r<t;r++)e[r]=arguments[r];return n.call.apply(n,[this,{loc:"+torso",layer:_.FRONT,reflect:!0,muscleGroup:"upperMuscle"}].concat(e))}return outline_createClass(CollarboneOutline,[{key:"calcDrawPoints",value:function calcDrawPoints(t,e,r){return this.upperMuscle<20||!1===t.hasOwnProperty("collarbone")?[]:(r&&((n=t.collarbone).out={x:n.x-.5,y:n.y-2},n.in={x:2,y:n.out.y-2},n.in.cp1={x:n.out.x-5,y:n.out.y},n.in.cp2={x:n.in.x+1,y:n.in.y+2}),[t.collarbone.out,t.collarbone.in]);var n}}]),CollarboneOutline}(),Ft=function(){outline_inherits(PectoralOutline,Bt);var n=outline_createSuper(PectoralOutline);function PectoralOutline(){outline_classCallCheck(this,PectoralOutline);for(var t=arguments.length,e=new Array(t),r=0;r<t;r++)e[r]=arguments[r];return n.call.apply(n,[this,{loc:"+torso",aboveParts:["parts torso"],belowParts:["parts chest","decorativeParts chest"],layer:_.FRONT,reflect:!0,muscleGroup:"upperMuscle"}].concat(e))}return outline_createClass(PectoralOutline,[{key:"calcDrawPoints",value:function calcDrawPoints(t,e,r){return this.upperMuscle<20?[]:(r&&(n=this.upperMuscle-20,(o=t.pecs={}).outtop={x:t.armpit.x,y:t.armpit.y+4},o.outbot={x:o.outtop.x-3,y:o.outtop.y-9},o.inbot={x:2,y:o.outbot.y+.5},o.intop={x:.5,y:o.inbot.y+1+.3*n},o.outbot.cp1={x:o.outtop.x,y:o.outtop.y-3},o.outbot.cp2={x:o.outbot.x+1,y:o.outbot.y+1},o.inbot.cp1={x:o.outbot.x-.5,y:o.outbot.y-1},o.inbot.cp2={x:o.inbot.x+.5,y:o.inbot.y-1},o.intop.cp1={x:o.inbot.x-.1*n,y:o.inbot.y+.05*n},o.intop.cp2={x:o.intop.x,y:o.intop.y-.1*n}),[t.pecs.outtop,t.pecs.outbot,t.pecs.inbot,t.pecs.intop]);var n,o}}]),PectoralOutline}(),Ht=function(){outline_inherits(AbdominalOutline,Bt);var n=outline_createSuper(AbdominalOutline);function AbdominalOutline(){outline_classCallCheck(this,AbdominalOutline);for(var t=arguments.length,e=new Array(t),r=0;r<t;r++)e[r]=arguments[r];return n.call.apply(n,[this,{loc:"+torso",aboveParts:["parts torso"],layer:_.FRONT,reflect:!0,muscleGroup:"upperMuscle"}].concat(e))}return outline_createClass(AbdominalOutline,[{key:"calcDrawPoints",value:function calcDrawPoints(t,e,r){if(this.upperMuscle<15)return[];var n,o,a,i,s=this.upperMuscle-20;r&&(n=.12*(.75*(this.height-this.legLength)),o=.05*s,(a=t.abs={}).top={x:t.waist.x-3,y:t.armpit.y-7},a.first={x:a.top.x-1,y:a.top.y-n},a.first.cp1=simpleQuadratic(a.top,a.first,.5,o),a.second={x:a.first.x-.4,y:a.first.y-n},a.second.cp1=simpleQuadratic(a.first,a.second,.5,o),a.bot={x:a.second.x-.3,y:a.second.y-n},a.bot.cp1=simpleQuadratic(a.second,a.bot,.5,o),5<s&&(a.top.out={x:a.top.x-1.7,y:a.top.y},a.top.in={x:.9,y:a.top.y+.5},a.top.in.cp1=simpleQuadratic(a.top,a.top.in,.5,-o),a.first.out={x:a.first.x-1.7,y:a.first.y},a.first.in={x:1.5,y:a.first.y},a.first.in.cp1=simpleQuadratic(a.first,a.first.in,.5,o),a.second.out={x:a.second.x-1.7,y:a.second.y},a.second.in={x:1.2,y:a.second.y},a.second.in.cp1=simpleQuadratic(a.second,a.second.in,.5,o),a.bot.in={x:.6,y:a.bot.y},a.bot.in.cp1=simpleQuadratic(a.bot,a.bot.in,.5,o),(i=t.lat).top={x:i.x-1.5,y:i.y},i.bot={x:a.top.x+1,y:.5*a.top.y+.5*a.first.y},i.bot.cp1=simpleQuadratic(i.top,i.bot,.5,1.5*o)));var c=[t.abs.top,t.abs.first,t.abs.second,t.abs.bot];return 5<s&&(c=[].concat(outline_toConsumableArray(c),[v,t.abs.top.out,t.abs.top.in,v,t.abs.first.out,t.abs.first.in,v,t.abs.second.out,t.abs.second.in,v,t.lat.top,t.lat.bot])),c}}]),AbdominalOutline}(),Mt=function(){outline_inherits(QuadricepsOutline,Bt);var n=outline_createSuper(QuadricepsOutline);function QuadricepsOutline(){outline_classCallCheck(this,QuadricepsOutline);for(var t=arguments.length,e=new Array(t),r=0;r<t;r++)e[r]=arguments[r];return n.call.apply(n,[this,{loc:"+leg",aboveParts:["parts leg"],belowParts:["clothingParts leg","clothingParts feet"],layer:_.FRONT,muscleGroup:"lowerMuscle"}].concat(e))}return outline_createClass(QuadricepsOutline,[{key:"fill",value:function fill(t,e){return inheritFill.call(this,t,e)}},{key:"clipFill",value:function clipFill(){}},{key:"calcDrawPoints",value:function calcDrawPoints(t,e,r){return this.lowerMuscle<20||!1===t.hasOwnProperty("thigh")?[]:(r&&(n=this.lowerMuscle-10,(o=t.quads={}).top={x:.1*t.thigh.in.x+.9*t.thigh.out.x,y:t.thigh.out.y},a=splitCurve(.95,t.thigh.out,t.knee.out),o.out=a.right.p1,o.out.cp1=simpleQuadratic(o.top,o.out,.55,.25*n),o.in={x:.65*t.thigh.in.x+.35*t.thigh.out.x,y:t.thigh.in.y+3.5},o.bot={x:t.knee.out.x-6-.05*n,y:t.knee.intop.y+2},o.bot.cp1=simpleQuadratic(o.in,o.bot,.7,.1*-n)),[t.quads.top,t.quads.out,v,t.quads.in,t.quads.bot]);var n,o,a}}]),QuadricepsOutline}();function face_part_typeof(t){return(face_part_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function _typeof(t){return typeof t}:function _typeof(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function face_part_defineProperties(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function face_part_setPrototypeOf(t,e){return(face_part_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(t,e){return t.__proto__=e,t})(t,e)}function face_part_createSuper(r){var n=function face_part_isNativeReflectConstruct(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(t){return!1}}();return function _createSuperInternal(){var t,e=face_part_getPrototypeOf(r);return function face_part_possibleConstructorReturn(t,e){return!e||"object"!==face_part_typeof(e)&&"function"!=typeof e?function face_part_assertThisInitialized(t){if(void 0!==t)return t;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}(t):e}(this,n?(t=face_part_getPrototypeOf(this).constructor,Reflect.construct(e,arguments,t)):e.apply(this,arguments))}}function face_part_getPrototypeOf(t){return(face_part_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var Dt=function(){!function face_part_inherits(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&face_part_setPrototypeOf(t,e)}(FacePart,x);var n=face_part_createSuper(FacePart);function FacePart(){!function face_part_classCallCheck(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,FacePart);for(var t=arguments.length,e=new Array(t),r=0;r<t;r++)e[r]=arguments[r];return n.call.apply(n,[this,{layer:_.BELOW_HAIR,reflect:!1,coverConceal:[],uncoverable:!1}].concat(e))}return function face_part_createClass(t,e,r){e&&face_part_defineProperties(t.prototype,e),r&&face_part_defineProperties(t,r)}(FacePart,[{key:"stroke",value:function stroke(){return d}},{key:"fill",value:function fill(){return"inherit"}},{key:"getLineWidth",value:function getLineWidth(){return 1.5}}]),FacePart}();function ears_typeof(t){return(ears_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function _typeof(t){return typeof t}:function _typeof(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function ears_classCallCheck(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function ears_defineProperties(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function ears_createClass(t,e,r){return e&&ears_defineProperties(t.prototype,e),r&&ears_defineProperties(t,r),t}function ears_inherits(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&ears_setPrototypeOf(t,e)}function ears_setPrototypeOf(t,e){return(ears_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(t,e){return t.__proto__=e,t})(t,e)}function ears_createSuper(r){var n=function ears_isNativeReflectConstruct(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(t){return!1}}();return function _createSuperInternal(){var t,e=ears_getPrototypeOf(r);return function ears_possibleConstructorReturn(t,e){return!e||"object"!==ears_typeof(e)&&"function"!=typeof e?function ears_assertThisInitialized(t){if(void 0!==t)return t;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}(t):e}(this,n?(t=ears_getPrototypeOf(this).constructor,Reflect.construct(e,arguments,t)):e.apply(this,arguments))}}function ears_getPrototypeOf(t){return(ears_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var Nt=function(){ears_inherits(Ears,Dt);var n=ears_createSuper(Ears);function Ears(){ears_classCallCheck(this,Ears);for(var t=arguments.length,e=new Array(t),r=0;r<t;r++)e[r]=arguments[r];return n.call.apply(n,[this,{loc:"ears",layer:_.BELOW_HAIR,belowParts:["parts head"]}].concat(e))}return ears_createClass(Ears,[{key:"clipFill",value:function clipFill(){}},{key:"clipStroke",value:function clipStroke(){}},{key:"fill",value:function fill(t,e){return adjustColor(e.baseFill,{s:-18,l:-2})}},{key:"getLineWidth",value:function getLineWidth(t){return clamp(1.7-.05*t.dim.faceFem,.7,1.5)}}]),Ears}(),Wt=function(){ears_inherits(EarsHuman,Nt);var n=ears_createSuper(EarsHuman);function EarsHuman(){ears_classCallCheck(this,EarsHuman);for(var t=arguments.length,e=new Array(t),r=0;r<t;r++)e[r]=arguments[r];return n.call.apply(n,[this].concat(e))}return ears_createClass(EarsHuman,[{key:"calcDrawPoints",value:function calcDrawPoints(t,e,r){var n;return r&&((n=t.ear={}).top=extractPoint(t.skull.side),n.bot=extractPoint(t.skull.bot),n.mid={x:n.top.x+.6,y:.4*n.top.y+.6*n.bot.y},n.mid.cp1={x:n.top.x+1.5,y:n.top.y+.5},n.mid.cp2={x:n.mid.x+.5,y:n.mid.y+.9},n.bot.cp1={x:n.mid.x,y:n.mid.y-.7},n.bot.cp2={x:n.bot.x+.6,y:n.bot.y-.1}),[t.ear.top,t.ear.mid,t.ear.bot]}}]),EarsHuman}(),Gt=function(){ears_inherits(EarsElf,Nt);var n=ears_createSuper(EarsElf);function EarsElf(){ears_classCallCheck(this,EarsElf);for(var t=arguments.length,e=new Array(t),r=0;r<t;r++)e[r]=arguments[r];return n.call.apply(n,[this].concat(e))}return ears_createClass(EarsElf,[{key:"calcDrawPoints",value:function calcDrawPoints(t,e,r){var n,o;return r&&((n=t.ear={}).top=extractPoint(t.skull.side),o=splitCurve(.3,t.skull.side,t.skull.bot),n.bot=o.left.p2,n.mid={x:n.top.x+6+e.earlobeLength,y:n.top.y+.5},n.mid.cp1=simpleQuadratic(n.top,n.mid,.3,1),n.bot.cp1={x:n.mid.x-2,y:n.mid.y-2},n.bot.cp2={x:n.bot.x+2,y:n.bot.y+4}),[t.ear.top,t.ear.mid,t.ear.bot]}}]),EarsElf}();function eyebrow_defineProperties(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function eyebrow_typeof(t){return(eyebrow_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function _typeof(t){return typeof t}:function _typeof(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function eyebrow_classCallCheck(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function eyebrow_inherits(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&eyebrow_setPrototypeOf(t,e)}function eyebrow_setPrototypeOf(t,e){return(eyebrow_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(t,e){return t.__proto__=e,t})(t,e)}function eyebrow_createSuper(r){var n=function eyebrow_isNativeReflectConstruct(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(t){return!1}}();return function _createSuperInternal(){var t,e=eyebrow_getPrototypeOf(r);return function eyebrow_possibleConstructorReturn(t,e){return!e||"object"!==eyebrow_typeof(e)&&"function"!=typeof e?function eyebrow_assertThisInitialized(t){if(void 0!==t)return t;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}(t):e}(this,n?(t=eyebrow_getPrototypeOf(this).constructor,Reflect.construct(e,arguments,t)):e.apply(this,arguments))}}function eyebrow_getPrototypeOf(t){return(eyebrow_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var Ut=function(){eyebrow_inherits(Brow,Dt);var n=eyebrow_createSuper(Brow);function Brow(){eyebrow_classCallCheck(this,Brow);for(var t=arguments.length,e=new Array(t),r=0;r<t;r++)e[r]=arguments[r];return n.call.apply(n,[this,{loc:"brow",aboveParts:["parts head","faceParts eyelid"]}].concat(e))}return Brow}(),zt=function(){eyebrow_inherits(BrowHuman,Ut);var n=eyebrow_createSuper(BrowHuman);function BrowHuman(){eyebrow_classCallCheck(this,BrowHuman);for(var t=arguments.length,e=new Array(t),r=0;r<t;r++)e[r]=arguments[r];return n.call.apply(n,[this].concat(e))}return function eyebrow_createClass(t,e,r){e&&eyebrow_defineProperties(t.prototype,e),r&&eyebrow_defineProperties(t,r)}(BrowHuman,[{key:"fill",value:function fill(t,e){return e.browFill}},{key:"calcDrawPoints",value:function calcDrawPoints(t,e,r){var n,o,a;return r&&(n=t.brow={},o=.7+.01*this.faceFem,n.inbot={x:t.eyes.center.x-2+.1*e.browCloseness,y:t.eyes.center.y+o-.5+.1*e.browHeight},a=.1*e.browThickness-.005*this.faceFem,n.intop={x:n.inbot.x+.1*e.browSharpness,y:n.inbot.y+clamp(.95+a,0,5)},n.intop.cp1=simpleQuadratic(n.inbot,n.intop,.5,.5),n.outbot={x:t.eyes.center.x+2.5+.1*e.browLength,y:t.eyes.center.y+o+.1*e.browHeight},n.outtop={x:n.outbot.x+.1*e.browOutBias,y:n.outbot.y+clamp(.7+a+.05*e.browOutBias,0,5)},n.outtop.cp1=simpleQuadratic(n.intop,n.outtop,.4,.1*e.browTopCurl),-5<e.browOutBias&&(n.outbot.cp1=simpleQuadratic(n.outtop,n.outbot,.5,.5)),n.inbot.cp1=simpleQuadratic(n.outbot,n.intop,.6,.1*-e.browBotCurl),rotatePoints(n.inbot,e.browTilt*Math.PI/180,n.inbot,n.intop,n.outtop,n.outbot)),[t.brow.inbot,t.brow.intop,t.brow.outtop,t.brow.outbot,t.brow.inbot]}}]),BrowHuman}();function eyelash_defineProperties(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function eyelash_typeof(t){return(eyelash_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function _typeof(t){return typeof t}:function _typeof(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function eyelash_classCallCheck(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function eyelash_inherits(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&eyelash_setPrototypeOf(t,e)}function eyelash_setPrototypeOf(t,e){return(eyelash_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(t,e){return t.__proto__=e,t})(t,e)}function eyelash_createSuper(r){var n=function eyelash_isNativeReflectConstruct(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(t){return!1}}();return function _createSuperInternal(){var t,e=eyelash_getPrototypeOf(r);return function eyelash_possibleConstructorReturn(t,e){return!e||"object"!==eyelash_typeof(e)&&"function"!=typeof e?function eyelash_assertThisInitialized(t){if(void 0!==t)return t;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}(t):e}(this,n?(t=eyelash_getPrototypeOf(this).constructor,Reflect.construct(e,arguments,t)):e.apply(this,arguments))}}function eyelash_getPrototypeOf(t){return(eyelash_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var Qt=function(){eyelash_inherits(Eyelash,Dt);var n=eyelash_createSuper(Eyelash);function Eyelash(){eyelash_classCallCheck(this,Eyelash);for(var t=arguments.length,e=new Array(t),r=0;r<t;r++)e[r]=arguments[r];return n.call.apply(n,[this,{loc:"eyelash",aboveParts:["eyelid"],parentPart:"eyelid"}].concat(e))}return Eyelash}(),Vt=function(){eyelash_inherits(EyelashHuman,Qt);var n=eyelash_createSuper(EyelashHuman);function EyelashHuman(){eyelash_classCallCheck(this,EyelashHuman);for(var t=arguments.length,e=new Array(t),r=0;r<t;r++)e[r]=arguments[r];return n.call.apply(n,[this].concat(e))}return function eyelash_createClass(t,e,r){e&&eyelash_defineProperties(t.prototype,e),r&&eyelash_defineProperties(t,r)}(EyelashHuman,[{key:"fill",value:function fill(t,e){return e.lashFill}},{key:"calcDrawPoints",value:function calcDrawPoints(t,e,r){var n,o,a;return r&&(n=t.eyelash={},o=t.eyelid,a=e.eyelashAngle*this.eyelashLength*.1,n.top={x:t.eyes.top.x+.1*e.eyelashBias,y:o.top.y+a},n.top.cp1={x:.7*o.in.x+.3*n.top.x,y:.5*o.in.y+.5*n.top.y},n.top.cp2={x:.4*o.in.x+.6*n.top.x,y:n.top.y},n.out=extractPoint(t.eyes.out),n.out.cp1=continueCurve(t.eyes.out,n.top,1),n.outBot=extractPoint(t.eyes.out),n.outBot.cp1=adjust(t.eyes.in.cp2,e.eyelashBias*clamp(this.eyelashLength,0,4)*.01,.03*-this.eyelashLength),n.outBot.cp2=adjust(t.eyes.in.cp1,e.eyelashBias*clamp(this.eyelashLength,0,5)*.01,.03*-this.eyelashLength),rotatePoints(t.eyes.center,e.eyeTilt*Math.PI/180,n.top,n.out)),[t.eyes.out,t.eyelid.top,t.eyelid.in,t.eyelash.top,t.eyelash.out,v,t.eyes.out,t.eyes.in,t.eyelash.outBot,b]}}]),EyelashHuman}();function eyelid_defineProperties(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function eyelid_typeof(t){return(eyelid_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function _typeof(t){return typeof t}:function _typeof(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function eyelid_classCallCheck(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function eyelid_inherits(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&eyelid_setPrototypeOf(t,e)}function eyelid_setPrototypeOf(t,e){return(eyelid_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(t,e){return t.__proto__=e,t})(t,e)}function eyelid_createSuper(r){var n=function eyelid_isNativeReflectConstruct(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(t){return!1}}();return function _createSuperInternal(){var t,e=eyelid_getPrototypeOf(r);return function eyelid_possibleConstructorReturn(t,e){return!e||"object"!==eyelid_typeof(e)&&"function"!=typeof e?function eyelid_assertThisInitialized(t){if(void 0!==t)return t;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}(t):e}(this,n?(t=eyelid_getPrototypeOf(this).constructor,Reflect.construct(e,arguments,t)):e.apply(this,arguments))}}function eyelid_getPrototypeOf(t){return(eyelid_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var qt=function(){eyelid_inherits(Eyelid,Dt);var n=eyelid_createSuper(Eyelid);function Eyelid(){eyelid_classCallCheck(this,Eyelid);for(var t=arguments.length,e=new Array(t),r=0;r<t;r++)e[r]=arguments[r];return n.call.apply(n,[this,{loc:"eyelid",aboveParts:["eyes","iris","pupil"]}].concat(e))}return Eyelid}(),Jt=function(){eyelid_inherits(EyelidHuman,qt);var n=eyelid_createSuper(EyelidHuman);function EyelidHuman(){eyelid_classCallCheck(this,EyelidHuman);for(var t=arguments.length,e=new Array(t),r=0;r<t;r++)e[r]=arguments[r];return n.call.apply(n,[this].concat(e))}return function eyelid_createClass(t,e,r){e&&eyelid_defineProperties(t.prototype,e),r&&eyelid_defineProperties(t,r)}(EyelidHuman,[{key:"fill",value:function fill(t,e){return e.eyelidColor}},{key:"calcDrawPoints",value:function calcDrawPoints(t,e,r){var n,o;return r&&(t.eyelid={},n=adjust(t.eyes.top,.1*e.eyelidBias,.1*e.eyelidHeight-.3),o=adjust(t.eyes.out,.1*e.eyelidBias,.1*e.eyelidHeight-.3),t.eyelid.top={x:n.x,y:n.y},t.eyelid.top.cp1=o.cp2,t.eyelid.top.cp2=o.cp1,t.eyelid.in=extractPoint(t.eyes.in),t.eyelid.in.cp1=n.cp2,t.eyelid.in.cp2=n.cp1,5<e.eyelidHeight&&(t.eyelid.in.cp1.x-=.02*e.eyelidHeight,t.eyelid.in.cp2.x-=.02*e.eyelidHeight)),[t.eyes.in,t.eyes.top,t.eyes.out,t.eyelid.top,t.eyelid.in]}}]),EyelidHuman}();function eyes_defineProperties(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function eyes_typeof(t){return(eyes_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function _typeof(t){return typeof t}:function _typeof(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function eyes_classCallCheck(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function eyes_inherits(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&eyes_setPrototypeOf(t,e)}function eyes_setPrototypeOf(t,e){return(eyes_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(t,e){return t.__proto__=e,t})(t,e)}function eyes_createSuper(r){var n=function eyes_isNativeReflectConstruct(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(t){return!1}}();return function _createSuperInternal(){var t,e=eyes_getPrototypeOf(r);return function eyes_possibleConstructorReturn(t,e){return!e||"object"!==eyes_typeof(e)&&"function"!=typeof e?function eyes_assertThisInitialized(t){if(void 0!==t)return t;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}(t):e}(this,n?(t=eyes_getPrototypeOf(this).constructor,Reflect.construct(e,arguments,t)):e.apply(this,arguments))}}function eyes_getPrototypeOf(t){return(eyes_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var $t=function(){eyes_inherits(Eyes,Dt);var n=eyes_createSuper(Eyes);function Eyes(){eyes_classCallCheck(this,Eyes);for(var t=arguments.length,e=new Array(t),r=0;r<t;r++)e[r]=arguments[r];return n.call.apply(n,[this,{loc:"eyes",aboveParts:["parts head"]}].concat(e))}return Eyes}(),Yt=function(){eyes_inherits(EyesHuman,$t);var n=eyes_createSuper(EyesHuman);function EyesHuman(){eyes_classCallCheck(this,EyesHuman);for(var t=arguments.length,e=new Array(t),r=0;r<t;r++)e[r]=arguments[r];return n.call.apply(n,[this].concat(e))}return function eyes_createClass(t,e,r){e&&eyes_defineProperties(t.prototype,e),r&&eyes_defineProperties(t,r)}(EyesHuman,[{key:"fill",value:function fill(){return"white"}},{key:"calcDrawPoints",value:function calcDrawPoints(t,e,r){var n,o,a;return r&&(n=.1*this.faceLength,(o=t.eyes={}).center={x:.04469*this.faceWidth-.01*e.eyeCloseness+.005*this.eyeSize+.04*e.eyeWidth,y:t.skull.y-.42*n+.1*e.eyeHeight},o.in={x:o.center.x-1.7-.005*this.eyeSize-.04*e.eyeWidth,y:o.center.y-.5},o.out={x:o.in.x+3.5+.015*this.eyeSize+.1*e.eyeWidth,y:o.in.y+.3},a=o.out.x-o.in.x,o.top={x:o.in.x+.4*a+.008*this.faceFem,y:o.in.y+1+.015*this.eyeSize+.1*e.eyeTopSize,cp1:{x:o.in.x+.1*a,y:o.in.y+clamp(.9-.015*this.faceFem,.4,2)+.01*this.eyeSize}},o.top.cp2={x:o.top.x-.2*a-.05*e.eyeTopSize,y:o.top.y},o.top=adjust(o.top,.1*e.eyeBias,0),o.out.cp1={x:o.top.x+.2*a,y:o.top.y},o.out.cp2={x:o.out.x-.1*a+.01*this.eyeSize,y:o.out.y+.5+.01*this.eyeSize},o.in.cp1={x:o.out.x-a*clamp(.3-.03*e.eyeBotBias,0,1),y:o.out.y-.7-.02*this.eyeSize-.1*e.eyeBotSize},o.in.cp2={x:o.in.x+a*clamp(.2+.02*e.eyeBotBias,0,1),y:o.in.y},rotatePoints(o.center,e.eyeTilt*Math.PI/180,o.top,o.out,o.in)),[t.eyes.in,t.eyes.top,t.eyes.out,t.eyes.in]}}]),EyesHuman}();function iris_toConsumableArray(t){return function iris_arrayWithoutHoles(t){if(Array.isArray(t))return iris_arrayLikeToArray(t)}(t)||function iris_iterableToArray(t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(t))return Array.from(t)}(t)||function iris_unsupportedIterableToArray(t,e){if(!t)return;if("string"==typeof t)return iris_arrayLikeToArray(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);"Object"===r&&t.constructor&&(r=t.constructor.name);if("Map"===r||"Set"===r)return Array.from(t);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return iris_arrayLikeToArray(t,e)}(t)||function iris_nonIterableSpread(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function iris_arrayLikeToArray(t,e){(null==e||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function iris_defineProperties(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function iris_typeof(t){return(iris_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function _typeof(t){return typeof t}:function _typeof(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function iris_classCallCheck(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function iris_inherits(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&iris_setPrototypeOf(t,e)}function iris_setPrototypeOf(t,e){return(iris_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(t,e){return t.__proto__=e,t})(t,e)}function iris_createSuper(r){var n=function iris_isNativeReflectConstruct(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(t){return!1}}();return function _createSuperInternal(){var t,e=iris_getPrototypeOf(r);return function iris_possibleConstructorReturn(t,e){return!e||"object"!==iris_typeof(e)&&"function"!=typeof e?function iris_assertThisInitialized(t){if(void 0!==t)return t;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}(t):e}(this,n?(t=iris_getPrototypeOf(this).constructor,Reflect.construct(e,arguments,t)):e.apply(this,arguments))}}function iris_getPrototypeOf(t){return(iris_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var Xt=function(){iris_inherits(Iris,Dt);var n=iris_createSuper(Iris);function Iris(){iris_classCallCheck(this,Iris);for(var t=arguments.length,e=new Array(t),r=0;r<t;r++)e[r]=arguments[r];return n.call.apply(n,[this,{loc:"iris",aboveParts:["eyes"]}].concat(e))}return Iris}(),Kt=function(){iris_inherits(IrisHuman,Xt);var n=iris_createSuper(IrisHuman);function IrisHuman(){iris_classCallCheck(this,IrisHuman);for(var t=arguments.length,e=new Array(t),r=0;r<t;r++)e[r]=arguments[r];return n.call.apply(n,[this].concat(e))}return function iris_createClass(t,e,r){e&&iris_defineProperties(t.prototype,e),r&&iris_defineProperties(t,r)}(IrisHuman,[{key:"stroke",value:function stroke(){return"#000"}},{key:"fill",value:function fill(t,e){var r=e.avatar.Mods.irisHue,n=e.avatar.Mods.irisSaturation,o=e.avatar.Mods.irisLightness;return"hsl(".concat(r,",").concat(n,"%,").concat(o,"%)")}},{key:"getLineWidth",value:function getLineWidth(t){return.01*t.Mods.limbalRingSize}},{key:"clipStroke",value:function clipStroke(t){return this.clipFill(t)}},{key:"clipFill",value:function clipFill(t){return[t.eyes.in,t.eyes.top,t.eyes.out,t.eyes.in]}},{key:"calcDrawPoints",value:function calcDrawPoints(t,e,r){return r&&(t.eyes.iris=adjust(t.eyes.center,0,.1*e.irisHeight)),[v].concat(iris_toConsumableArray(drawCircle(t.eyes.iris,.1*e.irisSize)))}}]),IrisHuman}();function lips_typeof(t){return(lips_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function _typeof(t){return typeof t}:function _typeof(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function lips_classCallCheck(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function lips_defineProperties(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function lips_createClass(t,e,r){return e&&lips_defineProperties(t.prototype,e),r&&lips_defineProperties(t,r),t}function lips_inherits(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&lips_setPrototypeOf(t,e)}function lips_setPrototypeOf(t,e){return(lips_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(t,e){return t.__proto__=e,t})(t,e)}function lips_createSuper(r){var n=function lips_isNativeReflectConstruct(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(t){return!1}}();return function _createSuperInternal(){var t,e=lips_getPrototypeOf(r);return function lips_possibleConstructorReturn(t,e){return!e||"object"!==lips_typeof(e)&&"function"!=typeof e?function lips_assertThisInitialized(t){if(void 0!==t)return t;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}(t):e}(this,n?(t=lips_getPrototypeOf(this).constructor,Reflect.construct(e,arguments,t)):e.apply(this,arguments))}}function lips_getPrototypeOf(t){return(lips_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var Zt=function(){lips_inherits(LipShading,B);var n=lips_createSuper(LipShading);function LipShading(){lips_classCallCheck(this,LipShading);for(var t=arguments.length,e=new Array(t),r=0;r<t;r++)e[r]=arguments[r];return n.call.apply(n,[this,{loc:"+lips",reflect:!0,layer:_.BELOW_HAIR,aboveParts:["faceParts lips"]}].concat(e))}return lips_createClass(LipShading,[{key:"fill",value:function fill(){return"hsl(0,0%,85%)"}},{key:"calcDrawPoints",value:function calcDrawPoints(t){var e=clone(t.lips.bot.top);return[v,e,t.lips.out.lower,t.lips.bot,e,b]}}]),LipShading}(),te=function(){lips_inherits(Lips,Dt);var n=lips_createSuper(Lips);function Lips(){lips_classCallCheck(this,Lips);for(var t=arguments.length,e=new Array(t),r=0;r<t;r++)e[r]=arguments[r];return n.call.apply(n,[this,{loc:"lips",reflect:!0,aboveParts:["mouth"],shadingParts:[Zt]}].concat(e))}return Lips}(),ee=function(){lips_inherits(LipsHuman,te);var n=lips_createSuper(LipsHuman);function LipsHuman(){lips_classCallCheck(this,LipsHuman);for(var t=arguments.length,e=new Array(t),r=0;r<t;r++)e[r]=arguments[r];return n.call.apply(n,[this].concat(e))}return lips_createClass(LipsHuman,[{key:"fill",value:function fill(t,e){return e.baseLipColor}},{key:"clipFill",value:function clipFill(){}},{key:"calcDrawPoints",value:function calcDrawPoints(t,e,r){var n,o,a,i,s,c,l;return r&&(n=.1*this.faceLength,o=40-this.faceFem,a=.007*e.lipParting,i=.015*-e.lipParting,(s=t.lips={}).center={x:-.1,y:t.skull.y-.78*n+.1*e.lipHeight+.018*this.faceFem},s.top={x:s.center.x,y:s.center.y+clamp(.015*this.lipSize+.005*this.faceFem+.01*e.lipTopSize,0,3)+a},s.tip={x:clamp(.7-.003*this.faceFem+.01*e.lipCupidsBow,0,5)*this.lipSize/20,y:s.top.y+.005*e.lipTopSize+.003*this.faceFem+.01*this.lipSize},s.tip.cp1=simpleQuadratic(s.top,s.tip,.5,.1+.001*e.lipTopCurve),s.out={x:1+.08*this.lipSize+.005*e.lipWidth+.01*o,y:s.center.y+.02*e.lipCurl},s.out.cp1={x:.5*s.tip.x+.5*s.out.x+.002*e.lipTopCurve,y:s.tip.y},s.out.cp2={x:.3*s.tip.x+.7*s.out.x,y:.5*s.tip.y+.5*s.out.y+.01*e.lipTopCurve},s.bot={x:0,y:s.center.y-.3-.02*this.lipSize-.008*this.faceFem-.004*e.lipBotSize+i},s.bot.cp1=simpleQuadratic(s.out,s.bot,.5,.02*this.lipSize+.003*this.faceFem+.003*e.lipBotSize-.5*i),s.bot.cp1.y-=.01*e.lipCurl,c=-.1-.006*e.lipBias,s.bot.top={x:s.center.x,y:s.center.y+i+c},s.top.bot={x:s.center.x,y:s.center.y+1.2*a+c},s.out.lower=extractPoint(s.out),s.out.lower.cp1=simpleQuadratic(s.bot.top,s.out.lower,.3,.02*e.lipBias-.005*e.lipParting),l=splitCurve(.6+e.lipParting/400,s.bot.top,s.out.lower),s.out.in=l.left.p2,s.top.bot.cp1=simpleQuadratic(s.out.in,s.top.bot,.7,.005*-e.lipParting)),[v,t.lips.top,t.lips.tip,t.lips.out,t.lips.bot,t.lips.bot.top,t.lips.out.in,t.lips.top.bot,t.lips.top,b]}}]),LipsHuman}();function mouth_defineProperties(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function mouth_typeof(t){return(mouth_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function _typeof(t){return typeof t}:function _typeof(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function mouth_classCallCheck(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function mouth_inherits(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&mouth_setPrototypeOf(t,e)}function mouth_setPrototypeOf(t,e){return(mouth_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(t,e){return t.__proto__=e,t})(t,e)}function mouth_createSuper(r){var n=function mouth_isNativeReflectConstruct(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(t){return!1}}();return function _createSuperInternal(){var t,e=mouth_getPrototypeOf(r);return function mouth_possibleConstructorReturn(t,e){return!e||"object"!==mouth_typeof(e)&&"function"!=typeof e?function mouth_assertThisInitialized(t){if(void 0!==t)return t;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}(t):e}(this,n?(t=mouth_getPrototypeOf(this).constructor,Reflect.construct(e,arguments,t)):e.apply(this,arguments))}}function mouth_getPrototypeOf(t){return(mouth_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var re=function(){mouth_inherits(Mouth,Dt);var n=mouth_createSuper(Mouth);function Mouth(){mouth_classCallCheck(this,Mouth);for(var t=arguments.length,e=new Array(t),r=0;r<t;r++)e[r]=arguments[r];return n.call.apply(n,[this,{loc:"mouth",reflect:!0,aboveParts:["parts head"]}].concat(e))}return Mouth}(),ne=function(){mouth_inherits(MouthHuman,re);var n=mouth_createSuper(MouthHuman);function MouthHuman(){mouth_classCallCheck(this,MouthHuman);for(var t=arguments.length,e=new Array(t),r=0;r<t;r++)e[r]=arguments[r];return n.call.apply(n,[this].concat(e))}return function mouth_createClass(t,e,r){e&&mouth_defineProperties(t.prototype,e),r&&mouth_defineProperties(t,r)}(MouthHuman,[{key:"fill",value:function fill(t,e){return adjustColor(e.baseLipColor,{s:-30,l:-20})}},{key:"clipFill",value:function clipFill(){}},{key:"calcDrawPoints",value:function calcDrawPoints(t){return[v,t.lips.top,t.lips.out,t.lips.bot,t.lips.top,b]}}]),MouthHuman}();function nose_defineProperties(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function nose_createClass(t,e,r){return e&&nose_defineProperties(t.prototype,e),r&&nose_defineProperties(t,r),t}function nose_typeof(t){return(nose_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function _typeof(t){return typeof t}:function _typeof(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function nose_classCallCheck(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function nose_inherits(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&nose_setPrototypeOf(t,e)}function nose_setPrototypeOf(t,e){return(nose_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(t,e){return t.__proto__=e,t})(t,e)}function nose_createSuper(r){var n=function nose_isNativeReflectConstruct(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(t){return!1}}();return function _createSuperInternal(){var t,e=nose_getPrototypeOf(r);return function nose_possibleConstructorReturn(t,e){return!e||"object"!==nose_typeof(e)&&"function"!=typeof e?function nose_assertThisInitialized(t){if(void 0!==t)return t;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}(t):e}(this,n?(t=nose_getPrototypeOf(this).constructor,Reflect.construct(e,arguments,t)):e.apply(this,arguments))}}function nose_getPrototypeOf(t){return(nose_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var oe=function(){nose_inherits(Nose,Dt);var n=nose_createSuper(Nose);function Nose(){nose_classCallCheck(this,Nose);for(var t=arguments.length,e=new Array(t),r=0;r<t;r++)e[r]=arguments[r];return n.call.apply(n,[this,{loc:"nose"}].concat(e))}return Nose}(),ae=function(){nose_inherits(NoseHumanShading,B);var n=nose_createSuper(NoseHumanShading);function NoseHumanShading(){nose_classCallCheck(this,NoseHumanShading);for(var t=arguments.length,e=new Array(t),r=0;r<t;r++)e[r]=arguments[r];return n.call.apply(n,[this,{loc:"+nose",layer:_.BELOW_HAIR}].concat(e))}return nose_createClass(NoseHumanShading,[{key:"calcDrawPoints",value:function calcDrawPoints(t,e){var r=t.nose,n=r.top,o=r.bot;o.cp1={x:n.x,y:n.y-.05*e.noseLength},o.cp2={x:o.x+.6+.1*e.noseRoundness,y:o.y+.02*e.noseLength};var a=adjust(r.out,0,0);a.cp1=simpleQuadratic(o,a,.5,.1*e.nostrilSize);var i=clamp(.01*e.nostrilSize-.02*e.noseRidgeHeight,0,.3),s={x:o.x*i+a.x*(1-i),y:o.y+1+.05*e.nostrilSize};return s.cp1={x:a.x+.02*e.nostrilSize,y:a.y+.05*e.nostrilSize},s.cp2={x:s.x+.6,y:s.y-.3},n.cp1=continueCurve(a,s,.1*e.nostrilSize),n.cp2={x:clamp(n.x+.1+.06*e.noseWidth+.1*e.noseRidgeHeight-.1*e.noseRoundness,0,100),y:n.y+.2},[n,o,a,s,n]}}]),NoseHumanShading}(),ie=function(){nose_inherits(NoseHuman,oe);var n=nose_createSuper(NoseHuman);function NoseHuman(){nose_classCallCheck(this,NoseHuman);for(var t=arguments.length,e=new Array(t),r=0;r<t;r++)e[r]=arguments[r];return n.call.apply(n,[this,{shadingParts:[ae]}].concat(e))}return nose_createClass(NoseHuman,[{key:"fill",value:function fill(t,e){return e.baseStroke}},{key:"clipFill",value:function clipFill(){}},{key:"calcDrawPoints",value:function calcDrawPoints(t,e,r){var n,o,a;return r&&(n=t.nose={},o=.1*this.faceLength,n.center={x:0,y:t.skull.y-.65*o+.1*e.noseHeight+.02*this.faceFem},n.in={x:n.center.x+.037*e.noseWidth-.007*this.faceFem+.01*e.nostrilSize,y:n.center.y-.3},n.out={x:n.center.x+.043*e.noseWidth-.017*this.faceFem+.25+.08*e.nostrilSize,y:n.center.y+.3},a=clamp(.5-.005*this.faceFem,0,.4),n.out.cp1=simpleQuadratic(n.in,n.out,.5,a),n.in.cp1=simpleQuadratic(n.out,n.in,.5,a),n.left={},n.left.in=reflect(n.in),n.left.out=reflect(n.out),n.left.in.cp1=reflect(n.in.cp1),n.left.out.cp1=reflect(n.out.cp1),n.top={x:n.center.x+.01*e.noseWidth+clamp(.01*e.noseRoundness,0,5),y:n.center.y+(.1*e.noseLength-.1*e.noseRoundness)*o*.045},n.bot={x:n.top.x,y:n.center.y+.3}),[v,t.nose.in,t.nose.out,t.nose.in,v,t.nose.left.in,t.nose.left.out,t.nose.left.in,b]}}]),NoseHuman}();function pupil_defineProperties(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function pupil_typeof(t){return(pupil_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function _typeof(t){return typeof t}:function _typeof(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function pupil_classCallCheck(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function pupil_inherits(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&pupil_setPrototypeOf(t,e)}function pupil_setPrototypeOf(t,e){return(pupil_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(t,e){return t.__proto__=e,t})(t,e)}function pupil_createSuper(r){var n=function pupil_isNativeReflectConstruct(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(t){return!1}}();return function _createSuperInternal(){var t,e=pupil_getPrototypeOf(r);return function pupil_possibleConstructorReturn(t,e){return!e||"object"!==pupil_typeof(e)&&"function"!=typeof e?function pupil_assertThisInitialized(t){if(void 0!==t)return t;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}(t):e}(this,n?(t=pupil_getPrototypeOf(this).constructor,Reflect.construct(e,arguments,t)):e.apply(this,arguments))}}function pupil_getPrototypeOf(t){return(pupil_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var se=function(){pupil_inherits(Pupil,Dt);var n=pupil_createSuper(Pupil);function Pupil(){pupil_classCallCheck(this,Pupil);for(var t=arguments.length,e=new Array(t),r=0;r<t;r++)e[r]=arguments[r];return n.call.apply(n,[this,{loc:"pupil",aboveParts:["iris"]}].concat(e))}return Pupil}(),ce=function(){pupil_inherits(PupilHuman,se);var n=pupil_createSuper(PupilHuman);function PupilHuman(){pupil_classCallCheck(this,PupilHuman);for(var t=arguments.length,e=new Array(t),r=0;r<t;r++)e[r]=arguments[r];return n.call.apply(n,[this].concat(e))}return function pupil_createClass(t,e,r){e&&pupil_defineProperties(t.prototype,e),r&&pupil_defineProperties(t,r)}(PupilHuman,[{key:"stroke",value:function stroke(){return"#000"}},{key:"clipStroke",value:function clipStroke(t){return[t.eyes.in,t.eyes.top,t.eyes.out,t.eyes.in]}},{key:"getLineWidth",value:function getLineWidth(t){return.1*t.Mods.pupilSize}},{key:"calcDrawPoints",value:function calcDrawPoints(t){return[v,t.eyes.iris]}}]),PupilHuman}(),le={create:function create(t,e){var r=1<arguments.length&&void 0!==e?e:1,n=clone(t);for(var o in n.Mods)n.Mods.hasOwnProperty(o)&&(n.Mods[o]*=r);return n},neutral:Object.freeze({Mods:{}}),suspicious:Object.freeze({Mods:{eyeBotSize:-7,browHeight:-2,lipBotSize:-20,lipTopSize:-8,lipWidth:-25}}),angry:Object.freeze({Mods:{browTilt:7,browCloseness:-3,browHeight:-4,eyeBotSize:1,eyeTopSize:1,lipCurl:-6}}),sad:Object.freeze({Mods:{browTilt:-7,eyeBotSize:2,eyeTopSize:-1,lipCurl:-5,eyeTilt:-1}}),surprised:Object.freeze({Mods:{browTilt:-5,eyeBotSize:2,eyeTopSize:1,lipParting:15,browHeight:5}}),mischievous:Object.freeze({Mods:{lipCurl:10,eyeBotSize:-4,eyeTopSize:-1}}),happy:Object.freeze({Mods:{lipCurl:12,eyeBotSize:-2}}),sleepy:Object.freeze({Mods:{eyeTopSize:-4,eyelidHeight:-1}}),aroused:Object.freeze({Mods:{eyelidHeight:-2.5,lipParting:13}}),bliss:Object.freeze({Mods:{irisHeight:2,lipParting:20,eyelidHeight:-2}})};function underwear_typeof(t){return(underwear_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function _typeof(t){return typeof t}:function _typeof(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function underwear_classCallCheck(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function underwear_defineProperties(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function underwear_createClass(t,e,r){return e&&underwear_defineProperties(t.prototype,e),r&&underwear_defineProperties(t,r),t}function underwear_inherits(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&underwear_setPrototypeOf(t,e)}function underwear_setPrototypeOf(t,e){return(underwear_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(t,e){return t.__proto__=e,t})(t,e)}function underwear_createSuper(r){var n=function underwear_isNativeReflectConstruct(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(t){return!1}}();return function _createSuperInternal(){var t,e=underwear_getPrototypeOf(r);return function underwear_possibleConstructorReturn(t,e){return!e||"object"!==underwear_typeof(e)&&"function"!=typeof e?function underwear_assertThisInitialized(t){if(void 0!==t)return t;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}(t):e}(this,n?(t=underwear_getPrototypeOf(this).constructor,Reflect.construct(e,arguments,t)):e.apply(this,arguments))}}function underwear_getPrototypeOf(t){return(underwear_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var ue=function(){underwear_inherits(BraTopStrapPart,pt);var n=underwear_createSuper(BraTopStrapPart);function BraTopStrapPart(){underwear_classCallCheck(this,BraTopStrapPart);for(var t=arguments.length,e=new Array(t),r=0;r<t;r++)e[r]=arguments[r];return n.call.apply(n,[this,{layer:_.FRONT,loc:"+torso",reflect:!0,aboveParts:["parts neck","parts chest"]}].concat(e))}return underwear_createClass(BraTopStrapPart,[{key:"renderClothingPoints",value:function renderClothingPoints(t,e){var r,n,o=calcBra(t);null!==o&&(r=splitCurve(.2,t.neck.cusp,t.collarbone),(n={}).top=r.left.p2,o.top.cp1={x:n.top.x-2,y:n.top.y-15},o.top.cp2={x:o.top.x,y:o.top.y+5},setStrokeAndFill(e,{fill:this.fill,stroke:this.stroke},t),e.lineWidth=this.strapWidth,e.beginPath(),drawPoints(e,n.top,o.top),e.stroke())}}]),BraTopStrapPart}(),pe=function(){underwear_inherits(BraBotStrapPart,pt);var n=underwear_createSuper(BraBotStrapPart);function BraBotStrapPart(){underwear_classCallCheck(this,BraBotStrapPart);for(var t=arguments.length,e=new Array(t),r=0;r<t;r++)e[r]=arguments[r];return n.call.apply(n,[this,{layer:_.FRONT,loc:"+chest",reflect:!0,aboveParts:["parts torso"],belowParts:["parts chest"]}].concat(e))}return underwear_createClass(BraBotStrapPart,[{key:"renderClothingPoints",value:function renderClothingPoints(t,e){var r;null!==calcBra(t)&&((r={}).out={x:t.breast.bot.x,y:t.breast.cleavage.y},r.outbot={x:t.breast.bot.x,y:t.breast.bot.y+1},r.bot={x:-S,y:t.breast.bot.y+3},r.mid={x:-S,y:t.breast.cleavage.y},setStrokeAndFill(e,{fill:this.fill,stroke:this.stroke},t),e.beginPath(),drawPoints(e,r.out,r.outbot,r.bot,r.mid,r.out),e.fill())}}]),BraBotStrapPart}(),fe=function(){underwear_inherits(BraPart,pt);var n=underwear_createSuper(BraPart);function BraPart(){underwear_classCallCheck(this,BraPart);for(var t=arguments.length,e=new Array(t),r=0;r<t;r++)e[r]=arguments[r];return n.call.apply(n,[this,{layer:_.GENITALS,loc:"chest",reflect:!0,aboveParts:["parts chest","decorativeParts chest"]}].concat(e))}return underwear_createClass(BraPart,[{key:"renderClothingPoints",value:function renderClothingPoints(t,e){var r=calcBra(t);null!==r&&(r.out.cp1=simpleQuadratic(r.top,r.out,.4,1),r.top.cp1=simpleQuadratic(t.breast.cleavage,r.top,.6,2),setStrokeAndFill(e,{fill:this.fill,stroke:this.stroke},t),e.beginPath(),drawPoints(e,r.top,r.out,r.tip,t.breast.bot,t.breast.in,t.breast.cleavage,r.top),e.fill(),e.stroke())}}]),BraPart}();function calcBra(t){if(!1===t.hasOwnProperty("breast"))return null;var e=splitCurve(.7,t.breast.top,t.breast.tip),r={out:clone(e.right.p1),tip:clone(e.right.p2)};return r.top={x:t.breast.bot.x,y:r.out.y+2},r}var ye=function(){underwear_inherits(BreastWrapPart,pt);var n=underwear_createSuper(BreastWrapPart);function BreastWrapPart(){underwear_classCallCheck(this,BreastWrapPart);for(var t=arguments.length,e=new Array(t),r=0;r<t;r++)e[r]=arguments[r];return n.call.apply(n,[this,{layer:_.GENITALS,loc:"chest",reflect:!0,aboveParts:["parts chest","decorativeParts chest"]}].concat(e))}return underwear_createClass(BreastWrapPart,[{key:"renderClothingPoints",value:function renderClothingPoints(t,e,r,n){if(t.breast){for(var o=clone(t.breast.top),a=splitCurve(clamp(.01*n.getDim("breastSize")-.25,0,1),t.breast.top,t.breast.tip),i=a.left.p2,s=a.right.p2,c=0,l=n.getPartInLocation("chest",n.decorativeParts,c);l;)l.coverConceal=["chest"],l=n.getPartInLocation("chest",n.decorativeParts,++c);setStrokeAndFill(e,{fill:this.fill,stroke:this.stroke},t),e.beginPath(),drawPoints(e,o,t.breast.tip,t.breast.bot,t.breast.in,connectEndPoints(t.breast.in,o)),e.fill(),e.beginPath(),drawPoints(e,i,s,t.breast.bot),e.stroke()}}}]),BreastWrapPart}(),he=function(){underwear_inherits(BreastWrapStrapPart,pt);var n=underwear_createSuper(BreastWrapStrapPart);function BreastWrapStrapPart(){underwear_classCallCheck(this,BreastWrapStrapPart);for(var t=arguments.length,e=new Array(t),r=0;r<t;r++)e[r]=arguments[r];return n.call.apply(n,[this,{layer:_.FRONT,loc:"+chest",reflect:!0,aboveParts:["parts torso"],belowParts:["parts chest"]}].concat(e))}return underwear_createClass(BreastWrapStrapPart,[{key:"renderClothingPoints",value:function renderClothingPoints(t,e,r,n){var o,a={x:0,y:t.armpit.y},i=extractPoint(t.armpit);t.breast&&(a.y=t.breast.top.y-2,(o=extractPoint(t.breast.top)).cp1={x:.5*o.x,y:a.y},i.cp1=simpleQuadratic(o,i,.5,1));var s=splitCurve(clamp(this.chestCoverage+.01*n.getDim("breastSize"),0,1),t.armpit,t.waist).left.p2,c={x:0,y:s.y-1};c.cp1={x:.5*s.x,y:c.y},ut.simpleStrokeFill(e,t,this),e.beginPath(),drawPoints(e,a,o,i,s,c),e.fill(),e.stroke()}}]),BreastWrapStrapPart}(),de=function(){underwear_inherits(PantiesPart,pt);var n=underwear_createSuper(PantiesPart);function PantiesPart(){underwear_classCallCheck(this,PantiesPart);for(var t=arguments.length,e=new Array(t),r=0;r<t;r++)e[r]=arguments[r];return n.call.apply(n,[this,{layer:_.FRONT,loc:"groin",reflect:!0,aboveParts:["parts groin","parts torso"],belowParts:["parts leg"]}].concat(e))}return underwear_createClass(PantiesPart,[{key:"renderClothingPoints",value:function renderClothingPoints(t,e){var r,n;!1!==t.hasOwnProperty("groin")&&((r={}).top={x:-S,y:t.pelvis.y},n=splitCurve(.9,t.waist,t.hip),r.out=n.right.p1,r.out.cp1=simpleQuadratic(r.top,r.out,.4,-3),r.outbot=n.right.p2,r.bot={x:-S,y:t.groin.y},r.bot.cp1={x:r.outbot.x,y:r.outbot.y},r.bot.cp2={x:r.bot.x+5,y:r.bot.y},ut.simpleStrokeFill(e,t,this),e.beginPath(),drawPoints(e,r.top,r.out,r.outbot,r.bot,r.top),e.fill(),e.beginPath(),drawPoints(e,r.top,r.out,r.outbot,r.bot),e.stroke())}}]),PantiesPart}(),ge=function(){underwear_inherits(Underwear,lt);var n=underwear_createSuper(Underwear);function Underwear(){underwear_classCallCheck(this,Underwear);for(var t=arguments.length,e=new Array(t),r=0;r<t;r++)e[r]=arguments[r];return n.call.apply(n,[this,{clothingLayer:ut.Layer.BASE}].concat(e))}return Underwear}(),Pe=function(){underwear_inherits(Bra,ge);var n=underwear_createSuper(Bra);function Bra(){underwear_classCallCheck(this,Bra);for(var t=arguments.length,e=new Array(t),r=0;r<t;r++)e[r]=arguments[r];return n.call.apply(n,[this].concat(e))}return underwear_createClass(Bra,[{key:"fill",value:function fill(){return"hsl(0,50%,50%)"}},{key:"partPrototypes",get:function get(){return[{side:null,Part:pe},{side:null,Part:fe}]}}]),Bra}(),ve=function(){underwear_inherits(BreastWrap,ge);var o=underwear_createSuper(BreastWrap);function BreastWrap(){var t;underwear_classCallCheck(this,BreastWrap);for(var e=arguments.length,r=new Array(e),n=0;n<e;n++)r[n]=arguments[n];return(t=o.call.apply(o,[this,{chestCoverage:.6,thickness:.5,wrapSize:30}].concat(r))).fill=getPattern("bandages",t.wrapSize),t}return underwear_createClass(BreastWrap,[{key:"partPrototypes",get:function get(){return[{side:null,Part:ye},{side:null,Part:he}]}}]),BreastWrap}(),be=function(){underwear_inherits(Panties,ge);var n=underwear_createSuper(Panties);function Panties(){underwear_classCallCheck(this,Panties);for(var t=arguments.length,e=new Array(t),r=0;r<t;r++)e[r]=arguments[r];return n.call.apply(n,[this].concat(e))}return underwear_createClass(Panties,[{key:"fill",value:function fill(){return"hsl(0,50%,50%)"}},{key:"partPrototypes",get:function get(){return[{side:null,Part:de}]}}]),Panties}();function player_slicedToArray(t,e){return function player_arrayWithHoles(t){if(Array.isArray(t))return t}(t)||function player_iterableToArrayLimit(t,e){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(t)))return;var r=[],n=!0,o=!1,a=void 0;try{for(var i,s=t[Symbol.iterator]();!(n=(i=s.next()).done)&&(r.push(i.value),!e||r.length!==e);n=!0);}catch(t){o=!0,a=t}finally{try{n||null==s.return||s.return()}finally{if(o)throw a}}return r}(t,e)||function player_unsupportedIterableToArray(t,e){if(!t)return;if("string"==typeof t)return player_arrayLikeToArray(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);"Object"===r&&t.constructor&&(r=t.constructor.name);if("Map"===r||"Set"===r)return Array.from(t);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return player_arrayLikeToArray(t,e)}(t,e)||function player_nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function player_arrayLikeToArray(t,e){(null==e||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function player_player_typeof(t){return(player_player_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function _typeof(t){return typeof t}:function _typeof(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function player_defineProperties(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function player_createClass(t,e,r){return e&&player_defineProperties(t.prototype,e),r&&player_defineProperties(t,r),t}function defaultParts(t,e){for(var r=[],n=ct[e][t],o=0;o<n.length;++o){var a=n[o],i=a.side,s=a.part;r.push(A.create(s,{side:i}))}return r}var _e=function(){function Player(e){var r=this;if(!function player_classCallCheck(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,Player),!at)throw new Error("trying to create Player without having loaded first! (call load() before)");Object.assign(this,Player.defaultStats(),{parts:[],faceParts:[],decorativeParts:[],hairParts:[],clothingParts:[],baseVitals:Player.defaultVitals(),_expression:le.neutral,hairFill:null,hairStroke:null,browFill:null,lashFill:null}),this.skeleton="human",this.Mods=Player.defaultMods();var t=["number","string","function"];for(var n in e){var o=player_player_typeof(e[n]);e.hasOwnProperty(n)&&(t.includes(o)||isPattern(e[n]))&&(this[n]=e[n])}this.shadingParts=[],e&&e.parts?e.parts.forEach(function(t){r.attachPart(t)}):(this.parts=defaultParts("defaultParts",this.skeleton),function addSexParts(o){var t,e=ct[o.skeleton];o.isFemale()&&(t=e.femaleParts),o.isMale()&&(t=e.maleParts),t.forEach(function(t){var e=t.partGroup,r=t.side,n=t.part;o.attachPart(A.create(n,{side:r}),o[e])})}(this)),e&&e.decorativeParts?e.decorativeParts.forEach(function(t){r.attachPart(t,r.decorativeParts)}):this.decorativeParts=defaultParts("defaultDecorativeParts",this.skeleton),e&&e.faceParts?e.faceParts.forEach(function(t){r.attachPart(t,r.faceParts)}):this.faceParts=defaultParts("defaultFaceParts",this.skeleton),this._attachShadingPartsForPartGroup(this.parts),this._attachShadingPartsForPartGroup(this.faceParts),this.basedim=function defaultBaseDimensions(t){return getDefault(tt[t],et[t])()}(this.skeleton),["basedim","Mods","baseVitals"].forEach(function(t){e&&e[t]&&Object.assign(r[t],e[t])}),this.clothingParts=[],this.clothes=[],this.items=[],this.tattoos=[],e&&e.clothes?e.clothes.forEach(function(t){r.wearClothing(t)}):Player.defaultClothes().forEach(function(t){r.wearClothing(t)}),e&&e.items&&e.items.forEach(function(t){r.wieldItem(t)}),e&&e.tattoos&&e.tattoos.forEach(function(t){r.addTattoo(t)}),this.maxVitals={},this.calcAll(),e&&e.vitals&&(this.vitals=Object.assign({},e.vitals),this.clampVitals()),console.log("created avatar "+this.name)}return player_createClass(Player,null,[{key:"defaultStats",value:function defaultStats(){return getDefault(g,P)()}},{key:"defaultMods",value:function defaultMods(){return getDefault(nt,ot)()}},{key:"defaultVitals",value:function defaultVitals(){return getDefault(rt,null)()}},{key:"defaultClothes",value:function defaultClothes(){return[ut.create(Pe),ut.create(be)]}}]),player_createClass(Player,[{key:"toString",value:function toString(){return this.name}},{key:"clampStats",value:function clampStats(){for(var t in g)!1!==g.hasOwnProperty(t)&&(this[t]=clamp(this[t],g[t].low,g[t].high))}},{key:"clampVitals",value:function clampVitals(){var e=this;this.vitals?Object.keys(this.maxVitals).forEach(function(t){e.vitals[t]=clamp(e.vitals[t],rt[t].low,e.maxVitals[t])}):this.vitals=Object.assign({},this.maxVitals)}},{key:"get",value:function get(t){return this[t]+this._clampedMods[t]}},{key:"diff",value:function diff(t){return this.get(t)-g[t].avg}},{key:"getDim",value:function getDim(t){return this.basedim[t]+this._clampedMods[t]}},{key:"getBaseVitals",value:function getBaseVitals(t){return this.baseVitals[t]+this._clampedMods[t]}},{key:"getMod",value:function getMod(t){return this._clampedMods[t]}},{key:"getDimDesc",value:function getDimDesc(t){return tt[this.skeleton][t]}},{key:"calcAll",value:function calcAll(){this._clampMods(),this._calcDimensions(),this._calcVitals(),this.clampVitals()}},{key:"_clampMods",value:function _clampMods(){var o=this;this._clampedMods={},Object.entries(this.Mods).forEach(function(t){var e=player_slicedToArray(t,2),r=e[0],n=e[1];nt.hasOwnProperty(r)&&(o._clampedMods[r]=clamp(n,nt[r].low,nt[r].high))})}},{key:"_calcDimensions",value:function _calcDimensions(){var o=this;this.dim={},Object.entries(tt[this.skeleton]).forEach(function(t){var e=player_slicedToArray(t,2),r=e[0],n=e[1];o.dim[r]=clamp(n.hasOwnProperty("calc")?n.calc.call(o):o.getDim(r),n.low,n.high)}),this.dim.torsoLength=.85*this.dim.height-this.dim.legLength,this.replaceHair(Z[Math.round(this.dim.hairStyle)])}},{key:"_calcVitals",value:function _calcVitals(){var o=this;this.maxVitals={},Object.entries(rt).forEach(function(t){var e=player_slicedToArray(t,2),r=e[0],n=e[1];o.maxVitals[r]=clamp(n.hasOwnProperty("calc")?n.calc.call(o):o.getBaseVitals(r),n.low,n.high)})}},{key:"attachPart",value:function attachPart(t,e){var r=this,n=1<arguments.length&&void 0!==e?e:this.parts;t instanceof B&&(n=this.shadingParts);for(var o=null,a=0;a<n.length;++a)if(partConflict(t,n[a])){var i=n[a];n[a]=t,o=i;break}return null===o&&n.push(t),this._filteredShadingParts(t).forEach(function(t){var e=getAttachedLocation(t);(r.getPartInLocation(e)||r.getPartInLocation(e,r.faceParts)||r.getPartInLocation(e,r.hairParts))&&r.attachPart(A.create(t),r.shadingParts)}),o}},{key:"_attachShadingPartsForPartGroup",value:function _attachShadingPartsForPartGroup(r){var n=this;r.forEach(function(t){n._filteredShadingParts(t).forEach(function(t){var e=getAttachedLocation(t);n.getPartInLocation(e,r)&&n.attachPart(A.create(t),n.shadingParts)})})}},{key:"_filteredShadingParts",value:function _filteredShadingParts(t){var e,r=[];return t.shadingParts&&(e=extractSideLocation(t.loc),t.shadingParts.forEach(function(t){prototypeAppliesToSide(e,t)&&r.push(t)})),r}},{key:"getPartInLocation",value:function getPartInLocation(t,e,r){for(var n=1<arguments.length&&void 0!==e?e:this.parts,o=2<arguments.length&&void 0!==r?r:0,a=extractUnmodifiedLocation(t),i=0;i<n.length;++i)if(extractUnmodifiedLocation(n[i].loc)===a){if(0<o){--o;continue}return n[i]}return null}},{key:"removeSpecificPart",value:function removeSpecificPart(t,e,r){for(var n=1<arguments.length&&void 0!==e?e:this.parts,o=2<arguments.length&&void 0!==r?r:0,a=0;a<n.length;++a)if(n[a]instanceof t){if(0<o){--o;continue}var i=n[a];return n.splice(a,1),this.doRemovePart(i,n),i}return null}},{key:"checkPartCoveredByClothing",value:function checkPartCoveredByClothing(e){var r=this,n=!1;return e.coverConceal.forEach(function(t){"this"===t&&(t=e.loc),r.getClothingInLocation(t).forEach(function(t){t.noCover||(n=!0)})}),n}},{key:"removePart",value:function removePart(t,e,r){for(var n=1<arguments.length&&void 0!==e?e:this.parts,o=2<arguments.length&&void 0!==r?r:0,a=0;a<n.length;++a)if(extractUnmodifiedLocation(n[a].loc)===t){if(0<o){--o;continue}var i=n[a];return n.splice(a,1),this.doRemovePart(i,n),i}return null}},{key:"doRemovePart",value:function doRemovePart(e,r){var n,o=this;this._filteredShadingParts(e).forEach(function(t){o.removeSpecificPart(t,o.shadingParts)}),r===this.parts&&(n=[],this.clothingParts.forEach(function(t){extractUnmodifiedLocation(t.loc)===e.loc?o._filteredShadingParts(t).forEach(function(t){o.removeSpecificPart(t,o.shadingParts)}):n.push(t)}),this.clothingParts=n),r.forEach(function(t){isParentPart(e,t)&&o.removePart(extractUnmodifiedLocation(t.loc),r)})}},{key:"replaceHair",value:function replaceHair(t){var e=this;this.hairParts.forEach(function(t){e._filteredShadingParts(t).forEach(function(t){e.removeSpecificPart(t,e.shadingParts)})}),this.hairParts=[],t.forEach(function(t){e.attachPart(j.create(t),e.hairParts)})}},{key:"applyExpression",value:function applyExpression(t){if(!1===t.hasOwnProperty("Mods"))throw new Error("Invalid expression object since it has no Mods");for(var e in this.removeExpression(),t.Mods)t.Mods.hasOwnProperty(e)&&(this.Mods[e]+=t.Mods[e]);if(t.hasOwnProperty("specificModification")){if(t.hasOwnProperty("removeSpecificModification"))throw new Error("Expression has specific modifications but no way of removing them");t.specificModification(this)}this._expression=t}},{key:"removeExpression",value:function removeExpression(){for(var t in this._expression.Mods)this._expression.Mods.hasOwnProperty(t)&&(this.Mods[t]-=this._expression.Mods[t]);this._expression.hasOwnProperty("removeSpecificModification")&&this._expression.removeSpecificModification(this)}},{key:"getClothingInLocation",value:function getClothingInLocation(e){var r=[];return this.clothingParts.forEach(function(t){extractUnmodifiedLocation(t.loc)===e&&r.indexOf(t._owner)<0&&r.push(t._owner)}),r}},{key:"getConflictingClothing",value:function getConflictingClothing(a){var e=this,i=[];return a.parts.forEach(function(t){var n=extractUnmodifiedLocation(t.loc),o=extractLocationModifier(t.loc);e.clothingParts.forEach(function(t){if(extractUnmodifiedLocation(t.loc)===n){var e,r=!1;if(t._owner.clothingLayer!==a.clothingLayer)return;Object.getPrototypeOf(t._owner)===Object.getPrototypeOf(a)?r=!0:(e=extractLocationModifier(t.loc),("-"===o||"-"===e||"+"!==o&&"+"!==e)&&(r=!0)),r&&i.indexOf(t._owner)<0&&i.push(t._owner)}})}),i}},{key:"wearClothing",value:function wearClothing(e){for(var r=this,t=this.getConflictingClothing(e),n=0;n<t.length;++n)if(!1===this.removeClothing(t[n]))return null;var o=this[e.requiredParts]||this.parts,a=!1;return e.parts.forEach(function(t){r.getPartInLocation(extractUnmodifiedLocation(t.loc),o)&&(r.clothingParts.push(t),a=!0,r._filteredShadingParts(t).forEach(function(t){r.attachPart(A.create(t,{_owner:e}),r.shadingParts)}))}),a?(applyMods(this.Mods,e.Mods),this.clothes.push(e),t):(t.forEach(function(t){r.wearClothing(t)}),null)}},{key:"removeClothing",value:function removeClothing(e){var r=this,t=this.clothes.indexOf(e);if(-1===t)return!1;if(e.cursed)return!1;var n=[];return this.clothingParts.forEach(function(t){t._owner!==e?n.push(t):r._filteredShadingParts(t).forEach(function(t){r.removeSpecificPart(t,r.shadingParts)})}),this.clothingParts=n,removeMods(this.Mods,e.Mods),-1!==t&&this.clothes.splice(t,1),!0}},{key:"removeAllClothing",value:function removeAllClothing(){for(var t=[],e=this.clothes.length-1;0<=e;--e){var r=this.clothes[e];this.removeClothing(r)&&t.push(r)}return t}},{key:"wieldItem",value:function wieldItem(t){ht.loadItem(t),t.modifyPose.call(this),this.items.push(t)}},{key:"removeItem",value:function removeItem(t){t.restorePose.call(this),this.items.splice(this.items.indexOf(t),1)}},{key:"addTattoo",value:function addTattoo(t){Ct.loadTattoo(t),this.tattoos.push(t)}},{key:"removeTattoo",value:function removeTattoo(t){this.tattoos.splice(this.tattoos.indexOf(t),1)}},{key:"heightAdjust",value:function heightAdjust(){var e=0;return this.getClothingInLocation("left feet").forEach(getMaxHeight),this.getClothingInLocation("right feet").forEach(getMaxHeight),e;function getMaxHeight(t){t.shoeHeight&&t.shoeHeight>e&&(e=t.shoeHeight,t.hasOwnProperty("platformHeight")&&(e+=.2*t.platformHeight))}}},{key:"isFemale",value:function isFemale(){return 5<this.fem}},{key:"isMale",value:function isMale(){return!this.isFemale()}},{key:"fillMissingDrawpoints",value:function fillMissingDrawpoints(t){t.deltoids=t.deltoids||extractPoint(t.collarbone),t.shoulder=t.shoulder||extractPoint(t.collarbone),t.elbow=t.elbow||{out:extractPoint(t.shoulder),in:extractPoint(t.armpit)},t.wrist=t.wrist||{out:extractPoint(t.elbow.out),in:extractPoint(t.elbow.in)}}}]),Player}();function arm_toConsumableArray(t){return function arm_arrayWithoutHoles(t){if(Array.isArray(t))return arm_arrayLikeToArray(t)}(t)||function arm_iterableToArray(t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(t))return Array.from(t)}(t)||arm_unsupportedIterableToArray(t)||function arm_nonIterableSpread(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function arm_typeof(t){return(arm_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function _typeof(t){return typeof t}:function _typeof(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function arm_slicedToArray(t,e){return function arm_arrayWithHoles(t){if(Array.isArray(t))return t}(t)||function arm_iterableToArrayLimit(t,e){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(t)))return;var r=[],n=!0,o=!1,a=void 0;try{for(var i,s=t[Symbol.iterator]();!(n=(i=s.next()).done)&&(r.push(i.value),!e||r.length!==e);n=!0);}catch(t){o=!0,a=t}finally{try{n||null==s.return||s.return()}finally{if(o)throw a}}return r}(t,e)||arm_unsupportedIterableToArray(t,e)||function arm_nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function arm_unsupportedIterableToArray(t,e){if(t){if("string"==typeof t)return arm_arrayLikeToArray(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);return"Object"===r&&t.constructor&&(r=t.constructor.name),"Map"===r||"Set"===r?Array.from(t):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?arm_arrayLikeToArray(t,e):void 0}}function arm_arrayLikeToArray(t,e){(null==e||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function arm_classCallCheck(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function arm_defineProperties(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function arm_createClass(t,e,r){return e&&arm_defineProperties(t.prototype,e),r&&arm_defineProperties(t,r),t}function arm_inherits(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&arm_setPrototypeOf(t,e)}function arm_setPrototypeOf(t,e){return(arm_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(t,e){return t.__proto__=e,t})(t,e)}function arm_createSuper(r){var n=function arm_isNativeReflectConstruct(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(t){return!1}}();return function _createSuperInternal(){var t,e=arm_getPrototypeOf(r);return function arm_possibleConstructorReturn(t,e){return!e||"object"!==arm_typeof(e)&&"function"!=typeof e?function arm_assertThisInitialized(t){if(void 0!==t)return t;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}(t):e}(this,n?(t=arm_getPrototypeOf(this).constructor,Reflect.construct(e,arguments,t)):e.apply(this,arguments))}}function arm_getPrototypeOf(t){return(arm_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var me=function(){arm_inherits(LeftArmShading,B);var n=arm_createSuper(LeftArmShading);function LeftArmShading(){arm_classCallCheck(this,LeftArmShading);for(var t=arguments.length,e=new Array(t),r=0;r<t;r++)e[r]=arguments[r];return n.call.apply(n,[this,{loc:"left arm",layer:_.ARMS}].concat(e))}return arm_createClass(LeftArmShading,[{key:"fill",value:function fill(){return R}},{key:"calcDrawPoints",value:function calcDrawPoints(t){var e,r,n,o,a,i,s=[],c=arm_slicedToArray(adjustPoints(.07*this.armThickness,0,t.elbow.in,t.armpit),2),l=c[0],u=c[1];t.hand?(r=(e=arm_slicedToArray(adjustPoints(.02*this.armThickness,0,t.wrist.in,t.thumb.out),2))[0],n=e[1],o=extractPoint(t.thumb.tip),s.push(o,n,r)):(a=extractPoint(t.wrist.in),s.push(a)),t.breast?(i=extractPoint(t.breast.top)).cp1=simpleQuadratic(u,i,.5,-4):i=extractPoint(t.armpit);var p=extractPoint(t.armpit),f=extractPoint(t.elbow.in);f.cp1=clone(t.armpit.cp2),f.cp2=clone(t.armpit.cp1);var y,h,d,g,P=extractPoint(t.wrist.in);return P.cp1=clone(t.elbow.in.cp2),P.cp2=clone(t.elbow.in.cp1),s.push(l,u,i,p,f,P),t.hand&&((y=extractPoint(t.thumb.out)).cp1=clone(t.wrist.in.cp2),y.cp2=clone(t.wrist.in.cp1),(h=extractPoint(t.thumb.tip)).cp1=clone(t.thumb.out.cp2),h.cp2=clone(t.thumb.out.cp1),s.push(y,h),d=extractPoint(t.hand.tip),g=clone(t.hand.palm),d.cp1=adjust(t.hand.palm.cp2,.01*this.handSize,0),d.cp2=adjust(t.hand.palm.cp1,.01*this.handSize,0),s.push(v,d,g,d,b)),s}}]),LeftArmShading}(),Se=function(){arm_inherits(LeftArmUnderShading,B);var n=arm_createSuper(LeftArmUnderShading);function LeftArmUnderShading(){arm_classCallCheck(this,LeftArmUnderShading);for(var t=arguments.length,e=new Array(t),r=0;r<t;r++)e[r]=arguments[r];return n.call.apply(n,[this,{loc:"+left arm",layer:_.FRONT}].concat(e))}return arm_createClass(LeftArmUnderShading,[{key:"calcDrawPoints",value:function calcDrawPoints(t){var e,r,n=[];t.hand?(e=adjust(t.hand.palm,-.5,-2),r=adjust(t.thumb.tip,-.5,-1.5),n.push.apply(n,[t.hand.tip,e,r].concat(arm_toConsumableArray(adjustPoints(-2,-1,t.thumb.out,t.wrist.in))))):n.push(t.wrist.in);var o=adjust(t.elbow.in,-2,-1),a=extractPoint(t.armpit);return a.cp1=adjust(t.armpit.cp1,-1,-.5),a.cp2=adjust(t.armpit.cp2,-2,-.5),n.push(o,a),n.push(extractPoint(t.elbow.out),t.wrist.out),t.hand?n.push(t.hand.knuckle,t.hand.tip):n.push(extractPoint(t.wrist.in)),n}}]),LeftArmUnderShading}(),ke=function(){arm_inherits(RightArmShading,B);var n=arm_createSuper(RightArmShading);function RightArmShading(){arm_classCallCheck(this,RightArmShading);for(var t=arguments.length,e=new Array(t),r=0;r<t;r++)e[r]=arguments[r];return n.call.apply(n,[this,{loc:"right arm",layer:_.ARMS}].concat(e))}return arm_createClass(RightArmShading,[{key:"fill",value:function fill(){return R}},{key:"calcDrawPoints",value:function calcDrawPoints(t){var e,r,n,o,a=[],i=extractPoint(t.collarbone),s=arm_slicedToArray(adjustPoints(.05*-this.armThickness,0,t.deltoids,t.shoulder,t.elbow.out),3),c=s[0],l=s[1],u=s[2];a.push(i,c,l,u),t.hand?(e=adjust(t.wrist.out,.03*-this.armThickness,0),r=adjust(t.hand.knuckle,.02*-this.armThickness,0),(n=clone(t.hand.tip)).cp1=adjust(t.hand.tip.cp1,.02*-this.armThickness,0),a.push(e,r),t.hand.fist&&a.push(adjust(t.hand.fist,.02*-this.armThickness,1)),a.push(n),t.hand.fist?(a.push(reverseDrawPoint(t.hand.fist,t.hand.tip)),a.push(reverseDrawPoint(t.hand.knuckle,t.hand.fist))):a.push(reverseDrawPoint(t.hand.knuckle,t.hand.tip)),a.push(reverseDrawPoint(t.wrist.out,t.hand.knuckle))):((o=extractPoint(t.wrist.out)).cp1={x:u.x,y:u.y},o.cp2={x:o.x-2,y:o.y},a.push(o));var p=[];return p.push(reverseDrawPoint(t.elbow.out,t.wrist.out),reverseDrawPoint(t.elbow.out,t.elbow.out),reverseDrawPoint(t.shoulder,t.elbow.out)),t.deltoids?p.push(reverseDrawPoint(t.deltoids,t.shoulder),reverseDrawPoint(t.collarbone,t.deltoids)):p.push(reverseDrawPoint(t.collarbone,t.shoulder)),a.extend(adjustPoints.apply(void 0,[3,0].concat(p))),a}}]),RightArmShading}(),Ce=function(){arm_inherits(RightArmUnderShading,B);var n=arm_createSuper(RightArmUnderShading);function RightArmUnderShading(){arm_classCallCheck(this,RightArmUnderShading);for(var t=arguments.length,e=new Array(t),r=0;r<t;r++)e[r]=arguments[r];return n.call.apply(n,[this,{loc:"+right arm",layer:_.FRONT}].concat(e))}return arm_createClass(RightArmUnderShading,[{key:"calcDrawPoints",value:function calcDrawPoints(t){var e,r=[t.collarbone].concat(arm_toConsumableArray(adjustPoints(3,-1,t.deltoids,t.shoulder,t.elbow.out)));return t.hand?(r.push.apply(r,arm_toConsumableArray(adjustPoints(1.5,-.7,t.wrist.out,t.hand.knuckle,t.hand.tip))),r.push.apply(r,arm_toConsumableArray(adjustPoints(2.2,-.9,t.hand.palm,t.thumb.tip,t.thumb.out)).concat([extractPoint(t.wrist.out)]))):(e=extractPoint(t.wrist.out),r.push(e)),r.push(extractPoint(t.elbow.in),extractPoint(t.collarbone)),r}}]),RightArmUnderShading}(),we=function(){arm_inherits(Arm,O);var n=arm_createSuper(Arm);function Arm(){arm_classCallCheck(this,Arm);for(var t=arguments.length,e=new Array(t),r=0;r<t;r++)e[r]=arguments[r];return n.call.apply(n,[this,{loc:"arm",layer:_.ARMS,aboveParts:["leg","torso"],shadingParts:[me,Se,ke,Ce]}].concat(e))}return arm_createClass(Arm,[{key:"clipStroke",value:function clipStroke(){}},{key:"clipFill",value:function clipFill(){}}]),Arm}(),xe=function(){arm_inherits(ArmHuman,we);var n=arm_createSuper(ArmHuman);function ArmHuman(){arm_classCallCheck(this,ArmHuman);for(var t=arguments.length,e=new Array(t),r=0;r<t;r++)e[r]=arguments[r];return n.call.apply(n,[this].concat(e))}return arm_createClass(ArmHuman,[{key:"calcDrawPoints",value:function calcDrawPoints(t,e,r){var n,o,a,i,s,c,l,u;return r&&(n=t.wrist={},o=t.armpit={x:t.collarbone.x-.03*this.upperMuscle,y:t.collarbone.y-.27*this.torsoLength-.1*this.upperMuscle},(l=t.shoulder={x:t.collarbone.x+.2*this.upperMuscle+.1*this.armThickness,y:t.collarbone.y-10-.1*this.upperMuscle}).cp1={x:l.x,y:t.collarbone.y-3},l.cp2={x:l.x-.5+.02*this.upperMuscle,y:l.y+4},(a=t.elbow={}).out={x:o.x+5+.17*this.upperMuscle+.05*this.armThickness,y:l.y-.45*this.armLength},n.out={x:o.x+10+.01*this.upperMuscle+.035*this.armThickness,y:a.out.y-.5*this.armLength,cp1:{x:a.out.x,y:a.out.y-2}},n.out.cp2={x:n.out.x-.5,y:n.out.y+3},n.in={x:o.x+9,y:n.out.y-1},a.in={x:a.out.x-3-.07*this.upperMuscle-.05*this.armThickness,y:a.out.y+2,cp1:{x:n.in.x-1,y:n.in.y+7}},a.in.cp2={x:a.in.x+.5,y:a.in.y-7},t.armpit.cp1={x:a.in.x-.5,y:a.in.y+2},t.armpit.cp2={x:t.armpit.x,y:t.armpit.y-2},10<this.upperMuscle&&(i=this.upperMuscle-10,(s=t.deltoids={x:l.x-.12*i,y:l.y-.2*i}).cp1=extractPoint(l.cp1),s.cp2=extractPoint(l.cp2),s.cp1.x+=.03*i,s.cp2.x+=.05*i,c=splitCurve(.85,t.collarbone,t.deltoids),(l=t.shoulder=c.right.p1).cp1=c.right.p2.cp2,l.cp2=c.right.p2.cp1,a.out.cp1={x:l.x+.08*i,y:l.y-.1*i},a.out.cp2={x:a.out.x,y:a.out.y+.07*i},o.cp1.x-=.15*i,o.cp1.y+=.1*i,o.cp2.x-=.02*i,o.cp2.y-=.1*i,a.in.cp2.x-=.15*i,a.in.cp2.y-=.05*i,a.in.cp1.y+=.1*i,n.out.cp1.x+=.1*i,n.out.cp1.y-=.1*i,n.out.cp2.x+=.1*i,n.out.cp2.y+=.1*i,n.in.x-=.03*i),rotatePoints(a.in,e.armRotation*Math.PI/180,a.in,a.out,n.in,n.out),a.in.x-=.02*Math.abs(e.armRotation),a.in.y-=.01*e.armRotation,e.armRotation<-20&&(u=-20-e.armRotation,a.in.x-=.05*u,a.in.y-=.17*u)),[t.collarbone,t.deltoids,t.shoulder,t.elbow.out,t.wrist.out,{child:!0},t.wrist.in,t.elbow.in,t.armpit]}}]),ArmHuman}();function butt_defineProperties(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function butt_typeof(t){return(butt_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function _typeof(t){return typeof t}:function _typeof(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function butt_classCallCheck(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function butt_inherits(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&butt_setPrototypeOf(t,e)}function butt_setPrototypeOf(t,e){return(butt_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(t,e){return t.__proto__=e,t})(t,e)}function butt_createSuper(r){var n=function butt_isNativeReflectConstruct(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(t){return!1}}();return function _createSuperInternal(){var t,e=butt_getPrototypeOf(r);return function butt_possibleConstructorReturn(t,e){return!e||"object"!==butt_typeof(e)&&"function"!=typeof e?function butt_assertThisInitialized(t){if(void 0!==t)return t;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}(t):e}(this,n?(t=butt_getPrototypeOf(this).constructor,Reflect.construct(e,arguments,t)):e.apply(this,arguments))}}function butt_getPrototypeOf(t){return(butt_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var Oe=function(){butt_inherits(Butt,O);var n=butt_createSuper(Butt);function Butt(){butt_classCallCheck(this,Butt);for(var t=arguments.length,e=new Array(t),r=0;r<t;r++)e[r]=arguments[r];return n.call.apply(n,[this,{loc:"butt",reflect:!0,layer:_.BACK}].concat(e))}return Butt}(),Ae=function(){butt_inherits(ButtHuman,Oe);var n=butt_createSuper(ButtHuman);function ButtHuman(){butt_classCallCheck(this,ButtHuman);for(var t=arguments.length,e=new Array(t),r=0;r<t;r++)e[r]=arguments[r];return n.call.apply(n,[this].concat(e))}return function butt_createClass(t,e,r){e&&butt_defineProperties(t.prototype,e),r&&butt_defineProperties(t,r)}(ButtHuman,[{key:"getLineWidth",value:function getLineWidth(t){return clamp(.5+.05*t.dim.buttFullness,.5,1.5)}},{key:"calcDrawPoints",value:function calcDrawPoints(t,e,r){if(r){if(t.butt={},t.butt.in={x:.5,y:t.groin.y-.01*this.buttFullness},!t.thigh.out)return[];t.butt.out={x:t.thigh.out.x-2,y:t.butt.in.y+1},t.butt.out.cp1={x:.7*t.butt.in.x+.3*t.butt.out.x-.1*this.buttFullness,y:t.butt.in.y-.35*this.buttFullness},t.butt.out.cp2={x:.3*t.butt.in.x+.7*t.butt.out.x+.12*this.buttFullness,y:t.butt.out.y-2-.2*this.buttFullness},t.butt.in.cp1={x:t.butt.out.cp2.x,y:t.butt.out.y+.2*this.buttFullness},t.butt.in.cp2={x:t.butt.in.x,y:t.butt.in.y+3+.2*this.buttFullness}}return[t.butt.in,t.butt.out,t.butt.in]}}]),ButtHuman}();function chest_slicedToArray(t,e){return function chest_arrayWithHoles(t){if(Array.isArray(t))return t}(t)||function chest_iterableToArrayLimit(t,e){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(t)))return;var r=[],n=!0,o=!1,a=void 0;try{for(var i,s=t[Symbol.iterator]();!(n=(i=s.next()).done)&&(r.push(i.value),!e||r.length!==e);n=!0);}catch(t){o=!0,a=t}finally{try{n||null==s.return||s.return()}finally{if(o)throw a}}return r}(t,e)||function chest_unsupportedIterableToArray(t,e){if(!t)return;if("string"==typeof t)return chest_arrayLikeToArray(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);"Object"===r&&t.constructor&&(r=t.constructor.name);if("Map"===r||"Set"===r)return Array.from(t);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return chest_arrayLikeToArray(t,e)}(t,e)||function chest_nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function chest_arrayLikeToArray(t,e){(null==e||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function chest_typeof(t){return(chest_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function _typeof(t){return typeof t}:function _typeof(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function chest_classCallCheck(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function chest_defineProperties(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function chest_createClass(t,e,r){return e&&chest_defineProperties(t.prototype,e),r&&chest_defineProperties(t,r),t}function chest_inherits(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&chest_setPrototypeOf(t,e)}function chest_setPrototypeOf(t,e){return(chest_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(t,e){return t.__proto__=e,t})(t,e)}function chest_createSuper(r){var n=function chest_isNativeReflectConstruct(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(t){return!1}}();return function _createSuperInternal(){var t,e=chest_getPrototypeOf(r);return function chest_possibleConstructorReturn(t,e){return!e||"object"!==chest_typeof(e)&&"function"!=typeof e?function chest_assertThisInitialized(t){if(void 0!==t)return t;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}(t):e}(this,n?(t=chest_getPrototypeOf(this).constructor,Reflect.construct(e,arguments,t)):e.apply(this,arguments))}}function chest_getPrototypeOf(t){return(chest_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var Te=function(){chest_inherits(LeftBreastShading,B);var n=chest_createSuper(LeftBreastShading);function LeftBreastShading(){chest_classCallCheck(this,LeftBreastShading);for(var t=arguments.length,e=new Array(t),r=0;r<t;r++)e[r]=arguments[r];return n.call.apply(n,[this,{loc:"chest",layer:_.GENITALS,forcedSide:A.LEFT}].concat(e))}return chest_createClass(LeftBreastShading,[{key:"fill",value:function fill(){return R}},{key:"calcDrawPoints",value:function calcDrawPoints(t){if(!1===t.hasOwnProperty("breast"))return[];var e={x:t.breast.cleavage.x+.5,y:t.breast.cleavage.y+.4*this.breastSize},r=extractPoint(t.breast.bot);return e.cp1=continueCurve(t.breast.in,t.breast.cleavage),r.cp1={x:e.x,y:.3*e.y+.7*r.y},r.cp2={x:r.x-6+.32*this.breastSize,y:r.y+7},[r,t.breast.in,t.breast.cleavage,e,r]}}]),LeftBreastShading}(),je=function(){chest_inherits(LeftBreastUnderShading,B);var n=chest_createSuper(LeftBreastUnderShading);function LeftBreastUnderShading(){chest_classCallCheck(this,LeftBreastUnderShading);for(var t=arguments.length,e=new Array(t),r=0;r<t;r++)e[r]=arguments[r];return n.call.apply(n,[this,{loc:"+chest",layer:_.FRONT,forcedSide:A.LEFT}].concat(e))}return chest_createClass(LeftBreastUnderShading,[{key:"calcDrawPoints",value:function calcDrawPoints(t){if(!1===t.hasOwnProperty("breast"))return[];var e={x:t.breast.cleavage.x+.5,y:t.breast.cleavage.y+.4*this.breastSize},r=extractPoint(t.breast.bot);e.cp1=continueCurve(t.breast.in,t.breast.cleavage);var n=extractPoint(t.breast.cleavage);return n.x-=.05*this.breastSize,n.y-=.02*this.breastSize,n.cp1={x:+e.x+0*n.x,y:e.y-.02*this.breastSize},n.cp2={x:n.x,y:.5*n.y+.5*e.y},r.cp1={x:n.x-.02*this.breastSize,y:n.y-.3*this.breastSize-5},r.cp2={x:r.x-2-.05*this.breastSize,y:r.y-2-.03*this.breastSize},[r,t.breast.in,t.breast.cleavage,e,n,r]}}]),LeftBreastUnderShading}(),Re=function(){chest_inherits(RightBreastShading,B);var n=chest_createSuper(RightBreastShading);function RightBreastShading(){chest_classCallCheck(this,RightBreastShading);for(var t=arguments.length,e=new Array(t),r=0;r<t;r++)e[r]=arguments[r];return n.call.apply(n,[this,{loc:"chest",layer:_.GENITALS,forcedSide:A.RIGHT}].concat(e))}return chest_createClass(RightBreastShading,[{key:"fill",value:function fill(){return R}},{key:"calcDrawPoints",value:function calcDrawPoints(t){if(!1===t.hasOwnProperty("breast"))return[];var e=extractPoint(t.breast.bot),r=chest_slicedToArray(adjustPoints(.25*-this.breastSize,0,t.breast.tip,t.breast.bot.cp1,t.breast.bot.cp2),3),n=r[0],o=r[1],a=r[2];e.cp1=o,e.cp2=a;var i=chest_slicedToArray(adjustPoints(.1*this.breastSize,.12*-this.breastSize,reverseDrawPoint(t.breast.tip,t.breast.bot),reverseDrawPoint(t.breast.top,t.breast.tip)),2),s=i[0],c=i[1];return c.x=t.breast.top.x,c.y=t.breast.top.y,[t.breast.top,n,e,s,c]}}]),RightBreastShading}(),Be=function(){chest_inherits(Chest,O);var n=chest_createSuper(Chest);function Chest(){chest_classCallCheck(this,Chest);for(var t=arguments.length,e=new Array(t),r=0;r<t;r++)e[r]=arguments[r];return n.call.apply(n,[this,{loc:"chest",reflect:!0,layer:_.GENITALS,aboveParts:["parts torso","decorativeParts torso","arm"]}].concat(e))}return Chest}(),Ee=function(){chest_inherits(ChestHuman,Be);var n=chest_createSuper(ChestHuman);function ChestHuman(){chest_classCallCheck(this,ChestHuman);for(var t=arguments.length,e=new Array(t),r=0;r<t;r++)e[r]=arguments[r];return n.call.apply(n,[this,{shadingParts:[Te,je,Re]}].concat(e))}return chest_createClass(ChestHuman,[{key:"calcDrawPoints",value:function calcDrawPoints(t,e,r){if(this.breastSize<0)return[];var n,o,a,i;r&&(n=t.breast={},o=this.breastSize-10,n.top={x:t.armpit.x-2.2+.02*this.breastSize,y:t.armpit.y+.5+.023*this.height-.05*this.breastSize},this.breastSize<10&&(n.top.x+=.1*o),a=.006*Math.pow(clamp(o-e.breastPerkiness,0,100),2),n.center={x:t.armpit.x-3+.02*o+.02*a,y:n.top.y-6-.03*o-a+.02*e.breastPerkiness},o=Math.max(0,o),n.tip={x:n.center.x+3.3+.07*o+.04*e.breastPerkiness,y:n.center.y+.07*e.breastPerkiness,cp1:{x:n.top.x+2+.07*o-.5*a,y:n.top.y-3+clamp(.15*e.breastPerkiness,-4,4)-.7*a}},n.tip.cp2={x:n.tip.x-.1*a,y:n.tip.y+2+.07*o},n.bot={x:n.center.x-1.5+.01*o,y:n.center.y-3.8-.08*o-.05*a+.08*e.breastPerkiness},n.bot.cp1=continueCurve(n.top,n.tip,clamp(.6+.05*a,0,1)),n.bot.cp2={x:n.bot.x+3.5+.05*o,y:n.bot.y},n.cleavage={x:.5,y:n.tip.y},n.cleavage.cp1=continueCurve(n.tip,n.bot),n.cleavage.cp2={x:n.cleavage.x,y:n.cleavage.y-2.5-.05*o},i=splitCurve(clamp((o+5)/30,0,1),n.bot,n.cleavage),n.in=i.left.p2,n.cleavage=i.right.p2);var s=splitCurve(clamp(1-this.breastSize/10,0,1),t.breast.top,t.breast.tip),c=s.right.p1;return t.breast.tip=s.right.p2,t.breast.top=connectEndPoints(t.breast.cleavage,c),[v,c,t.breast.tip,t.breast.bot,t.breast.in,t.breast.cleavage,t.breast.top]}}]),ChestHuman}(),Le=function(){chest_inherits(NipplesHuman,Be);var n=chest_createSuper(NipplesHuman);function NipplesHuman(){chest_classCallCheck(this,NipplesHuman);for(var t=arguments.length,e=new Array(t),r=0;r<t;r++)e[r]=arguments[r];return n.call.apply(n,[this,{fill:d,loc:"+chest",aboveParts:["parts chest","decorativeParts chest"]}].concat(e))}return chest_createClass(NipplesHuman,[{key:"strokeClip",value:function strokeClip(){}},{key:"stroke",value:function stroke(t,e){return e.nippleColor}},{key:"getLineWidth",value:function getLineWidth(t){return.05*t.dim.breastSize+.1*t.dim.areolaSize}},{key:"calcDrawPoints",value:function calcDrawPoints(t,e,r){return t.chest=t.chest||{},r&&(t.breast?t.chest.nipples={x:t.breast.center.x-1.5+.03*this.breastSize,y:t.breast.tip.y-.03*this.breastSize+.1*e.breastPerkiness}:t.chest.nipples={x:t.armpit.x-5-.08*this.upperMuscle,y:t.armpit.y-3}),[v,t.chest.nipples]}}]),NipplesHuman}();function feet_defineProperties(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function feet_createClass(t,e,r){return e&&feet_defineProperties(t.prototype,e),r&&feet_defineProperties(t,r),t}function feet_typeof(t){return(feet_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function _typeof(t){return typeof t}:function _typeof(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function feet_classCallCheck(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function feet_inherits(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&feet_setPrototypeOf(t,e)}function feet_setPrototypeOf(t,e){return(feet_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(t,e){return t.__proto__=e,t})(t,e)}function feet_createSuper(r){var n=function feet_isNativeReflectConstruct(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(t){return!1}}();return function _createSuperInternal(){var t,e=feet_getPrototypeOf(r);return function feet_possibleConstructorReturn(t,e){return!e||"object"!==feet_typeof(e)&&"function"!=typeof e?function feet_assertThisInitialized(t){if(void 0!==t)return t;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}(t):e}(this,n?(t=feet_getPrototypeOf(this).constructor,Reflect.construct(e,arguments,t)):e.apply(this,arguments))}}function feet_getPrototypeOf(t){return(feet_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var Ie=function(){feet_inherits(Feet,O);var n=feet_createSuper(Feet);function Feet(){feet_classCallCheck(this,Feet);for(var t=arguments.length,e=new Array(t),r=0;r<t;r++)e[r]=arguments[r];return n.call.apply(n,[this,{loc:"feet",parentPart:"leg",layer:_.FRONT}].concat(e))}return Feet}(),Fe=function(){feet_inherits(FeetHuman,Ie);var n=feet_createSuper(FeetHuman);function FeetHuman(){feet_classCallCheck(this,FeetHuman);for(var t=arguments.length,e=new Array(t),r=0;r<t;r++)e[r]=arguments[r];return n.call.apply(n,[this].concat(e))}return feet_createClass(FeetHuman,[{key:"calcDrawPoints",value:function calcDrawPoints(t,e,r){var n;return r&&(t.ankle.outbot={x:t.ankle.out.x+.2,y:t.ankle.out.y-2.5},t.ankle.outbot.cp1=averageQuadratic(t.ankle.out,t.ankle.outbot,.5,.5,.5),(n=t.toe=t.toe||{}).center={x:.5*t.ankle.out.x+.5*t.ankle.in.x,y:2-.008*this.feetLength+.02*this.legFem},n.out={x:n.center.x+1-.04*this.legFem+.05*this.feetWidth,y:n.center.y,cp1:{x:t.ankle.outbot.x,y:t.ankle.outbot.y}},n.out.cp2={x:n.out.x+.02*this.legFem,y:n.out.y+1},n.in={x:n.center.x-1.8-.02*this.legFem-.03*this.feetWidth,y:n.out.y-.5-.006*this.feetLength},n.in.cp1={x:n.out.x+1,y:n.out.y-1-.1*e.feetBias*(n.out.y-n.in.y)},n.in.cp2={x:n.in.x+2.5,y:n.in.y-.5-.02*this.legFem},t.ankle.inbot={x:n.center.x-4+.03*this.legFem,y:t.ankle.outbot.y-.5+.03*this.legFem,cp1:{x:n.in.x-1.5,y:n.in.y+1.5}},t.ankle.inbot.cp2={x:t.ankle.inbot.x+1,y:t.ankle.inbot.y-2},t.ankle.in.cp1=averageQuadratic(t.ankle.inbot,t.ankle.in,.3,-.5,.5)),[t.ankle.outbot,t.toe.out,t.toe.in,t.ankle.inbot]}}]),FeetHuman}(),He=function(){feet_inherits(HoofHorse,Ie);var n=feet_createSuper(HoofHorse);function HoofHorse(){feet_classCallCheck(this,HoofHorse);for(var t=arguments.length,e=new Array(t),r=0;r<t;r++)e[r]=arguments[r];return n.call.apply(n,[this,{uncoverable:!0}].concat(e))}return feet_createClass(HoofHorse,[{key:"stroke",value:function stroke(){return o.brownFur.stroke}},{key:"fill",value:function fill(){return o.brownFur.fill}},{key:"calcDrawPoints",value:function calcDrawPoints(t,e,r){return r&&(t.ankle.outbot={x:t.ankle.out.x+.2,y:t.ankle.out.y-2.5},t.ankle.outbot.cp1=averageQuadratic(t.ankle.out,t.ankle.outbot,.5,.5,.5),t.toe=t.toe||{},t.toe.out={x:t.ankle.outbot.x+3-.07*this.legFem,y:1+.02*this.legFem,cp1:{x:t.ankle.outbot.x,y:t.ankle.outbot.y}},t.toe.out.cp2={x:t.toe.out.x+.02*this.legFem,y:t.toe.out.y+1},t.toe.in={x:t.toe.out.x-7+.05*this.legFem,y:t.toe.out.y-2,cp1:{x:t.toe.out.x+1,y:t.toe.out.y-1}},t.toe.in.cp2={x:t.toe.in.x+2.5,y:t.toe.in.y-.5-.02*this.legFem},t.ankle.inbot={x:t.toe.in.x-.5+.02*this.legFem,y:t.ankle.outbot.y-.5+.03*this.legFem,cp1:{x:t.toe.in.x-1.5,y:t.toe.in.y+1.5}},t.ankle.inbot.cp2={x:t.ankle.inbot.x+1,y:t.ankle.inbot.y-2},t.ankle.in.cp1=averageQuadratic(t.ankle.inbot,t.ankle.in,.3,-.5,.5)),[t.ankle.outbot,t.toe.out,t.toe.in,t.ankle.inbot]}}]),HoofHorse}();function groin_typeof(t){return(groin_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function _typeof(t){return typeof t}:function _typeof(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function groin_classCallCheck(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function groin_defineProperties(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function groin_createClass(t,e,r){return e&&groin_defineProperties(t.prototype,e),r&&groin_defineProperties(t,r),t}function groin_inherits(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&groin_setPrototypeOf(t,e)}function groin_setPrototypeOf(t,e){return(groin_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(t,e){return t.__proto__=e,t})(t,e)}function groin_createSuper(r){var n=function groin_isNativeReflectConstruct(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(t){return!1}}();return function _createSuperInternal(){var t,e=groin_getPrototypeOf(r);return function groin_possibleConstructorReturn(t,e){return!e||"object"!==groin_typeof(e)&&"function"!=typeof e?function groin_assertThisInitialized(t){if(void 0!==t)return t;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}(t):e}(this,n?(t=groin_getPrototypeOf(this).constructor,Reflect.construct(e,arguments,t)):e.apply(this,arguments))}}function groin_getPrototypeOf(t){return(groin_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var Me=function(){groin_inherits(GroinShading,B);var n=groin_createSuper(GroinShading);function GroinShading(){groin_classCallCheck(this,GroinShading);for(var t=arguments.length,e=new Array(t),r=0;r<t;r++)e[r]=arguments[r];return n.call.apply(n,[this,{loc:"groin",layer:_.FRONT}].concat(e))}return groin_createClass(GroinShading,[{key:"calcDrawPoints",value:function calcDrawPoints(t){var e=void 0===t.thigh.fold?extractPoint(t.hip):t.thigh.fold,r=splitCurve(.2,t.thigh.top,e),n=r.left.p2,o=extractPoint(t.groin);o.cp1=simpleQuadratic(n,o,.5,2);var a=reflect((r=splitCurve(.8,t.thigh.top,e)).left.p2);a.cp1=reflect(r.left.p2.cp1),r.left.p2.cp2&&(a.cp2=reflect(r.left.p2.cp2));var i=reflect(t.thigh.top);return n.cp1=simpleQuadratic(a,n,.7,-4),[n,o,i,a,n]}}]),GroinShading}(),De=function(){groin_inherits(Groin,O);var n=groin_createSuper(Groin);function Groin(){groin_classCallCheck(this,Groin);for(var t=arguments.length,e=new Array(t),r=0;r<t;r++)e[r]=arguments[r];return n.call.apply(n,[this,{loc:"groin",forcedSide:null,reflect:!0,layer:_.FRONT,belowParts:["parts torso"],shadingParts:[Me]}].concat(e))}return Groin}(),Ne=function(){groin_inherits(GroinHuman,De);var n=groin_createSuper(GroinHuman);function GroinHuman(){groin_classCallCheck(this,GroinHuman);for(var t=arguments.length,e=new Array(t),r=0;r<t;r++)e[r]=arguments[r];return n.call.apply(n,[this].concat(e))}return groin_createClass(GroinHuman,[{key:"getLineWidth",value:function getLineWidth(){return 0}},{key:"calcDrawPoints",value:function calcDrawPoints(t,e,r){var n;return r&&(n=.85*this.height-this.legLength,fillerDefinition(t,"thigh"),fillerDefinition(t.thigh,"top",{x:1.6,y:t.hip.y-.15*this.legLength}),t.groin={x:0,y:t.thigh.top.y-.015*n},t.groin.top={x:t.thigh.top.x+5,y:t.thigh.top.y+1.1}),[t.groin.top,t.groin,{fillOnly:[t.neck.nape,t.groin.top]}]}}]),GroinHuman}();function hand_defineProperties(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function hand_typeof(t){return(hand_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function _typeof(t){return typeof t}:function _typeof(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function hand_classCallCheck(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function hand_inherits(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&hand_setPrototypeOf(t,e)}function hand_setPrototypeOf(t,e){return(hand_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(t,e){return t.__proto__=e,t})(t,e)}function hand_createSuper(r){var n=function hand_isNativeReflectConstruct(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(t){return!1}}();return function _createSuperInternal(){var t,e=hand_getPrototypeOf(r);return function hand_possibleConstructorReturn(t,e){return!e||"object"!==hand_typeof(e)&&"function"!=typeof e?function hand_assertThisInitialized(t){if(void 0!==t)return t;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}(t):e}(this,n?(t=hand_getPrototypeOf(this).constructor,Reflect.construct(e,arguments,t)):e.apply(this,arguments))}}function hand_getPrototypeOf(t){return(hand_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var We=function(){hand_inherits(Hand,O);var n=hand_createSuper(Hand);function Hand(){hand_classCallCheck(this,Hand);for(var t=arguments.length,e=new Array(t),r=0;r<t;r++)e[r]=arguments[r];return n.call.apply(n,[this,{loc:"hand",parentPart:"arm",layer:_.ARMS}].concat(e))}return Hand}(),Ge=function(){hand_inherits(HandHuman,We);var n=hand_createSuper(HandHuman);function HandHuman(){hand_classCallCheck(this,HandHuman);for(var t=arguments.length,e=new Array(t),r=0;r<t;r++)e[r]=arguments[r];return n.call.apply(n,[this].concat(e))}return function hand_createClass(t,e,r){e&&hand_defineProperties(t.prototype,e),r&&hand_defineProperties(t,r)}(HandHuman,[{key:"calcDrawPoints",value:function calcDrawPoints(t,e,r){var n,o,a,i,s,c;return requirePart("wrist",t),r&&(n=t.hand={},o=t.thumb={},a=t.wrist.out,i=.1*this.handSize+.04*this.upperMuscle,n.knuckle={x:a.x+.15*i,y:a.y-.6*i},n.tip={x:a.x+.1*i,y:n.knuckle.y-2-.6*i},n.tip.cp1=averageQuadratic(n.knuckle,n.tip,.7,1,-.2),n.palm={x:.65*a.x+.35*t.wrist.in.x,y:n.knuckle.y-.1*i,cp1:{x:n.tip.x-.5-.15*i,y:n.tip.y+.1*i}},n.palm.cp2={x:n.palm.x+1+.2*i,y:n.palm.y-1-.2*i},o.tip={x:n.palm.x-.03*i,y:n.palm.y-1-.25*i,cp1:{x:n.palm.x-.1*i,y:n.palm.y-.1*i}},o.tip.cp2={x:o.tip.x+.1*i,y:o.tip.y+.1*i},o.out={x:t.wrist.in.x+.1,y:t.wrist.in.y-.2*i,cp1:{x:o.tip.x-.15*i,y:o.tip.y+.2*i}},o.out.cp2={x:o.out.x-.05*i,y:o.out.y-.2*i},rotatePoints(a,(e.armRotation+e.handRotation)*Math.PI/180,n.knuckle,n.tip,n.palm,o.tip,o.out),12<this.upperMuscle&&(s=this.upperMuscle-12,n.knuckle.y-=.05*s,o.tip=adjust(o.tip,.03*-s,.05*s),n.tip.y+=.05*s,o.out.cp1.x-=.05*s,o.out.cp2.x-=.02*s,rotatePoints(n.knuckle,.035*-s,n.tip,n.palm),c=splitCurve(.6,n.knuckle,n.tip),n.fist=c.left.p2,n.tip.cp1=c.right.p2.cp1,rotatePoints(n.fist,.05*-s,n.tip,n.palm.cp1,n.palm.cp2),n.palm.x-=.07*s,25<this.upperMuscle&&(n.tip=extractPoint(o.tip),n.palm=extractPoint(n.palm),o.out=extractPoint(o.out),o.knuckle=averagePoint(o.tip,o.out),o.knuckle.x-=.06*s),rotatePoints(a,.01*-s,n.tip,n.first,n.palm,o.tip,o.knuckle))),[t.wrist.out,t.hand.knuckle,t.hand.fist,t.hand.tip,t.hand.palm,t.thumb.tip,t.thumb.knuckle,t.thumb.out,t.wrist.in]}}]),HandHuman}();function head_defineProperties(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function head_createClass(t,e,r){return e&&head_defineProperties(t.prototype,e),r&&head_defineProperties(t,r),t}function head_typeof(t){return(head_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function _typeof(t){return typeof t}:function _typeof(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function head_classCallCheck(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function head_inherits(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&head_setPrototypeOf(t,e)}function head_setPrototypeOf(t,e){return(head_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(t,e){return t.__proto__=e,t})(t,e)}function head_createSuper(r){var n=function head_isNativeReflectConstruct(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(t){return!1}}();return function _createSuperInternal(){var t,e=head_getPrototypeOf(r);return function head_possibleConstructorReturn(t,e){return!e||"object"!==head_typeof(e)&&"function"!=typeof e?function head_assertThisInitialized(t){if(void 0!==t)return t;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}(t):e}(this,n?(t=head_getPrototypeOf(this).constructor,Reflect.construct(e,arguments,t)):e.apply(this,arguments))}}function head_getPrototypeOf(t){return(head_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var Ue=function(){head_inherits(Head,O);var n=head_createSuper(Head);function Head(){head_classCallCheck(this,Head);for(var t=arguments.length,e=new Array(t),r=0;r<t;r++)e[r]=arguments[r];return n.call.apply(n,[this,{loc:"head",forcedSide:null,parentPart:"neck",layer:_.BELOW_HAIR,reflect:!0}].concat(e))}return Head}(),ze=function(){head_inherits(HeadHumanShading,B);var n=head_createSuper(HeadHumanShading);function HeadHumanShading(){head_classCallCheck(this,HeadHumanShading);for(var t=arguments.length,e=new Array(t),r=0;r<t;r++)e[r]=arguments[r];return n.call.apply(n,[this,{loc:"+head",layer:_.HAIR}].concat(e))}return head_createClass(HeadHumanShading,[{key:"calcDrawPoints",value:function calcDrawPoints(t){var e=function calcHeadShading(t,e){var r=splitCurve(.4,t.skull,t.skull.side),n=extractPoint(r.left.p2),o=r.right.p2;o=adjust(o,.045*-e,0);var a=adjust(t.skull.bot,.03*-e,0);a.cp1=simpleQuadratic(o,a,.5,.5);var i=t.chin.out?adjust(extractPoint(t.chin.out),.026*-e,0):{},s=(r=splitCurve(.8,i,t.chin.bot)).left.p2;return s.cp1=continueCurve(a,i,.7),s.cp2=adjust(s.cp2,.02*-e,.1),{top:n,skullSide:o,skullBot:a,chinOut:i,chinBot:s}}(t,this.faceWidth),r=e.top,n=e.skullSide,o=e.skullBot,a=e.chinOut,i=e.chinBot;return r.cp1={x:i.x+.3*this.faceWidth,y:i.y},r.cp2={x:r.x+.4*this.faceWidth,y:r.y},[r,n,o,a,i,r]}}]),HeadHumanShading}();var Qe=function(){head_inherits(HeadHuman,Ue);var n=head_createSuper(HeadHuman);function HeadHuman(){head_classCallCheck(this,HeadHuman);for(var t=arguments.length,e=new Array(t),r=0;r<t;r++)e[r]=arguments[r];return n.call.apply(n,[this,{shadingParts:[ze]}].concat(e))}return head_createClass(HeadHuman,[{key:"getLineWidth",value:function getLineWidth(t){return clamp(1.7-.05*t.dim.faceFem,.7,1.5)}},{key:"calcDrawPoints",value:function calcDrawPoints(t,e,r){var n,o,a;return r&&(n=this.height,o=t.skull={x:0,y:n},t.ear={},o.side={x:.095*this.faceWidth-.01*this.faceFem,y:t.skull.y-.035*this.faceLength,cp1:{x:.045*this.faceWidth,y:n}},o.side.cp2={x:o.side.x,y:n-2},o.bot={x:o.side.x-.0135*this.faceFem,y:o.side.y-5*this.faceLength/220},t.jaw={x:o.bot.x-clamp(1.5-.05*this.faceFem-.1*e.jawJut,0,.2*this.faceWidth),y:o.bot.y-clamp(.025*this.faceLength-.2*this.faceFem,0,.03*this.faceLength)},t.chin={},t.chin.bot={x:0,y:t.skull.y-.1*this.faceLength+.035*this.faceFem-.1*e.chinLength,cp1:{x:t.jaw.x-clamp(1.5-.02*this.faceFem,.5,2),y:t.jaw.y-clamp(1+.05*this.faceFem+.1*e.cheekFullness,0,.025*this.faceLength)}},t.chin.bot.cp2={x:.1*this.chinWidth-clamp(.22*this.faceFem,0,3),y:t.chin.bot.y-1+clamp(.035*this.faceFem,0,2)},a=splitCurve(1-.78,t.jaw,t.chin.bot),t.chin.out=a.right.p1,t.chin.out.cp1=a.left.p2.cp1,t.chin.bot=a.right.p2,this.faceFem<13&&(t.chin.out.cp1=simpleQuadratic(t.jaw,t.chin.out,.5,.02*this.faceFem))),[t.skull,t.skull.side,t.skull.bot,t.jaw,t.chin.out,t.chin.bot]}}]),HeadHuman}();function leg_typeof(t){return(leg_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function _typeof(t){return typeof t}:function _typeof(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function leg_classCallCheck(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function leg_defineProperties(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function leg_createClass(t,e,r){return e&&leg_defineProperties(t.prototype,e),r&&leg_defineProperties(t,r),t}function leg_inherits(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&leg_setPrototypeOf(t,e)}function leg_setPrototypeOf(t,e){return(leg_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(t,e){return t.__proto__=e,t})(t,e)}function leg_createSuper(r){var n=function leg_isNativeReflectConstruct(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(t){return!1}}();return function _createSuperInternal(){var t,e=leg_getPrototypeOf(r);return function leg_possibleConstructorReturn(t,e){return!e||"object"!==leg_typeof(e)&&"function"!=typeof e?function leg_assertThisInitialized(t){if(void 0!==t)return t;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}(t):e}(this,n?(t=leg_getPrototypeOf(this).constructor,Reflect.construct(e,arguments,t)):e.apply(this,arguments))}}function leg_getPrototypeOf(t){return(leg_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var Ve=function(){leg_inherits(RightLegShading,B);var n=leg_createSuper(RightLegShading);function RightLegShading(){leg_classCallCheck(this,RightLegShading);for(var t=arguments.length,e=new Array(t),r=0;r<t;r++)e[r]=arguments[r];return n.call.apply(n,[this,{loc:"right leg",layer:_.MIDRIFT}].concat(e))}return leg_createClass(RightLegShading,[{key:"fill",value:function fill(){return R}},{key:"calcDrawPoints",value:function calcDrawPoints(t){var e=.1*this.bellyProtrusion,r=adjust(t.hip,-3-.04*this.hipWidth+.5*e,-e),n=adjust(t.thigh.out,-7-.2*this.legFullness,0),o=averagePoint(t.knee.out,t.knee.in);o.cp1=continueCurve(r,n,1),o.cp2={x:o.x+5,y:o.y};var a=splitCurve(.5,n,o).left.p2;o.cp1={x:a.x,y:a.y-3};var i={x:.7*o.x+.3*t.knee.out.x,y:o.y-2};i.cp1={x:o.x-2,y:o.y-2};var s=adjust(t.calf.out,-6-.1*this.legFullness,0);s.cp1={x:i.x+1,y:i.y-5};var c=adjust(t.ankle.out,-2,3);c.cp1=continueCurve(i,s);var l={x:t.ankle.out.x+20,y:t.ankle.out.y},u={x:t.hip.x+20,y:t.hip.y};return[r,n,a,o,i,s,c,extractPoint(t.ankle.out),l,u,r]}}]),RightLegShading}(),qe=function(){leg_inherits(LeftLegShading,B);var n=leg_createSuper(LeftLegShading);function LeftLegShading(){leg_classCallCheck(this,LeftLegShading);for(var t=arguments.length,e=new Array(t),r=0;r<t;r++)e[r]=arguments[r];return n.call.apply(n,[this,{loc:"left leg",layer:_.FRONT}].concat(e))}return leg_createClass(LeftLegShading,[{key:"fill",value:function fill(){return R}},{key:"calcDrawPoints",value:function calcDrawPoints(t){var e=adjust(t.ankle.in,3,2),r=adjust(t.calf.in,10-.15*this.legFem,0);r.cp1.x-=5;var n={x:.7*t.knee.in.x+.3*t.knee.out.x,y:t.knee.in.y-3};n.cp1=continueCurve(e,r),n.cp2={x:n.x+5,y:n.y-2};var o=adjust(t.knee.intop,3,2);o.cp1={x:n.x-3,y:n.y+3},o.cp2={x:o.x-1,y:o.y-2};var a=splitCurve(.8,t.thigh.top,t.thigh.fold).left.p2;a.cp1=simpleQuadratic(o,a,.5,2);var i={x:t.knee.in.x-2,y:t.knee.in.y};i.cp1=simpleQuadratic(a,i,.35,-8-.3*this.legFullness-.1*this.legFem);var s=extractPoint(t.ankle.in);return s.cp1={x:t.calf.in.x-3,y:t.calf.in.y},[s,e,r,n,o,a,i,s]}}]),LeftLegShading}(),Je=function(){leg_inherits(ThighShading,B);var n=leg_createSuper(ThighShading);function ThighShading(){leg_classCallCheck(this,ThighShading);for(var t=arguments.length,e=new Array(t),r=0;r<t;r++)e[r]=arguments[r];return n.call.apply(n,[this,{loc:"+left leg",layer:_.FRONT,reflect:!0}].concat(e))}return leg_createClass(ThighShading,[{key:"calcDrawPoints",value:function calcDrawPoints(t){var e=clone(t.thigh.fold),r=splitCurve(.85,t.thigh.in,t.thigh.top),n=r.left.p2,o=r.right.p2;return n.cp1=clone(e.cp1),--e.cp1.x,e.cp1.y+=1,n.cp1.x+=.5,n.cp1.y-=.5,[o,e,n,o]}}]),ThighShading}(),$e=function(){leg_inherits(Leg,O);var n=leg_createSuper(Leg);function Leg(){leg_classCallCheck(this,Leg);for(var t=arguments.length,e=new Array(t),r=0;r<t;r++)e[r]=arguments[r];return n.call.apply(n,[this,{loc:"leg",layer:_.FRONT,parentPart:"torso",shadingParts:[Ve,qe,Je]}].concat(e))}return Leg}(),Ye=function(){leg_inherits(LegHuman,$e);var n=leg_createSuper(LegHuman);function LegHuman(){leg_classCallCheck(this,LegHuman);for(var t=arguments.length,e=new Array(t),r=0;r<t;r++)e[r]=arguments[r];return n.call.apply(n,[this].concat(e))}return leg_createClass(LegHuman,[{key:"calcDrawPoints",value:function calcDrawPoints(t,e,r){var n,o,a,i,s,c,l,u,p;return r&&(n=.01*this.legLength,(o=t.knee={}).out={x:12-clamp(.3*this.legFem,0,9)+.04*this.hipWidth+.03*this.legFullness,y:.5*this.legLength,cp1:{x:t.hip.x+.1*this.legFem+.15*this.buttFullness+.1*this.legFullness-.05*this.lowerMuscle,y:t.hip.y-7-.1*this.legFem-.1*this.buttFullness-.1*this.legFullness}},o.out.cp2={x:o.out.x+4+.1*this.legFem-.05*this.lowerMuscle,y:o.out.y+.25*this.legLength},a=this.lowerMuscle-10,(i=this.legFem<25&&0<a)&&(o.out.cp1.x+=.05*a,o.out.cp1.y-=.05*a,o.out.cp2.x+=.2*a,o.out.cp2.y+=.5*a,t.hip.cp2.x+=.03*a),p=splitCurve(.55,t.hip,o.out),(s=t.thigh=t.thigh||{}).out=p.left.p2,o.out=p.right.p2,t.ankle=t.ankle||{},t.ankle.out={x:o.out.x-.5-.05*this.legFullness,y:8},(c=t.calf=t.calf||{}).out={x:o.out.x+(clamp(.1*this.legFem,0,3)+clamp(.005*this.legFullness,0,3))*n,y:o.out.y-.2*this.legLength+.1*this.lowerMuscle,cp1:{x:o.out.x,y:o.out.y-.1*this.legLength+clamp(.05*this.legFem,0,6)}},c.out.cp2={x:c.out.x,y:c.out.y+.1*this.legLength},t.ankle.out.cp1={x:c.out.x,y:c.out.y-.12*this.legLength},t.ankle.out.cp2={x:t.ankle.out.x-1,y:t.ankle.out.y+5},t.ankle.in={x:t.ankle.out.x-5+.02*this.legFem,y:t.ankle.out.y+.5},c.in={x:c.out.x-9+.015*this.legFem-.05*this.legFullness,y:c.out.y-.1*this.legFem},0<(l=15-this.legFem)?c.in.x-=.02*l:c.in.x+=.02*this.legFem,c.in.cp1={x:t.ankle.in.x+.5,y:t.ankle.in.y+(1.3-.03*this.legFem)*this.legLength*.1},c.in.cp2={x:c.in.x+.02*this.legFem,y:c.in.y+(.01*this.legFem-1)*this.legLength*.1},0<l&&(c.in.cp2.x+=.01*l),o.in={x:o.out.x-8-.05*this.legFullness,y:o.out.y},o.in.cp1=continueCurve(t.ankle.in,c.in,.7),o.intop={x:o.in.x+.2-.01*this.legFem,y:o.in.y+3},i&&(o.in.x-=.04*a,o.intop.x-=.04*a),o.in.cp2={x:o.in.x,y:o.in.y-.09*this.legLength},s.top={x:1.6,y:t.hip.y-.15*this.legLength,cp1:{x:o.in.x,y:o.in.y+.07*this.legLength}},s.top.cp2={x:2-.03*this.buttFullness-.04*this.legFem,y:s.top.y-.12*this.legLength},i&&(o.in.cp2.x-=.01*a,o.in.cp2.y+=.05*a,o.in.cp1.x-=.1*a,c.in.x-=.1*a,c.in.y+=.1*a,c.in.cp2.x-=.1*a,c.out.x+=.05*a,c.out.cp2.x+=.05*a,c.out.cp1.x+=.02*a,c.out.cp1.y+=.1*a,s.top.cp2.x-=.08*a,s.top.cp2.y-=.08*a,s.top.cp1.y+=.2*a),p=splitCurve(.55,o.in,s.top),s.in=p.left.p2,s.top=p.right.p2,u=connectEndPoints(s.top,t.hip),p=splitCurve(clamp(this.legFem/55-this.lowerMuscle/150-.1,0,1),s.top,u),s.fold=p.left.p2),[extractPoint(t.hip),t.thigh.out,t.knee.out,t.calf.out,t.ankle.out,{child:!0},t.ankle.in,t.calf.in,t.knee.in,t.knee.intop,t.thigh.in,t.thigh.top]}}]),LegHuman}();function neck_typeof(t){return(neck_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function _typeof(t){return typeof t}:function _typeof(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function neck_toConsumableArray(t){return function neck_arrayWithoutHoles(t){if(Array.isArray(t))return neck_arrayLikeToArray(t)}(t)||function neck_iterableToArray(t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(t))return Array.from(t)}(t)||neck_unsupportedIterableToArray(t)||function neck_nonIterableSpread(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function neck_slicedToArray(t,e){return function neck_arrayWithHoles(t){if(Array.isArray(t))return t}(t)||function neck_iterableToArrayLimit(t,e){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(t)))return;var r=[],n=!0,o=!1,a=void 0;try{for(var i,s=t[Symbol.iterator]();!(n=(i=s.next()).done)&&(r.push(i.value),!e||r.length!==e);n=!0);}catch(t){o=!0,a=t}finally{try{n||null==s.return||s.return()}finally{if(o)throw a}}return r}(t,e)||neck_unsupportedIterableToArray(t,e)||function neck_nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function neck_unsupportedIterableToArray(t,e){if(t){if("string"==typeof t)return neck_arrayLikeToArray(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);return"Object"===r&&t.constructor&&(r=t.constructor.name),"Map"===r||"Set"===r?Array.from(t):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?neck_arrayLikeToArray(t,e):void 0}}function neck_arrayLikeToArray(t,e){(null==e||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function neck_classCallCheck(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function neck_defineProperties(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function neck_createClass(t,e,r){return e&&neck_defineProperties(t.prototype,e),r&&neck_defineProperties(t,r),t}function neck_inherits(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&neck_setPrototypeOf(t,e)}function neck_setPrototypeOf(t,e){return(neck_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(t,e){return t.__proto__=e,t})(t,e)}function neck_createSuper(r){var n=function neck_isNativeReflectConstruct(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(t){return!1}}();return function _createSuperInternal(){var t,e=neck_getPrototypeOf(r);return function neck_possibleConstructorReturn(t,e){return!e||"object"!==neck_typeof(e)&&"function"!=typeof e?function neck_assertThisInitialized(t){if(void 0!==t)return t;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}(t):e}(this,n?(t=neck_getPrototypeOf(this).constructor,Reflect.construct(e,arguments,t)):e.apply(this,arguments))}}function neck_getPrototypeOf(t){return(neck_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var Xe=function(){neck_inherits(ChinShading,B);var n=neck_createSuper(ChinShading);function ChinShading(){neck_classCallCheck(this,ChinShading);for(var t=arguments.length,e=new Array(t),r=0;r<t;r++)e[r]=arguments[r];return n.call.apply(n,[this,{loc:"+neck",layer:_.GENITALS}].concat(e))}return neck_createClass(ChinShading,[{key:"calcDrawPoints",value:function calcDrawPoints(t){var e=neck_slicedToArray(adjustPoints(0,-2,t.skull.side,t.skull.bot,t.jaw,t.chin.out,t.chin.bot),5),r=e[0],n=e[1],o=e[2],a=e[3],i=e[4],s=reflect(a);s.cp1=reflect(i.cp2),s.cp2=reflect(i.cp1);var c=reflect(o);return c.cp1=reflect(a.cp2),c.cp2=reflect(a.cp1),adjustPoints.apply(void 0,[1.3,0].concat(neck_toConsumableArray(adjustPoints(1.8,0,r,n,o,a,i)),[s,c]))}}]),ChinShading}(),Ke=function(){neck_inherits(NeckShading,B);var n=neck_createSuper(NeckShading);function NeckShading(){neck_classCallCheck(this,NeckShading);for(var t=arguments.length,e=new Array(t),r=0;r<t;r++)e[r]=arguments[r];return n.call.apply(n,[this,{loc:"+neck",layer:_.GENITALS}].concat(e))}return neck_createClass(NeckShading,[{key:"calcDrawPoints",value:function calcDrawPoints(t){var e={x:0,y:t.neck.top.y},r={x:t.neck.cusp.x,y:t.neck.cusp.y-3};r.cp1=t.neck.cusp.cp1;var n={x:t.neck.top.x+1,y:t.neck.top.y};return n.cp1=t.neck.cusp.cp1,[e,r,n,e]}}]),NeckShading}(),Ze=function(){neck_inherits(Neck,O);var n=neck_createSuper(Neck);function Neck(){neck_classCallCheck(this,Neck);for(var t=arguments.length,e=new Array(t),r=0;r<t;r++)e[r]=arguments[r];return n.call.apply(n,[this,{loc:"neck",forcedSide:null,layer:_.FRONT,reflect:!0,shadingParts:[Xe,Ke]}].concat(e))}return Neck}(),tr=function(){neck_inherits(NeckHuman,Ze);var n=neck_createSuper(NeckHuman);function NeckHuman(){neck_classCallCheck(this,NeckHuman);for(var t=arguments.length,e=new Array(t),r=0;r<t;r++)e[r]=arguments[r];return n.call.apply(n,[this].concat(e))}return neck_createClass(NeckHuman,[{key:"calcDrawPoints",value:function calcDrawPoints(t,e,r){var n,o;return r&&((n=t.neck={}).nape={x:0,y:t.skull.y-.068*this.faceLength},n.top={x:.1*this.neckWidth+.05*this.upperMuscle-.01*this.faceFem,y:n.nape.y},n.cusp={x:n.top.x+.2,y:n.top.y-.1*this.neckLength},n.cusp.cp1=simpleQuadratic(n.top,n.cusp,.7,.1*e.neckCurve),12<this.upperMuscle?(o=splitCurve(clamp(1-(this.upperMuscle-12)/80,0,1),n.top,n.cusp),t.trapezius=o.right.p1):t.trapezius=clone(n.cusp),t.collarbone={x:n.cusp.x+.1*this.shoulderWidth+.01*this.upperMuscle,y:n.cusp.y-.105*this.torsoLength+.05*this.upperMuscle},12<this.upperMuscle?(t.collarbone.x+=.1*(this.upperMuscle-12),t.collarbone.cp1=averageQuadratic(t.trapezius,t.collarbone,.7,.02*this.upperMuscle,.02*this.upperMuscle)):t.collarbone.cp1=averageQuadratic(n.cusp,t.collarbone,.3,-.05*(12-this.upperMuscle),-.05*(12-this.upperMuscle))),[t.neck.nape,t.neck.top,t.neck.cusp,t.trapezius,t.collarbone]}}]),NeckHuman}();function penis_typeof(t){return(penis_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function _typeof(t){return typeof t}:function _typeof(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function penis_classCallCheck(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function penis_defineProperties(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function penis_createClass(t,e,r){return e&&penis_defineProperties(t.prototype,e),r&&penis_defineProperties(t,r),t}function penis_inherits(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&penis_setPrototypeOf(t,e)}function penis_setPrototypeOf(t,e){return(penis_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(t,e){return t.__proto__=e,t})(t,e)}function penis_createSuper(r){var n=function penis_isNativeReflectConstruct(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(t){return!1}}();return function _createSuperInternal(){var t,e=penis_getPrototypeOf(r);return function penis_possibleConstructorReturn(t,e){return!e||"object"!==penis_typeof(e)&&"function"!=typeof e?function penis_assertThisInitialized(t){if(void 0!==t)return t;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}(t):e}(this,n?(t=penis_getPrototypeOf(this).constructor,Reflect.construct(e,arguments,t)):e.apply(this,arguments))}}function penis_getPrototypeOf(t){return(penis_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var er=function(){penis_inherits(Penis,O);var n=penis_createSuper(Penis);function Penis(){penis_classCallCheck(this,Penis);for(var t=arguments.length,e=new Array(t),r=0;r<t;r++)e[r]=arguments[r];return n.call.apply(n,[this,{loc:"penis",layer:_.MALE_GENITALS,coverConceal:["groin","left leg"],aboveParts:["testicles"]}].concat(e))}return penis_createClass(Penis,[{key:"getLineWidth",value:function getLineWidth(t){return clamp(t.getDim("penisSize")/100,.8,1.5)}}]),Penis}(),rr=function(){penis_inherits(PenisHuman,er);var n=penis_createSuper(PenisHuman);function PenisHuman(){penis_classCallCheck(this,PenisHuman);for(var t=arguments.length,e=new Array(t),r=0;r<t;r++)e[r]=arguments[r];return n.call.apply(n,[this].concat(e))}return penis_createClass(PenisHuman,[{key:"stroke",value:function stroke(){return"inherit"}},{key:"calcDrawPoints",value:function calcDrawPoints(t,e,r){var n;r&&((n=t.penis={}).center={x:0,y:t.groin.y+3},n.top={x:n.center.x+1+.01*e.penisThickness+.005*this.penisSize,y:n.center.y+.006*this.penisSize},n.bot={x:n.top.x-clamp(.5-.01*e.penisThickness-1e-4*this.penisSize,0,5),y:n.top.y-.1*this.penisSize},n.tip={x:n.center.x,y:n.bot.y-1-.01*this.penisSize},n.bot.cp1=simpleQuadratic(n.top,n.bot,.4,clamp(.5+.01*e.penisThickness-.002*this.penisSize,0,3)),n.tip.cp1={x:n.bot.x+.004*this.penisSize,y:n.bot.y-.005*this.penisSize},n.tip.cp2={x:n.tip.x+1,y:n.tip.y+.2});var o=reflect(t.penis.bot),a=reflect(t.penis.top);return o.cp1=reflect(t.penis.tip.cp2),o.cp2=reflect(t.penis.tip.cp1),a.cp1=reflect(t.penis.bot.cp1),10<this.penisSize?[t.penis.top,t.penis.bot,t.penis.tip,o,a]:[]}}]),PenisHuman}(),nr=function(){penis_inherits(PenisHead,xt);var n=penis_createSuper(PenisHead);function PenisHead(){penis_classCallCheck(this,PenisHead);for(var t=arguments.length,e=new Array(t),r=0;r<t;r++)e[r]=arguments[r];return n.call.apply(n,[this,{loc:"penis",layer:_.MALE_GENITALS,coverConceal:["groin","left leg"]}].concat(e))}return penis_createClass(PenisHead,[{key:"getLineWidth",value:function getLineWidth(t){return clamp(t.getDim("penisSize")/100,.8,1.5)}}]),PenisHead}(),or=function(){penis_inherits(PenisHeadHuman,nr);var n=penis_createSuper(PenisHeadHuman);function PenisHeadHuman(){penis_classCallCheck(this,PenisHeadHuman);for(var t=arguments.length,e=new Array(t),r=0;r<t;r++)e[r]=arguments[r];return n.call.apply(n,[this].concat(e))}return penis_createClass(PenisHeadHuman,[{key:"fill",value:function fill(t,e){return adjustColor(e.baseStroke,{l:-5,s:-5})}},{key:"stroke",value:function stroke(t,e){return adjustColor(e.baseStroke,{l:-5,s:-3})}},{key:"calcDrawPoints",value:function calcDrawPoints(t,e,r){if(e.arousal<50)return[];requirePart("penis",t),r&&(t.penis.tiptop={x:t.penis.center.x,y:t.penis.bot.y+.003*this.penisSize});var n=extractPoint(t.penis.bot);n.cp1=simpleQuadratic(t.penis.tiptop,n,.5,.5);var o=reflect(t.penis.bot);return o.cp1=reflect(t.penis.tip.cp2),o.cp2=reflect(t.penis.tip.cp1),t.penis.tiptop.cp1=simpleQuadratic(o,t.penis.tiptop,.5,.5),[t.penis.tiptop,n,t.penis.tip,o,t.penis.tiptop]}}]),PenisHeadHuman}();function testicles_defineProperties(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function testicles_typeof(t){return(testicles_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function _typeof(t){return typeof t}:function _typeof(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function testicles_classCallCheck(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function testicles_inherits(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&testicles_setPrototypeOf(t,e)}function testicles_setPrototypeOf(t,e){return(testicles_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(t,e){return t.__proto__=e,t})(t,e)}function testicles_createSuper(r){var n=function testicles_isNativeReflectConstruct(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(t){return!1}}();return function _createSuperInternal(){var t,e=testicles_getPrototypeOf(r);return function testicles_possibleConstructorReturn(t,e){return!e||"object"!==testicles_typeof(e)&&"function"!=typeof e?function testicles_assertThisInitialized(t){if(void 0!==t)return t;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}(t):e}(this,n?(t=testicles_getPrototypeOf(this).constructor,Reflect.construct(e,arguments,t)):e.apply(this,arguments))}}function testicles_getPrototypeOf(t){return(testicles_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var ar=function(){testicles_inherits(Testicles,O);var n=testicles_createSuper(Testicles);function Testicles(){testicles_classCallCheck(this,Testicles);for(var t=arguments.length,e=new Array(t),r=0;r<t;r++)e[r]=arguments[r];return n.call.apply(n,[this,{loc:"testicles",layer:_.MALE_GENITALS,coverConceal:["groin","left leg"]}].concat(e))}return Testicles}(),ir=function(){testicles_inherits(TesticlesHuman,ar);var n=testicles_createSuper(TesticlesHuman);function TesticlesHuman(){testicles_classCallCheck(this,TesticlesHuman);for(var t=arguments.length,e=new Array(t),r=0;r<t;r++)e[r]=arguments[r];return n.call.apply(n,[this,{reflect:!0}].concat(e))}return function testicles_createClass(t,e,r){e&&testicles_defineProperties(t.prototype,e),r&&testicles_defineProperties(t,r)}(TesticlesHuman,[{key:"getLineWidth",value:function getLineWidth(t){return clamp(t.getDim("testicleSize")/60,.5,2)}},{key:"stroke",value:function stroke(){return"inherit"}},{key:"calcDrawPoints",value:function calcDrawPoints(t,e,r){var n;return r&&((n=t.testicles={}).center={x:0,y:t.groin.y+3},n.top={x:n.center.x+1.5+.003*this.testicleSize,y:n.center.y+.006*this.testicleSize},n.side={x:n.center.x+.06*this.testicleSize,y:n.center.y-.1*this.testicleSize},n.bot={x:n.center.x,y:n.side.y-.02*this.testicleSize},n.side.cp1={x:n.top.x,y:n.top.y-.04*this.testicleSize},n.side.cp2={x:n.side.x+.01*this.testicleSize,y:n.side.y+.05*this.testicleSize},n.bot.cp1=simpleQuadratic(n.side,n.bot,.5,.05*this.testicleSize),n.center.cp1=simpleQuadratic(n.bot,n.center,.3,.01*this.testicleSize)),20<this.testicleSize?[t.testicles.top,t.testicles.side,t.testicles.bot,adjust(t.testicles.center,0,-4)]:[]}}]),TesticlesHuman}();function torso_typeof(t){return(torso_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function _typeof(t){return typeof t}:function _typeof(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function torso_slicedToArray(t,e){return function torso_arrayWithHoles(t){if(Array.isArray(t))return t}(t)||function torso_iterableToArrayLimit(t,e){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(t)))return;var r=[],n=!0,o=!1,a=void 0;try{for(var i,s=t[Symbol.iterator]();!(n=(i=s.next()).done)&&(r.push(i.value),!e||r.length!==e);n=!0);}catch(t){o=!0,a=t}finally{try{n||null==s.return||s.return()}finally{if(o)throw a}}return r}(t,e)||function torso_unsupportedIterableToArray(t,e){if(!t)return;if("string"==typeof t)return torso_arrayLikeToArray(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);"Object"===r&&t.constructor&&(r=t.constructor.name);if("Map"===r||"Set"===r)return Array.from(t);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return torso_arrayLikeToArray(t,e)}(t,e)||function torso_nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function torso_arrayLikeToArray(t,e){(null==e||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function torso_classCallCheck(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function torso_defineProperties(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function torso_createClass(t,e,r){return e&&torso_defineProperties(t.prototype,e),r&&torso_defineProperties(t,r),t}function torso_inherits(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&torso_setPrototypeOf(t,e)}function torso_setPrototypeOf(t,e){return(torso_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(t,e){return t.__proto__=e,t})(t,e)}function torso_createSuper(r){var n=function torso_isNativeReflectConstruct(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(t){return!1}}();return function _createSuperInternal(){var t,e=torso_getPrototypeOf(r);return function torso_possibleConstructorReturn(t,e){return!e||"object"!==torso_typeof(e)&&"function"!=typeof e?function torso_assertThisInitialized(t){if(void 0!==t)return t;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}(t):e}(this,n?(t=torso_getPrototypeOf(this).constructor,Reflect.construct(e,arguments,t)):e.apply(this,arguments))}}function torso_getPrototypeOf(t){return(torso_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function calcTorsoShading(t){var e=t.armpit;t.breast&&(e=splitCurve(.1,t.armpit,t.waist).left.p2);var r=.1*this.bellyProtrusion,n=adjust(e,-2-.03*this.shoulderWidth,-5),o=adjust(t.waist,-1-.03*this.waistWidth+.3*r,-4);o.cp1.x-=.5*r;var a=adjust(t.hip,-3-.04*this.hipWidth-r,-r);a.cp1=adjust(a.cp1,.02*this.hipWidth+1.8*r,.2*-r),a.cp2=adjust(a.cp2,.3*r,.1*-r);var i={x:t.hip.x+5,y:t.hip.y+.1*r},s={x:t.waist.x+5,y:t.waist.y},c={x:t.armpit.x+5,y:e.y};return n.cp1=simpleQuadratic(c,n,.7,-4),[n,o,a,i,s,c,n]}var sr=function(){torso_inherits(BellyTopShading,B);var n=torso_createSuper(BellyTopShading);function BellyTopShading(){torso_classCallCheck(this,BellyTopShading);for(var t=arguments.length,e=new Array(t),r=0;r<t;r++)e[r]=arguments[r];return n.call.apply(n,[this,{loc:"+torso",layer:_.FRONT}].concat(e))}return torso_createClass(BellyTopShading,[{key:"fill",value:function fill(){return R}},{key:"calcDrawPoints",value:function calcDrawPoints(t){var e=.1*this.bellyProtrusion;if(0==e)return[];var r=torso_slicedToArray(calcTorsoShading.call(this,t),2),n=r[0],o=r[1],a=adjust(splitCurve(.5,n,o).left.p2,-e,0);return a.cp1=simpleQuadratic(n,a,.5,.2*dist(n,a)),a.cp2=null,o.cp1=simpleQuadratic(a,o,.3,2),o.cp2=null,[n,a,o,n]}}]),BellyTopShading}(),cr=function(){torso_inherits(TorsoShading,B);var n=torso_createSuper(TorsoShading);function TorsoShading(){torso_classCallCheck(this,TorsoShading);for(var t=arguments.length,e=new Array(t),r=0;r<t;r++)e[r]=arguments[r];return n.call.apply(n,[this,{loc:"+torso",layer:_.MIDRIFT}].concat(e))}return torso_createClass(TorsoShading,[{key:"fill",value:function fill(){return R}},{key:"calcDrawPoints",value:function calcDrawPoints(t){return calcTorsoShading.call(this,t)}}]),TorsoShading}(),lr=function(){torso_inherits(Torso,O);var n=torso_createSuper(Torso);function Torso(){torso_classCallCheck(this,Torso);for(var t=arguments.length,e=new Array(t),r=0;r<t;r++)e[r]=arguments[r];return n.call.apply(n,[this,{loc:"torso",forcedSide:null,reflect:!0,layer:_.FRONT,shadingParts:[cr,sr]}].concat(e))}return Torso}(),ur=function(){torso_inherits(TorsoHuman,lr);var n=torso_createSuper(TorsoHuman);function TorsoHuman(){torso_classCallCheck(this,TorsoHuman);for(var t=arguments.length,e=new Array(t),r=0;r<t;r++)e[r]=arguments[r];return n.call.apply(n,[this].concat(e))}return torso_createClass(TorsoHuman,[{key:"calcDrawPoints",value:function calcDrawPoints(t,e,r){var n,o,a;return r&&(fillerDefinition(t,"armpit",{x:t.collarbone.x-.03*this.upperMuscle,y:t.collarbone.y-12-.1*this.upperMuscle}),t.hasOwnProperty("elbow")?(n=splitCurve(clamp(1.2-this.upperMuscle/40,.6,1),t.elbow.in,t.armpit),t.lat=n.right.p1,t.lat.cp1=n.right.p2.cp2,t.lat.cp2=n.right.p2.cp1):fillerDefinition(t,"lat",{x:t.armpit.x+.5,y:t.armpit.y-3}),o=.1*this.bellyProtrusion,a=.1*(this.shoulderWidth-80),t.waist={x:.1*this.waistWidth+.7*a+.5*o,y:t.armpit.y-.33*this.torsoLength-.5*o,cp1:{x:t.armpit.x-.1*o,y:t.armpit.y-5-.5*o}},t.waist.cp2={x:t.waist.x-.5*o,y:t.waist.y+.01*this.waistWidth+.1*a+o},t.hip={x:.1*this.hipWidth+.5*a,y:t.waist.y-.32*this.torsoLength+.5*o,cp1:{x:t.waist.x+.5*o,y:t.waist.y-.2*this.torsoLength}},t.hip.cp2={x:t.hip.x-.03*this.buttFullness-.05*this.legFem+.1*o,y:t.hip.y+4+.015*this.buttFullness-.5*o},t.pelvis={x:0,y:t.hip.y-.05*this.torsoLength}),t.hasOwnProperty("knee")?[t.armpit,t.lat,t.waist,t.hip,b]:[t.armpit,t.lat,t.waist,t.hip,t.groin]}}]),TorsoHuman}();function vagina_defineProperties(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function vagina_typeof(t){return(vagina_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function _typeof(t){return typeof t}:function _typeof(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function vagina_classCallCheck(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function vagina_inherits(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&vagina_setPrototypeOf(t,e)}function vagina_setPrototypeOf(t,e){return(vagina_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(t,e){return t.__proto__=e,t})(t,e)}function vagina_createSuper(r){var n=function vagina_isNativeReflectConstruct(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(t){return!1}}();return function _createSuperInternal(){var t,e=vagina_getPrototypeOf(r);return function vagina_possibleConstructorReturn(t,e){return!e||"object"!==vagina_typeof(e)&&"function"!=typeof e?function vagina_assertThisInitialized(t){if(void 0!==t)return t;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}(t):e}(this,n?(t=vagina_getPrototypeOf(this).constructor,Reflect.construct(e,arguments,t)):e.apply(this,arguments))}}function vagina_getPrototypeOf(t){return(vagina_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var pr=function(){vagina_inherits(Vagina,O);var n=vagina_createSuper(Vagina);function Vagina(){vagina_classCallCheck(this,Vagina);for(var t=arguments.length,e=new Array(t),r=0;r<t;r++)e[r]=arguments[r];return n.call.apply(n,[this,{loc:"vagina",forcedSide:null,layer:_.FRONT,aboveParts:["parts groin"],belowParts:["leg","clothingParts groin"]}].concat(e))}return Vagina}(),fr=function(){vagina_inherits(VaginaHuman,pr);var n=vagina_createSuper(VaginaHuman);function VaginaHuman(){vagina_classCallCheck(this,VaginaHuman);for(var t=arguments.length,e=new Array(t),r=0;r<t;r++)e[r]=arguments[r];return n.call.apply(n,[this,{reflect:!0}].concat(e))}return function vagina_createClass(t,e,r){e&&vagina_defineProperties(t.prototype,e),r&&vagina_defineProperties(t,r)}(VaginaHuman,[{key:"stroke",value:function stroke(){return"inherit"}},{key:"calcDrawPoints",value:function calcDrawPoints(t,e,r){return r&&(t.vagina={},t.coverGroin=!0,t.vagina.top={x:t.groin.x,y:t.groin.y+.022*this.vaginaSize+.005*e.labiaFullness},t.vagina.side=extractPoint(t.thigh.top),t.vagina.side.y+=.1*e.labiaFullness+.005*this.vaginaSize+.5,t.vagina.side.x+=.02*e.labiaFullness+.002*this.vaginaSize,t.vagina.top.cp1={x:t.vagina.side.x,y:t.vagina.side.y-.8-(.1*e.labiaFullness+.005*this.vaginaSize)},t.vagina.top.cp2={x:t.vagina.top.x,y:t.vagina.top.y-.032*this.vaginaSize}),[t.vagina.side,t.vagina.top]}}]),VaginaHuman}();function sweater_typeof(t){return(sweater_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function _typeof(t){return typeof t}:function _typeof(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function sweater_classCallCheck(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function sweater_defineProperties(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function sweater_createClass(t,e,r){return e&&sweater_defineProperties(t.prototype,e),r&&sweater_defineProperties(t,r),t}function sweater_inherits(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&sweater_setPrototypeOf(t,e)}function sweater_setPrototypeOf(t,e){return(sweater_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(t,e){return t.__proto__=e,t})(t,e)}function sweater_createSuper(r){var n=function sweater_isNativeReflectConstruct(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(t){return!1}}();return function _createSuperInternal(){var t,e=sweater_getPrototypeOf(r);return function sweater_possibleConstructorReturn(t,e){return!e||"object"!==sweater_typeof(e)&&"function"!=typeof e?function sweater_assertThisInitialized(t){if(void 0!==t)return t;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}(t):e}(this,n?(t=sweater_getPrototypeOf(this).constructor,Reflect.construct(e,arguments,t)):e.apply(this,arguments))}}function sweater_getPrototypeOf(t){return(sweater_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var yr=function(){sweater_inherits(SweaterBasePart,pt);var n=sweater_createSuper(SweaterBasePart);function SweaterBasePart(){sweater_classCallCheck(this,SweaterBasePart);for(var t=arguments.length,e=new Array(t),r=0;r<t;r++)e[r]=arguments[r];return n.call.apply(n,[this,{layer:_.FRONT,loc:"torso",reflect:!0,aboveParts:["parts neck","parts torso","decorativeParts torso"],aboveSameLayerParts:["groin"]}].concat(e))}return sweater_createClass(SweaterBasePart,[{key:"renderClothingPoints",value:function renderClothingPoints(t,e){var r=calcSweaterBase.call(this,t),n=r.top,o=r.out,a=r.cusp,i=r.collarbone,s=r.waist,c=r.bot;ut.simpleStrokeFill(e,t,this),e.beginPath(),drawPoints(e,n,o,a,i,t.armpit,t.lat,s,c.out,c.bot),e.fill(),e.beginPath(),drawPoints(e,n,o,a,i,v,t.armpit,t.lat,s,c.out,c.bot),e.stroke()}}]),SweaterBasePart}();function calcSweaterBase(t){var e=splitCurve(1-this.neckCoverage,t.neck.top,t.neck.cusp),r=e.left.p2,n={x:0,y:r.y-2};r.cp1={x:.5*n.x+.5*r.x,y:n.y};var o=extractPoint(t.trapezius);o.cp1={x:r.x+2*this.neckCoverage,y:r.y-1},o.cp2={x:o.x,y:o.y+3*this.neckCoverage},e=splitCurve(this.stomachCoverage,t.waist,t.hip);var a={};return a.out=e.left.p2,a.out.x+=.4*this.thickness,a.bot=extractPoint(t.pelvis),a.bot.y+=a.out.y-t.hip.y,a.bot.cp1={x:.5*a.bot.x+.5*a.out.x,y:a.bot.y},{top:n,out:r,cusp:o,collarbone:clone(t.collarbone),waist:adjust(t.waist,.8*this.thickness,0),bot:a}}var hr=function(){sweater_inherits(CoveredBreastPart,pt);var n=sweater_createSuper(CoveredBreastPart);function CoveredBreastPart(){sweater_classCallCheck(this,CoveredBreastPart);for(var t=arguments.length,e=new Array(t),r=0;r<t;r++)e[r]=arguments[r];return n.call.apply(n,[this,{layer:_.GENITALS,loc:"chest",reflect:!0,aboveParts:["parts chest","decorativeParts chest"]}].concat(e))}return sweater_createClass(CoveredBreastPart,[{key:"renderClothingPoints",value:function renderClothingPoints(t,e){var r,n,o,a,i,s;coverNipplesIfHaveNoBreasts(t,e,this)||(r=adjust(t.breast.top,0,0),n=adjust(t.breast.tip,.1,0),o=adjust(t.breast.bot,0,-.1),a=adjust(t.breast.in,0,0),i=adjust(t.breast.cleavage,-.1,0),s=adjust(connectEndPoints(i,r),0,.2),ut.simpleStrokeFill(e,t,this),e.beginPath(),drawPoints(e,r,n,o,a,i,s),e.fill(),e.beginPath(),drawPoints(e,r,n,o,a),e.stroke())}}]),CoveredBreastPart}(),dr=function(){sweater_inherits(LongSleevePart,pt);var n=sweater_createSuper(LongSleevePart);function LongSleevePart(){sweater_classCallCheck(this,LongSleevePart);for(var t=arguments.length,e=new Array(t),r=0;r<t;r++)e[r]=arguments[r];return n.call.apply(n,[this,{layer:_.ARMS,loc:"arm",aboveParts:["parts arm","decorativeParts arm","parts hand"]},{sleeveLength:1}].concat(e))}return sweater_createClass(LongSleevePart,[{key:"renderClothingPoints",value:function renderClothingPoints(t,e){var r=calcLongSleeve.call(this,t),n=r.collarbone,o=r.deltoids,a=r.shoulder,i=r.elbowOut,s=r.out,c=r.bot,l=r.elbow,u=r.armpit;ut.simpleStrokeFill(e,t,this),e.beginPath(),drawPoints(e,n,o,a,i,s,c,l,u,connectEndPoints(u,n)),e.fill(),e.beginPath(),drawPoints(e,n,o,a,i,s,c,l,u),e.stroke()}}]),LongSleevePart}();function calcLongSleeve(t){var e=splitCurve(this.sleeveLength,t.elbow.out,t.wrist.out),r=e.left.p2;r.cp1&&r.cp2&&(r.cp1.x+=.5*this.thickness,r.cp2.x+=.3*this.thickness);var n=(e=splitCurve(.9*(1-this.sleeveLength),t.wrist.in,t.elbow.in)).left.p2,o=adjust(o=e.right.p2,.4*-this.thickness,0),a=extractPoint(t.collarbone);a.x-=.2;var i=adjust(t.shoulder,.5*this.thickness,0),s=adjust(t.elbow.out,.5*this.thickness,0);n.cp1=simpleQuadratic(r,n,.5,1);var c=adjust(t.armpit,-.2,0);return{collarbone:a,deltoids:t.deltoids,shoulder:i,elbowOut:s,out:r,bot:n,elbow:o,armpit:c}}var gr=function(){sweater_inherits(ShortSleevePart,pt);var n=sweater_createSuper(ShortSleevePart);function ShortSleevePart(){sweater_classCallCheck(this,ShortSleevePart);for(var t=arguments.length,e=new Array(t),r=0;r<t;r++)e[r]=arguments[r];return n.call.apply(n,[this,{layer:_.ARMS,loc:"arm",aboveParts:["parts arm","decorativeParts arm"]}].concat(e))}return sweater_createClass(ShortSleevePart,[{key:"renderClothingPoints",value:function renderClothingPoints(t,e){var r=splitCurve(1-this.sleeveLength,t.shoulder,t.elbow.out),n=r.left.p2,o=(r=splitCurve(.9*(1-this.sleeveLength),t.elbow.in,t.armpit)).left.p2,a=adjust(a=r.right.p2,-.1,0),i=calcSweaterBase.call(this,t).collarbone;i.x-=.1;var s=adjust(t.shoulder,.5*this.thickness,0);o.cp1=simpleQuadratic(n,o,.5,1),ut.simpleStrokeFill(e,t,this),e.beginPath(),drawPoints(e,i,t.deltoids,s,n,o,a,connectEndPoints(a,i)),e.fill(),e.beginPath(),drawPoints(e,i,t.deltoids,s,n,o,a),e.stroke()}}]),ShortSleevePart}(),Pr=function(){sweater_inherits(Sweater,lt);var n=sweater_createSuper(Sweater);function Sweater(){sweater_classCallCheck(this,Sweater);for(var t=arguments.length,e=new Array(t),r=0;r<t;r++)e[r]=arguments[r];return n.call.apply(n,[this,{clothingLayer:ut.Layer.MID,stomachCoverage:.8,neckCoverage:.5,sleeveLength:.8}].concat(e))}return Sweater}(),vr=function(){sweater_inherits(LongSleevedSweater,Pr);var n=sweater_createSuper(LongSleevedSweater);function LongSleevedSweater(){sweater_classCallCheck(this,LongSleevedSweater);for(var t=arguments.length,e=new Array(t),r=0;r<t;r++)e[r]=arguments[r];return n.call.apply(n,[this,{stomachCoverage:.7,neckCoverage:.5,sleeveLength:1}].concat(e))}return sweater_createClass(LongSleevedSweater,[{key:"stroke",value:function stroke(){return"#000"}},{key:"fill",value:function fill(){return"hsl(0,10%,20%)"}},{key:"partPrototypes",get:function get(){return[{side:null,Part:yr},{side:null,Part:hr},{side:A.LEFT,Part:dr},{side:A.RIGHT,Part:dr}]}}]),LongSleevedSweater}(),br=function(){sweater_inherits(AsymmetricSleevedSweater,Pr);var n=sweater_createSuper(AsymmetricSleevedSweater);function AsymmetricSleevedSweater(){sweater_classCallCheck(this,AsymmetricSleevedSweater);for(var t=arguments.length,e=new Array(t),r=0;r<t;r++)e[r]=arguments[r];return n.call.apply(n,[this,{stomachCoverage:.7,neckCoverage:.5,sleeveLength:1}].concat(e))}return sweater_createClass(AsymmetricSleevedSweater,[{key:"stroke",value:function stroke(){return"#000"}},{key:"fill",value:function fill(){return"hsl(0,10%,20%)"}},{key:"partPrototypes",get:function get(){return[{side:null,Part:yr},{side:null,Part:hr},{side:A.LEFT,Part:gr},{side:A.RIGHT,Part:dr}]}}]),AsymmetricSleevedSweater}();function jacket_typeof(t){return(jacket_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function _typeof(t){return typeof t}:function _typeof(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function jacket_classCallCheck(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function jacket_defineProperties(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function jacket_createClass(t,e,r){return e&&jacket_defineProperties(t.prototype,e),r&&jacket_defineProperties(t,r),t}function jacket_inherits(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&jacket_setPrototypeOf(t,e)}function jacket_setPrototypeOf(t,e){return(jacket_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(t,e){return t.__proto__=e,t})(t,e)}function jacket_createSuper(r){var n=function jacket_isNativeReflectConstruct(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(t){return!1}}();return function _createSuperInternal(){var t,e=jacket_getPrototypeOf(r);return function jacket_possibleConstructorReturn(t,e){return!e||"object"!==jacket_typeof(e)&&"function"!=typeof e?function jacket_assertThisInitialized(t){if(void 0!==t)return t;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}(t):e}(this,n?(t=jacket_getPrototypeOf(this).constructor,Reflect.construct(e,arguments,t)):e.apply(this,arguments))}}function jacket_getPrototypeOf(t){return(jacket_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var _r=function(){jacket_inherits(JacketBaseShading,B);var n=jacket_createSuper(JacketBaseShading);function JacketBaseShading(){jacket_classCallCheck(this,JacketBaseShading);for(var t=arguments.length,e=new Array(t),r=0;r<t;r++)e[r]=arguments[r];return n.call.apply(n,[this,{loc:"+torso",layer:_.GENITALS,forcedSide:A.LEFT}].concat(e))}return jacket_createClass(JacketBaseShading,[{key:"calcDrawPoints",value:function calcDrawPoints(t){var e=calcJacket.call(this,t),r=e.top,n=e.mid,o=e.bot,a=1-this.chestCoverage,i=extractPoint(n);return i.cp1=o.cp1,i=adjust(i,3*-a,3*a),r.cp1=adjust(n.cp2,0*-a,-a),r.cp2=adjust(n.cp1,6*-a,2*-a),[r,n,o,i,i,r]}}]),JacketBaseShading}(),mr=function(){jacket_inherits(JacketBasePart,pt);var n=jacket_createSuper(JacketBasePart);function JacketBasePart(){jacket_classCallCheck(this,JacketBasePart);for(var t=arguments.length,e=new Array(t),r=0;r<t;r++)e[r]=arguments[r];return n.call.apply(n,[this,{layer:_.GENITALS,loc:"torso",reflect:!0,aboveParts:["parts neck","parts chest","decorativeParts chest"],belowParts:["head"],shadingParts:[_r]}].concat(e))}return jacket_createClass(JacketBasePart,[{key:"renderClothingPoints",value:function renderClothingPoints(t,e){var r=calcJacket.call(this,t),n=r.collarbone,o=r.top,a=r.mid,i=r.bot,s=r.outBot,c=r.outMid,l=r.breastBot,u=r.breastTip,p=r.outTop;ut.simpleStrokeFill(e,t,this),e.beginPath(),drawPoints(e,n,o,a,i,s,c,l,u,p),e.fill(),e.stroke(),setStrokeAndFill(e,{stroke:this.liningPattern,fill:d},t),e.lineWidth=this.liningWidth,e.clip(),e.beginPath(),drawPoints(e,o,a,i,s),e.stroke()}}]),JacketBasePart}();function calcJacket(t){var e,r,n,o,a,i,s,c,l,u,p,f=splitCurve(.2,t.trapezius,t.collarbone),y=f.left.p2,h=extractPoint(t.collarbone),d=1-this.chestCoverage,g={x:(f=splitCurve(this.stomachCoverage,t.waist,t.hip)).left.p2.x*(.2+clamp(d,0,.8)),y:f.left.p2.y},P=adjust(f.left.p2,1,-1),v=t.breast;return v?((e={x:t.waist.x*clamp(.8*d,0,1),y:.5*g.y+.5*v.bot.y}).cp1={x:v.center.x*clamp(.6-.7*this.chestCoverage,0,1)-2*d,y:v.top.y},e.cp2={x:v.tip.x*clamp(1.2-.85*this.chestCoverage,0,1),y:v.tip.y},g.cp1=continueCurve(y,e,clamp(.2+.5*d,0,1)),r=extractPoint(v.top),p=adjust(extractPoint(v.tip),.3,0),(i=a=(f=splitCurve(clamp(.06*(o=v.tip.x-t.waist.x)-.2,0,this.stomachCoverage),t.waist,P)).left.p2).x+=.1,a.cp1=f.right.p2.cp2,a.cp2=f.right.p2.cp1,a=adjust(a,1,0),2<o?((n=adjust((f=splitCurve(clamp(.065*o,0,1),v.tip,v.bot)).left.p2,.05*o,.05*-o-1)).cp1=continueCurve(P,a,1),p.cp1=f.left.p2.cp2,p.cp2=f.left.p2.cp1,p.cp2.y-=clamp(3-.2*o,0,5)):n=extractPoint(v.bot),r.cp1=v.tip.cp2,r.cp2=v.tip.cp1,a=adjust(a,(i.x-a.x)*this.cling,0),c=n.y>t.waist.y?(s=t.lat,t.waist):(s=t.waist,t.hip),f=splitCurve((l=interpolateCurve(s,c,{x:null,y:n.y})).t,s,c),l.cp1=f.right.p2.cp2,l.cp2=f.right.p2.cp1,n=transformCurve(i,n,i,l,this.cling),c=p.y>t.waist.y?(s=t.lat,t.waist):(s=t.waist,t.hip),p=adjust(p,u=(interpolateCurve(s,c,{x:null,y:p.y}).x-p.x)*this.cling,0),r.cp1+=u,r.cp2+=u):((e={x:.5*t.waist.x,y:t.waist.y}).cp1=simpleQuadratic(y,e,.5,3),g.cp1=simpleQuadratic(e,g,.5,-5),(a=extractPoint(t.waist)).cp1=t.hip.cp2,a.cp2=t.hip.cp1,a=adjust(a,.05*a.x,0),r=extractPoint(t.armpit)),P.cp1=null,P.cp2=null,{collarbone:h,top:y,mid:e,bot:g,outBot:P,outMid:a,breastBot:n,breastTip:p,outTop:r}}var Sr=function(){jacket_inherits(MediumLooseSleevePart,pt);var n=jacket_createSuper(MediumLooseSleevePart);function MediumLooseSleevePart(){jacket_classCallCheck(this,MediumLooseSleevePart);for(var t=arguments.length,e=new Array(t),r=0;r<t;r++)e[r]=arguments[r];return n.call.apply(n,[this,{layer:_.ARMS,loc:"arm",aboveParts:["parts arm","decorativeParts arm","parts hand"]}].concat(e))}return jacket_createClass(MediumLooseSleevePart,[{key:"renderClothingPoints",value:function renderClothingPoints(t,e){var r,n=extractPoint(t.collarbone);n.x-=.3,t.deltoids?(r=adjust(t.deltoids,1,0)).x+=2:r=adjust(t.shoulder,1,0),r.x+=1;var o={x:.5*t.armpit.x+.5*t.elbow.in.x,y:t.elbow.in.y},a={x:t.elbow.out.x+4,y:o.y+2};o.cp1={x:.7*a.x+.3*o.x,y:a.y},o.cp2={x:.3*a.x+.7*o.x,y:o.y-1};var i=calcJacket.call(this,t).outTop;i.x-=.3,ut.simpleStrokeFill(e,t,this),e.beginPath(),drawPoints(e,n,r,a,o,i),e.fill(),e.stroke(),setStrokeAndFill(e,{stroke:this.liningPattern,fill:d},t),e.lineWidth=this.liningWidth,e.clip(),e.beginPath(),drawPoints(e,a,o),e.stroke()}}]),MediumLooseSleevePart}(),kr=function(){jacket_inherits(Jacket,lt);var n=jacket_createSuper(Jacket);function Jacket(){jacket_classCallCheck(this,Jacket);for(var t=arguments.length,e=new Array(t),r=0;r<t;r++)e[r]=arguments[r];return n.call.apply(n,[this,{clothingLayer:ut.Layer.MID,stomachCoverage:.8,chestCoverage:.5,sleeveLength:.8,liningWidth:1,liningPattern:"#000",thickness:.8,cling:.4}].concat(e))}return Jacket}(),Cr=function(){jacket_inherits(LooseJacket,kr);var n=jacket_createSuper(LooseJacket);function LooseJacket(){jacket_classCallCheck(this,LooseJacket);for(var t=arguments.length,e=new Array(t),r=0;r<t;r++)e[r]=arguments[r];return n.call.apply(n,[this,{stomachCoverage:.7,sleeveLength:1}].concat(e))}return jacket_createClass(LooseJacket,[{key:"fill",value:function fill(){return"hsl(0,10%,20%)"}},{key:"partPrototypes",get:function get(){return[{side:null,Part:mr},{side:A.LEFT,Part:Sr},{side:A.RIGHT,Part:Sr}]}}]),LooseJacket}();function dressshirt_typeof(t){return(dressshirt_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function _typeof(t){return typeof t}:function _typeof(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function dressshirt_toConsumableArray(t){return function dressshirt_arrayWithoutHoles(t){if(Array.isArray(t))return dressshirt_arrayLikeToArray(t)}(t)||function dressshirt_iterableToArray(t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(t))return Array.from(t)}(t)||function dressshirt_unsupportedIterableToArray(t,e){if(!t)return;if("string"==typeof t)return dressshirt_arrayLikeToArray(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);"Object"===r&&t.constructor&&(r=t.constructor.name);if("Map"===r||"Set"===r)return Array.from(t);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return dressshirt_arrayLikeToArray(t,e)}(t)||function dressshirt_nonIterableSpread(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function dressshirt_arrayLikeToArray(t,e){(null==e||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function dressshirt_classCallCheck(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function dressshirt_defineProperties(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function dressshirt_createClass(t,e,r){return e&&dressshirt_defineProperties(t.prototype,e),r&&dressshirt_defineProperties(t,r),t}function dressshirt_inherits(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&dressshirt_setPrototypeOf(t,e)}function dressshirt_setPrototypeOf(t,e){return(dressshirt_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(t,e){return t.__proto__=e,t})(t,e)}function dressshirt_createSuper(r){var n=function dressshirt_isNativeReflectConstruct(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(t){return!1}}();return function _createSuperInternal(){var t,e=dressshirt_getPrototypeOf(r);return function dressshirt_possibleConstructorReturn(t,e){return!e||"object"!==dressshirt_typeof(e)&&"function"!=typeof e?function dressshirt_assertThisInitialized(t){if(void 0!==t)return t;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}(t):e}(this,n?(t=dressshirt_getPrototypeOf(this).constructor,Reflect.construct(e,arguments,t)):e.apply(this,arguments))}}function dressshirt_getPrototypeOf(t){return(dressshirt_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function calcDressShirt(t){var e=calcJacket.call(this,t),r=e.outBot,n=e.outMid,o=e.breastBot,a=e.breastTip,i=e.outTop,s=calcSweaterBase.call(this,t),c=s.top,l=s.cusp,u=s.collarbone,p=s.bot;return c.x+=this.topParted,c.y-=.4*this.topParted,p.bot.x+=this.botParted,p.bot=connectEndPoints(c,p.bot,-.01*(this.topParted+this.botParted)),r.cp1=simpleQuadratic(p.bot,r,.5,-1),{collarbone:u,cusp:l=reverseDrawPoint(l,u),top:c,bot:p,outBot:r,outMid:n,breastBot:o,breastTip:a,outTop:i}}var wr=function(){dressshirt_inherits(DressShirtBasePart,pt);var n=dressshirt_createSuper(DressShirtBasePart);function DressShirtBasePart(){dressshirt_classCallCheck(this,DressShirtBasePart);for(var t=arguments.length,e=new Array(t),r=0;r<t;r++)e[r]=arguments[r];return n.call.apply(n,[this,{layer:_.FRONT,loc:"+torso",reflect:!0,aboveParts:["parts neck","parts torso","decorativeParts torso"],aboveSameLayerParts:["groin"]}].concat(e))}return dressshirt_createClass(DressShirtBasePart,[{key:"renderClothingPoints",value:function renderClothingPoints(t,e){var r=calcDressShirt.call(this,t),n=r.collarbone,o=r.cusp,a=r.top,i=r.bot,s=r.outBot,c=r.outMid,l=r.breastBot,u=r.breastTip;ut.simpleStrokeFill(e,t,this),e.beginPath(),drawPoints(e,n,o,a,i.bot,s,c,l,u,extractPoint(t.armpit)),e.fill(),e.clip(),setStrokeAndFill(e,{stroke:this.liningPattern,fill:d},t),e.lineWidth=this.liningWidth,e.beginPath(),drawPoints(e,a,i.bot),e.stroke()}}]),DressShirtBasePart}(),xr=function(){dressshirt_inherits(DressShirtCollarPart,pt);var n=dressshirt_createSuper(DressShirtCollarPart);function DressShirtCollarPart(){dressshirt_classCallCheck(this,DressShirtCollarPart);for(var t=arguments.length,e=new Array(t),r=0;r<t;r++)e[r]=arguments[r];return n.call.apply(n,[this,{layer:_.GENITALS,loc:"+neck",reflect:!0,aboveParts:["parts neck","parts torso","decorativeParts torso"]}].concat(e))}return dressshirt_createClass(DressShirtCollarPart,[{key:"renderClothingPoints",value:function renderClothingPoints(t,e){var r=calcDressShirt.call(this,t),n=r.collarbone,o=r.cusp,a=r.top,i=splitCurve(1-this.collarCoverage,n,o).left.p2,s=adjust(extractPoint(a),this.collarWidth+.25*this.topParted,-this.collarHeight+.3*this.topParted);setStrokeAndFill(e,{stroke:d,fill:this.collarPattern},t),e.beginPath(),drawPoints(e,i,o,a,s,i),e.fill()}}]),DressShirtCollarPart}(),Or=function(){dressshirt_inherits(DressShirtButtonPart,pt);var n=dressshirt_createSuper(DressShirtButtonPart);function DressShirtButtonPart(){dressshirt_classCallCheck(this,DressShirtButtonPart);for(var t=arguments.length,e=new Array(t),r=0;r<t;r++)e[r]=arguments[r];return n.call.apply(n,[this,{layer:_.FRONT,loc:"+torso",reflect:!1,forcedNoSideString:!0,aboveParts:["parts torso","decorativeParts torso"],aboveSameLayerParts:["torso"]},{buttonStroke:"#fff",buttonFill:"#ccc",buttonRadius:1,buttonThickness:1,buttonCoverage:.77}].concat(e))}return dressshirt_createClass(DressShirtButtonPart,[{key:"renderClothingPoints",value:function renderClothingPoints(t,e){for(var r=calcDressShirt.call(this,t),n=r.top,o=r.bot,a=[],i=.1;i<1;i+=1.001-this.buttonCoverage){var s=splitCurve(i,n,o.bot),c=0;(.2<s.left.p2.x||s.left.p2.x<-.2)&&(c=clamp(Math.abs(s.left.p2.x),0,1.5*this.buttonRadius));var l=adjust(s.left.p2,c,0);a.push.apply(a,dressshirt_toConsumableArray(drawCircle(l,this.buttonRadius)).concat([v]))}setStrokeAndFill(e,{stroke:this.buttonStroke,fill:this.buttonFill},t),e.lineWidth=this.buttonThickness,e.beginPath(),drawPoints.apply(void 0,[e].concat(a)),e.fill(),e.stroke()}}]),DressShirtButtonPart}(),Ar=function(){dressshirt_inherits(DressShirtBreastPart,pt);var n=dressshirt_createSuper(DressShirtBreastPart);function DressShirtBreastPart(){dressshirt_classCallCheck(this,DressShirtBreastPart);for(var t=arguments.length,e=new Array(t),r=0;r<t;r++)e[r]=arguments[r];return n.call.apply(n,[this,{layer:_.GENITALS,loc:"+chest",reflect:!0,aboveParts:["parts chest","decorativeParts chest"]}].concat(e))}return dressshirt_createClass(DressShirtBreastPart,[{key:"renderClothingPoints",value:function renderClothingPoints(t,e){var r,n,o,a,i,s,c,l,u,p,f,y,h;coverNipplesIfHaveNoBreasts(t,e,this)||(n=(r=calcDressShirt.call(this,t)).collarbone,o=r.cusp,a=r.top,i=r.bot,s=r.outBot,c=i.bot,l=a,e.beginPath(),drawPoints(e,n,o,a,i.bot,s,{x:s.x+50,y:s.y},{x:n.x+50,y:n.y}),e.clip(),u=adjust(t.breast.top,0,0),p=adjust(t.breast.tip,.1,0),f=adjust(t.breast.bot,0,-.1),y=adjust(t.breast.cleavage,0,-.1),h=adjust(t.breast.in,0,-.1),ut.simpleStrokeFill(e,t,this),e.beginPath(),drawPoints(e,u,p,f,h,y,connectEndPoints(y,u)),e.fill(),e.clip(),setStrokeAndFill(e,{stroke:this.liningPattern,fill:d},t),e.lineWidth=this.liningWidth,e.beginPath(),drawPoints(e,l,c),e.stroke())}}]),DressShirtBreastPart}(),Tr=function(){dressshirt_inherits(LongSleeveCuffPart,pt);var n=dressshirt_createSuper(LongSleeveCuffPart);function LongSleeveCuffPart(){dressshirt_classCallCheck(this,LongSleeveCuffPart);for(var t=arguments.length,e=new Array(t),r=0;r<t;r++)e[r]=arguments[r];return n.call.apply(n,[this,{layer:_.ARMS,loc:"+arm",reflect:!1,aboveParts:["parts arm","decorativeParts arm"],aboveSameLayerParts:["arm"]},{cuffPattern:"#a4c3ca"}].concat(e))}return dressshirt_createClass(LongSleeveCuffPart,[{key:"renderClothingPoints",value:function renderClothingPoints(t,e){var r=calcLongSleeve.call(this,t),n=r.elbowOut,o=r.out,a=r.bot,i=r.elbow,s=splitCurve(.7,n,o),c=adjust(s.right.p1,1.5,0);o.cp1=s.right.p2.cp1,o.cp2=s.right.p2.cp2;var l=(s=splitCurve(.3,a,i)).left.p2;setStrokeAndFill(e,{stroke:d,fill:this.cuffPattern},t),e.beginPath(),drawPoints(e,c,o,a,l,c),e.fill();var u=drawCircle(adjust(c,-2,-2),.5*this.buttonRadius);setStrokeAndFill(e,{stroke:this.buttonStroke,fill:this.buttonFill},t),e.lineWidth=.5*this.buttonThickness,e.beginPath(),drawPoints.apply(void 0,[e].concat(dressshirt_toConsumableArray(u))),e.fill(),e.stroke()}}]),LongSleeveCuffPart}(),jr=function(){dressshirt_inherits(DressShirt,lt);var n=dressshirt_createSuper(DressShirt);function DressShirt(){dressshirt_classCallCheck(this,DressShirt);for(var t=arguments.length,e=new Array(t),r=0;r<t;r++)e[r]=arguments[r];return n.call.apply(n,[this,{clothingLayer:ut.Layer.MID,stomachCoverage:.9,neckCoverage:0,liningWidth:3.5,liningPattern:"#98aaaf",collarCoverage:.25,collarHeight:7,collarWidth:3,collarPattern:"#a4c3ca",topParted:4,botParted:0,cling:.6}].concat(e))}return DressShirt}(),Rr=function(){dressshirt_inherits(WomenDressShirt,jr);var n=dressshirt_createSuper(WomenDressShirt);function WomenDressShirt(){dressshirt_classCallCheck(this,WomenDressShirt);for(var t=arguments.length,e=new Array(t),r=0;r<t;r++)e[r]=arguments[r];return n.call.apply(n,[this].concat(e))}return dressshirt_createClass(WomenDressShirt,[{key:"stroke",value:function stroke(){return d}},{key:"fill",value:function fill(){return"hsl(198.9,42.2%,82.4%)"}},{key:"partPrototypes",get:function get(){return[{side:null,Part:wr},{side:null,Part:xr},{side:null,Part:Ar},{side:A.LEFT,Part:dr},{side:A.RIGHT,Part:dr},{side:A.RIGHT,Part:Tr},{side:A.LEFT,Part:Tr},{side:A.RIGHT,Part:Or}]}}]),WomenDressShirt}(),Br=function(){dressshirt_inherits(MenDressShirt,jr);var n=dressshirt_createSuper(MenDressShirt);function MenDressShirt(){dressshirt_classCallCheck(this,MenDressShirt);for(var t=arguments.length,e=new Array(t),r=0;r<t;r++)e[r]=arguments[r];return n.call.apply(n,[this].concat(e))}return dressshirt_createClass(MenDressShirt,[{key:"stroke",value:function stroke(){return d}},{key:"fill",value:function fill(){return"hsl(198.9,42.2%,82.4%)"}},{key:"partPrototypes",get:function get(){return[{side:null,Part:wr},{side:null,Part:xr},{side:null,Part:Ar},{side:A.LEFT,Part:dr},{side:A.RIGHT,Part:dr},{side:A.RIGHT,Part:Tr},{side:A.LEFT,Part:Tr},{side:A.LEFT,Part:Or}]}}]),MenDressShirt}();function heels_typeof(t){return(heels_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function _typeof(t){return typeof t}:function _typeof(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function _get(t,e,r){return(_get="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function _get(t,e,r){var n=function _superPropBase(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=heels_getPrototypeOf(t)););return t}(t,e);if(n){var o=Object.getOwnPropertyDescriptor(n,e);return o.get?o.get.call(r):o.value}})(t,e,r||t)}function heels_defineProperties(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function heels_createClass(t,e,r){return e&&heels_defineProperties(t.prototype,e),r&&heels_defineProperties(t,r),t}function heels_classCallCheck(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function heels_inherits(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&heels_setPrototypeOf(t,e)}function heels_setPrototypeOf(t,e){return(heels_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(t,e){return t.__proto__=e,t})(t,e)}function heels_createSuper(r){var n=function heels_isNativeReflectConstruct(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(t){return!1}}();return function _createSuperInternal(){var t,e=heels_getPrototypeOf(r);return function heels_possibleConstructorReturn(t,e){return!e||"object"!==heels_typeof(e)&&"function"!=typeof e?function heels_assertThisInitialized(t){if(void 0!==t)return t;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}(t):e}(this,n?(t=heels_getPrototypeOf(this).constructor,Reflect.construct(e,arguments,t)):e.apply(this,arguments))}}function heels_getPrototypeOf(t){return(heels_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var Er=function(){heels_inherits(HeelPart,pt);var n=heels_createSuper(HeelPart);function HeelPart(){heels_classCallCheck(this,HeelPart);for(var t=arguments.length,e=new Array(t),r=0;r<t;r++)e[r]=arguments[r];return n.call.apply(n,[this,{layer:_.FRONT,loc:"feet",aboveParts:["parts feet","parts leg"],belowParts:["shadingParts feet"]}].concat(e))}return HeelPart}(),Lr=function(){heels_inherits(HeelBaseShine,Er);var n=heels_createSuper(HeelBaseShine);function HeelBaseShine(){heels_classCallCheck(this,HeelBaseShine);for(var t=arguments.length,e=new Array(t),r=0;r<t;r++)e[r]=arguments[r];return n.call.apply(n,[this,{layer:_.ARMS}].concat(e))}return heels_createClass(HeelBaseShine,[{key:"renderClothingPoints",value:function renderClothingPoints(t,e){var r=calcHeels.call(this,t),n=r.bot,o=r.outBot,a=r.out;n.y+=3,n.x+=1;var i=adjust(o,-1,.5),s=adjust(a,-.5,-4.8);i.cp1=simpleQuadratic(n,i,.7,-1),s.cp1=simpleQuadratic(i,s,.5,-.5),n.cp1=simpleQuadratic(s,n,.3,1),e.fillStyle="hsla(0,100%,100%,0.2)",e.beginPath(),drawPoints(e,n,i,s,n),e.fill()}}]),HeelBaseShine}(),Ir=function(){heels_inherits(HeelBasePart,Er);var n=heels_createSuper(HeelBasePart);function HeelBasePart(){heels_classCallCheck(this,HeelBasePart);for(var t=arguments.length,e=new Array(t),r=0;r<t;r++)e[r]=arguments[r];return n.call.apply(n,[this].concat(e))}return heels_createClass(HeelBasePart,[{key:"renderClothingPoints",value:function renderClothingPoints(t,e){var r=t.toe;r.toebox={x:r.center.x,y:r.center.y};var n=calcHeels.call(this,t),o=n.out,a=n.outBot,i=n.bot,s=n.inBot,c=n.inTop,l=n.tongue;ut.simpleStrokeFill(e,t,this),e.beginPath(),drawPoints(e,o,a,i,s,c,l,o),e.fill();var u=extractPoint(t.ankle.in),p=splitCurve(.6,t.toe.in,t.ankle.inbot).left.p2;p.cp1=simpleQuadratic(u,p,.2,-3.3),u.cp1=simpleQuadratic(p,u,.7,1.4),e.beginPath(),drawPoints(e,u,p,u),e.fill()}}]),HeelBasePart}(),Fr=function(){heels_inherits(CoveredHeelBasePart,Er);var n=heels_createSuper(CoveredHeelBasePart);function CoveredHeelBasePart(){heels_classCallCheck(this,CoveredHeelBasePart);for(var t=arguments.length,e=new Array(t),r=0;r<t;r++)e[r]=arguments[r];return n.call.apply(n,[this].concat(e))}return heels_createClass(CoveredHeelBasePart,[{key:"renderClothingPoints",value:function renderClothingPoints(t,e){var r=calcHeels.call(this,t),n=r.out,o=r.outBot,a=r.bot,i=r.inBot,s=r.inTop,c=adjust(extractPoint(t.ankle.in),1.1,-.7),l=adjust(extractPoint(t.ankle.out),-1.1,-.7);n.cp1=simpleQuadratic(l,n,.5,-1),n.cp2=null,c.cp1=simpleQuadratic(s,c,.5,-1),ut.simpleStrokeFill(e,t,this),e.beginPath(),drawPoints(e,n,o,a,i,s,c,l,n),e.fill()}}]),CoveredHeelBasePart}(),Hr=function(){heels_inherits(HeelStrapPart,Er);var n=heels_createSuper(HeelStrapPart);function HeelStrapPart(){heels_classCallCheck(this,HeelStrapPart);for(var t=arguments.length,e=new Array(t),r=0;r<t;r++)e[r]=arguments[r];return n.call.apply(n,[this,{strapWidth:1.5}].concat(e))}return heels_createClass(HeelStrapPart,[{key:"renderClothingPoints",value:function renderClothingPoints(t,e){var r=splitCurve(1.06-.03*this.strapWidth,t.calf.out,t.ankle.out),n=r.right.p1,o=extractPoint(t.ankle.out),a=extractPoint(t.ankle.in);o.cp1=r.right.cp1,o.cp2=r.right.cp2;a.cp1=simpleQuadratic(o,a,.5,3);var i=extractPoint((r=splitCurve(.035*this.strapWidth,t.ankle.in,t.calf.in)).left.p2);n.cp1=simpleQuadratic(i,n,.5,-3),setStrokeAndFill(e,{fill:this.fill,stroke:this.fill},t),e.beginPath(),drawPoints(e,n,o,a,i,n),e.fill()}}]),HeelStrapPart}();function calcHeels(t){var e=t.toe,r=splitCurve(.7,t.ankle.outbot,e.out).left.p2,n={x:e.out.x+2,y:e.in.y+2},o={x:.45*e.out.x+.55*e.in.x,y:e.in.y-this.heelPointiness},a={x:e.in.x-2.5,y:e.in.y+2},i=splitCurve(.6,e.in,t.ankle.inbot).left.p2,s={x:o.x,y:e.center.y-2.3+1.3*this.toeCoverage};return o.cp1=simpleQuadratic(n,o,.6,2),a.cp1=simpleQuadratic(o,a,.6,2),s.cp1=point_scale(i,.5,a),s.cp2={x:s.x-4,y:s.y},r.cp1=continueCurve(i,s,1),r.cp2=point_scale(r,.5,n),n.cp1=simpleQuadratic(r,n,.8,.6),i.cp1=simpleQuadratic(a,i,.1,1),{out:r,outBot:n,bot:o,inBot:a,inTop:i,tongue:s}}var Mr=function(){heels_inherits(HeelSideBaseClosedPart,Pt);var n=heels_createSuper(HeelSideBaseClosedPart);function HeelSideBaseClosedPart(){heels_classCallCheck(this,HeelSideBaseClosedPart);for(var t=arguments.length,e=new Array(t),r=0;r<t;r++)e[r]=arguments[r];return n.call.apply(n,[this].concat(e,[{toeCoverage:.5}]))}return heels_createClass(HeelSideBaseClosedPart,[{key:"renderShoeSidePart",value:function renderShoeSidePart(t,e,r){var n=calcHeelBaseSide.call(this,t,r),o=n.vamp,a=n.toeTip,i=n.soleBot,s=n.heelBack,c=n.counterTip;e.beginPath(),setStrokeAndFill(e,{stroke:this.fill,fill:this.fill},t),drawPoints(e,o,a,i,s,c,o),e.fill()}}]),HeelSideBaseClosedPart}(),Dr=function(){heels_inherits(CoveredHeelSideBasePart,Pt);var n=heels_createSuper(CoveredHeelSideBasePart);function CoveredHeelSideBasePart(){heels_classCallCheck(this,CoveredHeelSideBasePart);for(var t=arguments.length,e=new Array(t),r=0;r<t;r++)e[r]=arguments[r];return n.call.apply(n,[this].concat(e,[{toeCoverage:.2,soleWidth:3,tongueSplitRatio:.75}]))}return heels_createClass(CoveredHeelSideBasePart,[{key:"renderShoeSidePart",value:function renderShoeSidePart(t,e,r){var n=calcCoveredHeelBaseSide.call(this,t,r),o=n.vamp,a=n.toeTip,i=n.soleBot,s=n.heelBack,c=n.heelBackTop,l=n.tongueStart,u=n.tongueSide,p=n.tongue;e.beginPath(),setStrokeAndFill(e,{stroke:this.fill,fill:this.fill},t),drawPoints(e,o,a,i,s,c,l,u,p,o),e.fill()}}]),CoveredHeelSideBasePart}();function calcCoveredHeelBaseSide(t,e){var r=calcHeelBaseSide.call(this,t,e),n=r.vamp,o=r.toeTip,a=r.soleBot,i=r.heelBack,s=r.counterTip;o.cp1.y+=1;var c=splitCurve(this.tongueSplitRatio,a,i),l=c.right.p1,u=reverseDrawPoint(c.right.p1,c.right.p2);l.cp1=u.cp1,l.cp2=u.cp2,l=adjust(l,0,this.soleWidth);var p=adjust(extractPoint(i),0,this.soleWidth);p.cp1=simpleQuadratic(i,p,.5,-1);var f={x:s.x-16,y:s.y};f.cp1=simpleQuadratic(l,f,.5,5);var y={x:f.x-5,y:f.y};return n.cp1={x:y.x,y:y.y-15},n.cp2={x:n.x+6,y:n.y},{vamp:n,toeTip:o,soleBot:a,heelBack:i,heelBackTop:p,tongueStart:l,tongueSide:f,tongue:y,counterTip:s}}var Nr=function(){heels_inherits(StilettoPart,Pt);var n=heels_createSuper(StilettoPart);function StilettoPart(){heels_classCallCheck(this,StilettoPart);for(var t=arguments.length,e=new Array(t),r=0;r<t;r++)e[r]=arguments[r];return n.call.apply(n,[this].concat(e,[{separationAlongArch:.83,heelTipWidth:3.5,backHeelDeflection:2,stilettoFill:"black"}]))}return heels_createClass(StilettoPart,[{key:"renderShoeSidePart",value:function renderShoeSidePart(t,e,r){var n=calcStiletto.call(this,t,r),o=n.archTip,a=n.heelTip,i=n.heelTipBack,s=n.stilettoHeelBack,c=this.stilettoFill||this.fill;e.beginPath(),setStrokeAndFill(e,{stroke:c,fill:c},t),drawPoints(e,o,a,i,s,o),e.fill()}}]),StilettoPart}(),Wr=function(){heels_inherits(PlatformSidePart,Pt);var n=heels_createSuper(PlatformSidePart);function PlatformSidePart(){heels_classCallCheck(this,PlatformSidePart);for(var t=arguments.length,e=new Array(t),r=0;r<t;r++)e[r]=arguments[r];return n.call.apply(n,[this].concat(e,[{platformHeight:0,platformFill:"black"}]))}return heels_createClass(PlatformSidePart,[{key:"renderShoeSidePart",value:function renderShoeSidePart(t,e,r){var n,o,a,i,s,c;this.platformHeight<=0||(o=(n=calcHeelPlatformSide.call(this,t,r)).topLeft,a=n.left,i=n.bot,s=n.right,c=this.platformFill||this.fill,e.beginPath(),setStrokeAndFill(e,{stroke:c,fill:c},t),drawPoints(e,o,a,i,s,o),e.fill())}}]),PlatformSidePart}(),Gr=function(){heels_inherits(HeelSideSimpleStrapPart,Pt);var n=heels_createSuper(HeelSideSimpleStrapPart);function HeelSideSimpleStrapPart(){heels_classCallCheck(this,HeelSideSimpleStrapPart);for(var t=arguments.length,e=new Array(t),r=0;r<t;r++)e[r]=arguments[r];return n.call.apply(n,[this].concat(e))}return heels_createClass(HeelSideSimpleStrapPart,[{key:"renderShoeSidePart",value:function renderShoeSidePart(t,e,r){var n=adjust(calcHeelBaseSide.call(this,t,r).counterTip,-10,0);e.beginPath(),setStrokeAndFill(e,{stroke:this.fill,fill:this.fill},t),e.lineWidth=1.33*this.strapWidth,e.ellipse(n.x-1,n.y-2,10,3.5,-.95*Math.PI,0,2*Math.PI),e.stroke()}}]),HeelSideSimpleStrapPart}(),Ur=function(){heels_inherits(HeelSideWideStrapPart,Pt);var n=heels_createSuper(HeelSideWideStrapPart);function HeelSideWideStrapPart(){heels_classCallCheck(this,HeelSideWideStrapPart);for(var t=arguments.length,e=new Array(t),r=0;r<t;r++)e[r]=arguments[r];return n.call.apply(n,[this,{strapWidth:5}].concat(e))}return heels_createClass(HeelSideWideStrapPart,[{key:"renderShoeSidePart",value:function renderShoeSidePart(t,e,r){var n=calcWideStrapSide.call(this,t,r);e.beginPath(),setStrokeAndFill(e,{stroke:this.fill,fill:this.fill},t),drawPoints(e,n.left,n.topLeft,n.topRight,n.right,n.left),e.fill()}}]),HeelSideWideStrapPart}();function calcWideStrapSide(t,e){var r=calcCoveredHeelBaseSide.call(this,t,e),n=r.tongue,o=r.counterTip,a={x:n.x,y:n.y+this.strapWidth},i={x:o.x-.5,y:o.y+this.strapWidth};return i.cp1=simpleQuadratic(a,i,.5,-2.5),n.cp1=simpleQuadratic(o,n,.5,2.5),o.cp1=simpleQuadratic(i,o,.5,-.5),o.cp2=null,{left:n,topLeft:a,topRight:i,right:o}}var zr=3;function calcHeelBaseSide(t,e){var r={x:5,y:12+this.platformHeight},n={x:r.x+14-.5*this.shoeHeight,y:r.y-9};n.cp1={x:r.x,y:r.y-3},n.cp2={x:n.x-8,y:n.y};var o={x:r.x+40+.07*e.feetLength-7*this.shoeHeight,y:r.y+5*this.shoeHeight},a={x:o.x+10,y:o.y};a.cp1={x:n.x+28,y:n.y},a.cp2={x:o.x-20,y:o.y-10};var i={x:o.x+4,y:a.y+19};i.cp1={x:a.x+3,y:a.y+10},i.cp2={x:i.x+3,y:i.y-5};var s={x:r.x+10.5+1.7*this.toeCoverage-.5*this.shoeHeight,y:r.y+4+1.3*this.toeCoverage};return r.cp1=simpleQuadratic(s,r,.7,-1.5),s.cp1={x:i.x-19,y:i.y-5},s.cp2={x:s.x+18,y:s.y-10},{vamp:s,toeTip:r,soleBot:n,heelBack:a,counterTip:i}}function calcHeelPlatformSide(t,e){var r=calcHeelBaseSide.call(this,t,e),n=r.toeTip,o=r.soleBot,a=r.heelBack,i=extractPoint(n),s=adjust(i,.2*this.platformHeight,-this.platformHeight);s.cp1=simpleQuadratic(i,s,.3,-.4);var c=adjust(o,0,-this.platformHeight);c.cp1.x+=.2*this.platformHeight;var l=splitCurve(.5,o,a).left.p2;return l.cp1.y-=this.platformHeight,l.cp2.y-=.5*this.platformHeight,{topLeft:i,left:s,bot:c,right:l}}function calcStiletto(t,e){var r=calcHeelBaseSide.call(this,t,e),n=r.soleBot,o=r.heelBack,a=splitCurve(this.separationAlongArch,n,o),i=extractPoint(a.left.p2),s={x:o.x-5.8,y:zr},c={x:s.x-.5*this.heelTipWidth,y:zr};c.cp1={x:c.x,y:i.y};var l=extractPoint(o);l.cp1=simpleQuadratic(s,l,.7,this.backHeelDeflection);var u=reverseDrawPoint(a.right.p1,a.right.p2);i.cp1=u.cp1,i.cp2=u.cp2;return{archTip:i=adjust(i,0,.4),heelTip:c,heelTipBack:s,stilettoHeelBack:l=adjust(l,0,.4)}}function renderLock(t,e,r,n,o,a,i){var s=2<arguments.length&&void 0!==r?r:1,c=3<arguments.length&&void 0!==n?n:0,l=4<arguments.length&&void 0!==o?o:2,u=5<arguments.length&&void 0!==a?a:"#D3D3D3",p=6<arguments.length&&void 0!==i?i:"gold",f=adjust(e,-l,-2),y=adjust(e,l,-2);y.cp1={x:f.x,y:f.y+5},y.cp2={x:y.x,y:y.y+5};var h={};h.topLeft=adjust(f,-1,1),h.topRight=adjust(extractPoint(y),1,1),h.right=adjust(h.topRight,0,-5),h.left=adjust(h.topLeft,0,-5),scalePoints(e,s,f,y,h.topLeft,h.topRight,h.left,h.right),rotatePoints(e,c,f,y,h.topLeft,h.topRight,h.left,h.right),t.beginPath(),t.fillStyle=p,drawPoints(t,h.topLeft,h.topRight,h.right,h.left,h.topLeft),t.fill(),t.beginPath(),t.strokeStyle=u,t.lineWidth=s,t.lineCap="round",drawPoints(t,f,y),t.stroke()}var Qr=function(){heels_inherits(StrapLockSidePart,Pt);var n=heels_createSuper(StrapLockSidePart);function StrapLockSidePart(){heels_classCallCheck(this,StrapLockSidePart);for(var t=arguments.length,e=new Array(t),r=0;r<t;r++)e[r]=arguments[r];return n.call.apply(n,[this,{lockSize:1,aboveSameLayerParts:["feet"]}].concat(e))}return heels_createClass(StrapLockSidePart,[{key:"renderShoeSidePart",value:function renderShoeSidePart(t,e,r){var n=calcWideStrapSide.call(this,t,r);renderLock(e,{x:n.left.x+6,y:.9*n.left.y+.1*n.topLeft.y},this.lockSize,-.1)}}]),StrapLockSidePart}(),Vr=function(){heels_inherits(StrapLockPart,Er);var n=heels_createSuper(StrapLockPart);function StrapLockPart(){heels_classCallCheck(this,StrapLockPart);for(var t=arguments.length,e=new Array(t),r=0;r<t;r++)e[r]=arguments[r];return n.call.apply(n,[this,{layer:_.GENITALS,lockSize:1,aboveSameLayerParts:["feet"]}].concat(e))}return heels_createClass(StrapLockPart,[{key:"renderClothingPoints",value:function renderClothingPoints(t,e){renderLock(e,{x:t.ankle.out.x-1,y:t.ankle.out.y},.5*this.lockSize,.3,.8)}}]),StrapLockPart}(),qr=function(){heels_inherits(Heels,lt);var o=heels_createSuper(Heels);function Heels(){var t;heels_classCallCheck(this,Heels);for(var e=arguments.length,r=new Array(e),n=0;n<e;n++)r[n]=arguments[n];return(t=o.call.apply(o,[this,{clothingLayer:ut.Layer.MID,thickness:1,shoeHeight:3,basePointiness:5,shoeTightness:30}].concat(r))).Mods=Object.assign({feetWidth:-t.shoeTightness,feetLength:0},t.Mods),t.Mods.feetLength+=80*t.shoeHeight,t.Mods.feetWidth-=2*t.shoeHeight,t.heelPointiness=t.basePointiness-.5*t.shoeHeight,t}return heels_createClass(Heels,[{key:"fill",value:function fill(){return"#000"}}]),Heels}(),Jr=function(){heels_inherits(ClosedToePumps,qr);var n=heels_createSuper(ClosedToePumps);function ClosedToePumps(){heels_classCallCheck(this,ClosedToePumps);for(var t=arguments.length,e=new Array(t),r=0;r<t;r++)e[r]=arguments[r];return n.call.apply(n,[this].concat(e))}return heels_createClass(ClosedToePumps,[{key:"partPrototypes",get:function get(){return[{side:A.LEFT,Part:Ir},{side:A.RIGHT,Part:Ir},{side:A.LEFT,Part:Lr},{side:A.RIGHT,Part:Mr},{side:A.RIGHT,Part:Nr},{side:A.RIGHT,Part:Wr}]}}]),ClosedToePumps}(),$r=function(){heels_inherits(ClosedToeStrappedPumps,qr);var n=heels_createSuper(ClosedToeStrappedPumps);function ClosedToeStrappedPumps(){heels_classCallCheck(this,ClosedToeStrappedPumps);for(var t=arguments.length,e=new Array(t),r=0;r<t;r++)e[r]=arguments[r];return n.call.apply(n,[this,{strapWidth:1.5}].concat(e))}return heels_createClass(ClosedToeStrappedPumps,[{key:"partPrototypes",get:function get(){return[{side:A.LEFT,Part:Ir},{side:A.RIGHT,Part:Ir},{side:A.LEFT,Part:Hr},{side:A.RIGHT,Part:Hr},{side:A.LEFT,Part:Lr},{side:A.RIGHT,Part:Mr},{side:A.RIGHT,Part:Nr},{side:A.RIGHT,Part:Gr},{side:A.RIGHT,Part:Wr}]}}]),ClosedToeStrappedPumps}(),Yr=function(){heels_inherits(CoveredFancyStilettos,qr);var n=heels_createSuper(CoveredFancyStilettos);function CoveredFancyStilettos(){heels_classCallCheck(this,CoveredFancyStilettos);for(var t=arguments.length,e=new Array(t),r=0;r<t;r++)e[r]=arguments[r];return n.call.apply(n,[this].concat(e))}return heels_createClass(CoveredFancyStilettos,[{key:"partPrototypes",get:function get(){return[{side:A.LEFT,Part:Fr},{side:A.RIGHT,Part:Fr},{side:A.LEFT,Part:Hr},{side:A.RIGHT,Part:Hr},{side:A.LEFT,Part:Lr},{side:A.RIGHT,Part:Dr},{side:A.RIGHT,Part:Ur},{side:A.RIGHT,Part:Nr},{side:A.RIGHT,Part:Wr}]}}]),CoveredFancyStilettos}(),Xr=[{side:A.RIGHT,Part:Qr},{side:A.LEFT,Part:Vr},{side:A.RIGHT,Part:Vr}],Kr=function(){heels_inherits(LockedCoveredFancyStilettos,Yr);var n=heels_createSuper(LockedCoveredFancyStilettos);function LockedCoveredFancyStilettos(){heels_classCallCheck(this,LockedCoveredFancyStilettos);for(var t=arguments.length,e=new Array(t),r=0;r<t;r++)e[r]=arguments[r];return n.call.apply(n,[this].concat(e))}return heels_createClass(LockedCoveredFancyStilettos,[{key:"partPrototypes",get:function get(){return _get(heels_getPrototypeOf(LockedCoveredFancyStilettos.prototype),"partPrototypes",this).concat(Xr)}}]),LockedCoveredFancyStilettos}();function hats_typeof(t){return(hats_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function _typeof(t){return typeof t}:function _typeof(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function hats_classCallCheck(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function hats_defineProperties(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function hats_createClass(t,e,r){return e&&hats_defineProperties(t.prototype,e),r&&hats_defineProperties(t,r),t}function hats_inherits(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&hats_setPrototypeOf(t,e)}function hats_setPrototypeOf(t,e){return(hats_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(t,e){return t.__proto__=e,t})(t,e)}function hats_createSuper(r){var n=function hats_isNativeReflectConstruct(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(t){return!1}}();return function _createSuperInternal(){var t,e=hats_getPrototypeOf(r);return function hats_possibleConstructorReturn(t,e){return!e||"object"!==hats_typeof(e)&&"function"!=typeof e?function hats_assertThisInitialized(t){if(void 0!==t)return t;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}(t):e}(this,n?(t=hats_getPrototypeOf(this).constructor,Reflect.construct(e,arguments,t)):e.apply(this,arguments))}}function hats_getPrototypeOf(t){return(hats_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var Zr=function(){hats_inherits(CapBasePart,pt);var n=hats_createSuper(CapBasePart);function CapBasePart(){hats_classCallCheck(this,CapBasePart);for(var t=arguments.length,e=new Array(t),r=0;r<t;r++)e[r]=arguments[r];return n.call.apply(n,[this,{layer:_.ABOVE_HAIR,loc:"head"},{height:4.5,sideBias:-.15,curvature:7,headCoverage:.2,sideOffset:2.3}].concat(e))}return hats_createClass(CapBasePart,[{key:"renderClothingPoints",value:function renderClothingPoints(t,e){var r=calcCap.call(this,t),n=r.rightBot,o=r.leftBot,a=r.top;ut.simpleStrokeFill(e,t,this),e.beginPath(),drawPoints(e,n,o,a,n),e.fill(),e.stroke()}}]),CapBasePart}(),tn=function(){hats_inherits(CapBandPart,pt);var n=hats_createSuper(CapBandPart);function CapBandPart(){hats_classCallCheck(this,CapBandPart);for(var t=arguments.length,e=new Array(t),r=0;r<t;r++)e[r]=arguments[r];return n.call.apply(n,[this,{layer:_.ABOVE_HAIR,loc:"+head",aboveParts:["clothingParts head"]},{bandWidth:1.6,bandPattern:"black"}].concat(e))}return hats_createClass(CapBandPart,[{key:"renderClothingPoints",value:function renderClothingPoints(t,e){var r=calcCap.call(this,t),n=r.rightBot,o=r.leftBot,a=r.top,i=adjust(getPointOnCurve(.1*this.bandWidth,o,a),-.5,0),s=adjust(getPointOnCurve(1-.1*this.bandWidth,a,n),.5,0);s.cp1=adjust(o.cp1,0,s.y-n.y),i.cp1=simpleQuadratic(o,i,.5,1);var c=extractPoint(n);c.cp1=simpleQuadratic(s,c,.5,1),setStrokeAndFill(e,{fill:this.bandPattern,stroke:this.stroke},t),e.beginPath(),drawPoints(e,n,o,i,s,c),e.fill(),e.stroke()}}]),CapBandPart}();function calcCap(t){var e=adjust(getPointOnCurve(this.headCoverage,t.skull.side,t.skull.bot),this.sideOffset,0),r={x:-e.x,y:e.y};r.cp1=simpleQuadratic(e,r,this.sideBias+.5,-this.curvature);var n={x:.5*this.sideBias*e.x,y:t.skull.y+this.height},o=averagePoint(r,n,.65).y;return n.cp1={x:r.x-2,y:o},n.cp2={x:averagePoint(r,n,.5).x,y:n.y},e.cp1={x:averagePoint(e,n,.5).x,y:n.y},e.cp2={x:e.x+2,y:o},{rightBot:e,leftBot:r,top:n}}var en=function(){hats_inherits(Hat,lt);var n=hats_createSuper(Hat);function Hat(){hats_classCallCheck(this,Hat);for(var t=arguments.length,e=new Array(t),r=0;r<t;r++)e[r]=arguments[r];return n.call.apply(n,[this,{clothingLayer:ut.Layer.OUTER}].concat(e))}return Hat}(),rn=function(){hats_inherits(SimpleCap,en);var n=hats_createSuper(SimpleCap);function SimpleCap(){hats_classCallCheck(this,SimpleCap);for(var t=arguments.length,e=new Array(t),r=0;r<t;r++)e[r]=arguments[r];return n.call.apply(n,[this].concat(e))}return hats_createClass(SimpleCap,[{key:"partPrototypes",get:function get(){return[{side:null,Part:Zr}]}}]),SimpleCap}(),nn=function(){hats_inherits(BandedCap,en);var n=hats_createSuper(BandedCap);function BandedCap(){hats_classCallCheck(this,BandedCap);for(var t=arguments.length,e=new Array(t),r=0;r<t;r++)e[r]=arguments[r];return n.call.apply(n,[this].concat(e))}return hats_createClass(BandedCap,[{key:"partPrototypes",get:function get(){return[{side:null,Part:Zr},{side:null,Part:tn}]}}]),BandedCap}();function neck_accessory_typeof(t){return(neck_accessory_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function _typeof(t){return typeof t}:function _typeof(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function neck_accessory_classCallCheck(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function neck_accessory_defineProperties(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function neck_accessory_createClass(t,e,r){return e&&neck_accessory_defineProperties(t.prototype,e),r&&neck_accessory_defineProperties(t,r),t}function neck_accessory_inherits(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&neck_accessory_setPrototypeOf(t,e)}function neck_accessory_setPrototypeOf(t,e){return(neck_accessory_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(t,e){return t.__proto__=e,t})(t,e)}function neck_accessory_createSuper(r){var n=function neck_accessory_isNativeReflectConstruct(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(t){return!1}}();return function _createSuperInternal(){var t,e=neck_accessory_getPrototypeOf(r);return function neck_accessory_possibleConstructorReturn(t,e){return!e||"object"!==neck_accessory_typeof(e)&&"function"!=typeof e?function neck_accessory_assertThisInitialized(t){if(void 0!==t)return t;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}(t):e}(this,n?(t=neck_accessory_getPrototypeOf(this).constructor,Reflect.construct(e,arguments,t)):e.apply(this,arguments))}}function neck_accessory_getPrototypeOf(t){return(neck_accessory_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var on=function(){neck_accessory_inherits(NecktiePart,pt);var n=neck_accessory_createSuper(NecktiePart);function NecktiePart(){neck_accessory_classCallCheck(this,NecktiePart);for(var t=arguments.length,e=new Array(t),r=0;r<t;r++)e[r]=arguments[r];return n.call.apply(n,[this,{layer:_.GENITALS,loc:"+neck",reflect:!1,aboveParts:["parts neck","parts torso","decorativeParts torso"],belowSameLayerParts:["torso"]},{offsetWidth:0,offsetHeight:-10,knotWidth:5,knotHeight:5,loopWidth:3,tongueTopWidth:4,tongueBotWidth:6,tongueHeight:15,tongueBotHeight:3,tongueRotation:0}].concat(e))}return neck_accessory_createClass(NecktiePart,[{key:"renderClothingPoints",value:function renderClothingPoints(t,e){var r={x:this.offsetWidth,y:t.neck.cusp.y+this.offsetHeight},n={};n.topLeft={x:r.x-this.knotWidth/2,y:r.y},n.topRight={x:r.x+this.knotWidth/2,y:r.y},n.left={x:n.topLeft.x,y:r.y-this.loopWidth/2},n.right={x:n.topRight.x,y:n.left.y},n.botLeft={x:r.x-this.tongueTopWidth/2,y:r.y-this.knotHeight},n.botRight={x:r.x+this.tongueTopWidth/2,y:n.botLeft.y};var o=splitCurve(clamp(.035*this.loopWidth,0,1),t.trapezius,t.collarbone),a=extractPoint(o.left.p2),i=o.left.p1;i.cp1=o.left.p2.cp2,i.cp2=o.left.p2.cp1;var s=reflect(i),c=reflect(a);s.cp1=reflect(i.cp1),s.cp2=reflect(i.cp2);var l={};l.bot={x:r.x,y:n.botRight.y-this.tongueHeight},l.left={x:r.x-this.tongueBotWidth/2,y:l.bot.y+this.tongueBotHeight},l.right={x:r.x+this.tongueBotWidth/2,y:l.left.y},rotatePoints(r,rad(this.tongueRotation),l.bot,l.left,l.right),ut.simpleStrokeFill(e,t,this),e.beginPath(),drawPoints(e,n.topLeft,r,n.topRight,n.right,n.botRight,n.botLeft,n.left,n.topLeft);n.topLeft.cp1=simpleQuadratic(s,n.topLeft,.5,-1.5),c.cp1=simpleQuadratic(n.left,c,.5,1.5),drawPoints(e,c,s,n.topLeft,n.left,c),n.topRight.cp1=simpleQuadratic(i,n.topRight,.5,1.5),a.cp1=simpleQuadratic(n.right,a,.5,-1.5),drawPoints(e,a,i,n.topRight,n.right,a),drawPoints(e,n.botLeft,l.left,l.bot,l.right,n.botRight),e.fill()}}]),NecktiePart}(),an=function(){neck_accessory_inherits(NeckAccessory,lt);var n=neck_accessory_createSuper(NeckAccessory);function NeckAccessory(){neck_accessory_classCallCheck(this,NeckAccessory);for(var t=arguments.length,e=new Array(t),r=0;r<t;r++)e[r]=arguments[r];return n.call.apply(n,[this,{clothingLayer:ut.Layer.MID}].concat(e))}return NeckAccessory}(),sn=function(){neck_accessory_inherits(NeckTie,an);var n=neck_accessory_createSuper(NeckTie);function NeckTie(){neck_accessory_classCallCheck(this,NeckTie);for(var t=arguments.length,e=new Array(t),r=0;r<t;r++)e[r]=arguments[r];return n.call.apply(n,[this].concat(e))}return neck_accessory_createClass(NeckTie,[{key:"fill",value:function fill(){return"#333"}},{key:"partPrototypes",get:function get(){return[{side:null,Part:on}]}}]),NeckTie}();function pants_typeof(t){return(pants_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function _typeof(t){return typeof t}:function _typeof(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function pants_classCallCheck(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function pants_defineProperties(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function pants_createClass(t,e,r){return e&&pants_defineProperties(t.prototype,e),r&&pants_defineProperties(t,r),t}function pants_inherits(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&pants_setPrototypeOf(t,e)}function pants_setPrototypeOf(t,e){return(pants_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(t,e){return t.__proto__=e,t})(t,e)}function pants_createSuper(r){var n=function pants_isNativeReflectConstruct(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(t){return!1}}();return function _createSuperInternal(){var t,e=pants_getPrototypeOf(r);return function pants_possibleConstructorReturn(t,e){return!e||"object"!==pants_typeof(e)&&"function"!=typeof e?function pants_assertThisInitialized(t){if(void 0!==t)return t;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}(t):e}(this,n?(t=pants_getPrototypeOf(this).constructor,Reflect.construct(e,arguments,t)):e.apply(this,arguments))}}function pants_getPrototypeOf(t){return(pants_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var cn=function(){pants_inherits(CoveredButtPart,pt);var n=pants_createSuper(CoveredButtPart);function CoveredButtPart(){pants_classCallCheck(this,CoveredButtPart);for(var t=arguments.length,e=new Array(t),r=0;r<t;r++)e[r]=arguments[r];return n.call.apply(n,[this,{layer:_.BACK,reflect:!0,loc:"butt",aboveParts:["parts butt"]}].concat(e))}return pants_createClass(CoveredButtPart,[{key:"renderClothingPoints",value:function renderClothingPoints(t,e){ut.simpleStrokeFill(e,t,this),e.strokeStyle=adjustColor(e.strokeStyle,{s:-5,l:-5}),e.beginPath(),drawPoints(e,t.butt.in,t.butt.out,t.butt.in),e.fill(),e.stroke()}}]),CoveredButtPart}(),ln=function(){pants_inherits(LongPantsPart,pt);var n=pants_createSuper(LongPantsPart);function LongPantsPart(){pants_classCallCheck(this,LongPantsPart);for(var t=arguments.length,e=new Array(t),r=0;r<t;r++)e[r]=arguments[r];return n.call.apply(n,[this,{layer:_.FRONT,loc:"leg",aboveParts:["parts leg"]}].concat(e))}return pants_createClass(LongPantsPart,[{key:"renderClothingPoints",value:function renderClothingPoints(t,e){var r=splitCurve(this.legCoverage,t.calf.out,t.ankle.out),n=r.left.p2,o=(r=splitCurve(1-this.legCoverage,t.ankle.in,t.calf.in)).left.p2,a=r.right.p2;o.cp1=simpleQuadratic(n,o,.5,1);var i=t.knee.out,s=t.knee.in,c=t.knee.intop,l=t.calf.out,u=t.thigh.top,p=t.thigh.in,f=calcPantsTop(t,this.waistCoverage),y=f.out,h=f.hip,d=f.top,g=f.thighOut,P=f.groin;ut.simpleStrokeFill(e,t,this),e.beginPath(),drawPoints(e,d,y,h,g,i,l,n,o,a,s,c,p,u,P),e.fill(),e.stroke()}}]),LongPantsPart}(),un=function(){pants_inherits(MediumPantsPart,pt);var n=pants_createSuper(MediumPantsPart);function MediumPantsPart(){pants_classCallCheck(this,MediumPantsPart);for(var t=arguments.length,e=new Array(t),r=0;r<t;r++)e[r]=arguments[r];return n.call.apply(n,[this,{layer:_.FRONT,loc:"leg",aboveParts:["parts leg"]}].concat(e))}return pants_createClass(MediumPantsPart,[{key:"renderClothingPoints",value:function renderClothingPoints(t,e){var r=splitCurve(this.legCoverage,t.knee.out,t.calf.out),n=r.left.p2,o=(r=splitCurve(1-this.legCoverage,t.calf.in,t.knee.in)).left.p2,a=r.right.p2;o.cp1=simpleQuadratic(n,o,.75,2);var i=t.knee.out,s=t.knee.intop,c=t.thigh.top,l=t.thigh.in,u=calcPantsTop(t,this.waistCoverage),p=u.out,f=u.hip,y=u.top,h=u.thighOut,d=u.groin;ut.simpleStrokeFill(e,t,this),e.beginPath(),drawPoints(e,y,p,f,h,i,n,o,a,s,l,c,d),e.fill(),e.stroke()}}]),MediumPantsPart}(),pn=function(){pants_inherits(ShortPantsPart,pt);var n=pants_createSuper(ShortPantsPart);function ShortPantsPart(){pants_classCallCheck(this,ShortPantsPart);for(var t=arguments.length,e=new Array(t),r=0;r<t;r++)e[r]=arguments[r];return n.call.apply(n,[this,{layer:_.FRONT,loc:"leg",aboveParts:["parts leg"]}].concat(e))}return pants_createClass(ShortPantsPart,[{key:"renderClothingPoints",value:function renderClothingPoints(t,e){var r=splitCurve(.35+.6*this.legCoverage,t.thigh.out,t.knee.out),n=r.left.p2,o=(r=splitCurve(1-this.legCoverage,t.knee.intop,t.thigh.in)).left.p2,a=r.right.p2,i=t.thigh.top;o.cp1=simpleQuadratic(n,o,.5,1/clamp(this.legCoverage,.3,1));var s=calcPantsTop(t,this.waistCoverage),c=s.out,l=s.hip,u=s.top,p=s.thighOut,f=s.groin;ut.simpleStrokeFill(e,t,this),e.beginPath(),drawPoints(e,u,c,l,p,n,o,a,i,f),e.fill(),e.stroke()}}]),ShortPantsPart}(),fn=function(){pants_inherits(ShortsPart,pt);var n=pants_createSuper(ShortsPart);function ShortsPart(){pants_classCallCheck(this,ShortsPart);for(var t=arguments.length,e=new Array(t),r=0;r<t;r++)e[r]=arguments[r];return n.call.apply(n,[this,{layer:_.FRONT,loc:"leg",aboveParts:["parts leg","parts torso","decorativeParts torso"],belowSameLayerParts:["torso"]}].concat(e))}return pants_createClass(ShortsPart,[{key:"renderClothingPoints",value:function renderClothingPoints(t,e){var r=splitCurve(.4+.55*this.legCoverage,t.hip,t.thigh.out),n=r.left.p2,o=(r=splitCurve(clamp(1.25-.75*this.legCoverage,0,1),t.thigh.in,t.thigh.top)).left.p2,a=r.right.p2;o.cp1=simpleQuadratic(n,o,.6,-3/clamp(this.legCoverage,.3,1));var i=calcPantsTop(t,this.waistCoverage),s=i.out,c=i.hip,l=i.top,u=i.groin;ut.simpleStrokeFill(e,t,this),e.beginPath(),drawPoints(e,l,s,c,n,o,a,u),e.fill(),e.stroke()}}]),ShortsPart}();function calcPantsTop(t,e){var r,n,o,a,i;a=-.1<=e?(n=(r=splitCurve(.9-e,t.waist,t.hip)).left.p2,o=r.right.p2,t.thigh.out):(n=(i=splitCurve(-.1-e,t.hip,t.thigh.out)).left.p2,i.right.p2);var s=n.y-t.hip.y,c={x:0,y:t.pelvis.y+1.2*s};n.cp1={x:.5*n.x+.5*c.x,y:c.y};var l=extractPoint(t.groin);return l.cp1={x:.5*l.x+.5*t.thigh.top.x,y:l.y},{out:n,hip:o,top:c,thighOut:a,groin:l}}var yn=function(){pants_inherits(Pants,lt);var n=pants_createSuper(Pants);function Pants(){pants_classCallCheck(this,Pants);for(var t=arguments.length,e=new Array(t),r=0;r<t;r++)e[r]=arguments[r];return n.call.apply(n,[this,{clothingLayer:ut.Layer.MID,legCoverage:1,waistCoverage:0}].concat(e))}return pants_createClass(Pants,[{key:"fill",value:function fill(){return"hsl(200, 65%, 10%)"}}]),Pants}(),hn=function(){pants_inherits(LongTightPants,yn);var n=pants_createSuper(LongTightPants);function LongTightPants(){pants_classCallCheck(this,LongTightPants);for(var t=arguments.length,e=new Array(t),r=0;r<t;r++)e[r]=arguments[r];return n.call.apply(n,[this].concat(e))}return pants_createClass(LongTightPants,[{key:"partPrototypes",get:function get(){return[{side:null,Part:cn},{side:A.LEFT,Part:ln},{side:A.RIGHT,Part:ln}]}}]),LongTightPants}(),dn=function(){pants_inherits(MediumTightPants,yn);var n=pants_createSuper(MediumTightPants);function MediumTightPants(){pants_classCallCheck(this,MediumTightPants);for(var t=arguments.length,e=new Array(t),r=0;r<t;r++)e[r]=arguments[r];return n.call.apply(n,[this].concat(e))}return pants_createClass(MediumTightPants,[{key:"partPrototypes",get:function get(){return[{side:null,Part:cn},{side:A.LEFT,Part:un},{side:A.RIGHT,Part:un}]}}]),MediumTightPants}(),gn=function(){pants_inherits(ShortTightPants,yn);var n=pants_createSuper(ShortTightPants);function ShortTightPants(){pants_classCallCheck(this,ShortTightPants);for(var t=arguments.length,e=new Array(t),r=0;r<t;r++)e[r]=arguments[r];return n.call.apply(n,[this].concat(e))}return pants_createClass(ShortTightPants,[{key:"partPrototypes",get:function get(){return[{side:null,Part:cn},{side:A.LEFT,Part:pn},{side:A.RIGHT,Part:pn}]}}]),ShortTightPants}(),Pn=function(){pants_inherits(TightShorts,yn);var n=pants_createSuper(TightShorts);function TightShorts(){pants_classCallCheck(this,TightShorts);for(var t=arguments.length,e=new Array(t),r=0;r<t;r++)e[r]=arguments[r];return n.call.apply(n,[this].concat(e))}return pants_createClass(TightShorts,[{key:"partPrototypes",get:function get(){return[{side:null,Part:cn},{side:A.LEFT,Part:fn},{side:A.RIGHT,Part:fn}]}}]),TightShorts}();function socks_typeof(t){return(socks_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function _typeof(t){return typeof t}:function _typeof(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function socks_defineProperties(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function socks_createClass(t,e,r){return e&&socks_defineProperties(t.prototype,e),r&&socks_defineProperties(t,r),t}function socks_classCallCheck(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function socks_inherits(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&socks_setPrototypeOf(t,e)}function socks_setPrototypeOf(t,e){return(socks_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(t,e){return t.__proto__=e,t})(t,e)}function socks_createSuper(r){var n=function socks_isNativeReflectConstruct(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(t){return!1}}();return function _createSuperInternal(){var t,e=socks_getPrototypeOf(r);return function socks_possibleConstructorReturn(t,e){return!e||"object"!==socks_typeof(e)&&"function"!=typeof e?function socks_assertThisInitialized(t){if(void 0!==t)return t;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}(t):e}(this,n?(t=socks_getPrototypeOf(this).constructor,Reflect.construct(e,arguments,t)):e.apply(this,arguments))}}function socks_getPrototypeOf(t){return(socks_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var vn=function(){socks_inherits(SockPart,pt);var n=socks_createSuper(SockPart);function SockPart(){socks_classCallCheck(this,SockPart);for(var t=arguments.length,e=new Array(t),r=0;r<t;r++)e[r]=arguments[r];return n.call.apply(n,[this,{layer:_.FRONT,loc:"feet",aboveParts:["parts feet","parts leg"]}].concat(e))}return SockPart}(),bn=function(){socks_inherits(ShortSockPart,vn);var n=socks_createSuper(ShortSockPart);function ShortSockPart(){socks_classCallCheck(this,ShortSockPart);for(var t=arguments.length,e=new Array(t),r=0;r<t;r++)e[r]=arguments[r];return n.call.apply(n,[this].concat(e))}return socks_createClass(ShortSockPart,[{key:"renderClothingPoints",value:function renderClothingPoints(t,e){var r=extractPoint(t.ankle.out),n=t.ankle.outbot,o=t.toe.out,a=t.toe.in,i=t.ankle.inbot,s=t.ankle.in;r.cp1=simpleQuadratic(s,r,.5,-3),ut.simpleStrokeFill(e,t,this),e.beginPath(),drawPoints(e,r,n,o,a,i,s,r),e.fill(),e.stroke()}}]),ShortSockPart}(),_n=function(){socks_inherits(MediumSockPart,vn);var n=socks_createSuper(MediumSockPart);function MediumSockPart(){socks_classCallCheck(this,MediumSockPart);for(var t=arguments.length,e=new Array(t),r=0;r<t;r++)e[r]=arguments[r];return n.call.apply(n,[this].concat(e))}return socks_createClass(MediumSockPart,[{key:"renderClothingPoints",value:function renderClothingPoints(t,e){var r=1-this.length;.75<this.length&&(r+=.3*(this.length-.75));var n=splitCurve(r,t.calf.out,t.ankle.out),o=n.left.p2,a=n.right.p2,i=(n=splitCurve(this.length,t.ankle.in,t.calf.in)).left.p2;o.cp1=simpleQuadratic(i,o,.5,-2.5+this.length),ut.simpleStrokeFill(e,t,this),e.beginPath(),drawPoints(e,o,a,t.ankle.outbot,t.toe.out,t.toe.in,t.ankle.inbot,t.ankle.in,i,o),e.fill(),e.stroke()}}]),MediumSockPart}(),mn=function(){socks_inherits(LongSockPart,vn);var n=socks_createSuper(LongSockPart);function LongSockPart(){socks_classCallCheck(this,LongSockPart);for(var t=arguments.length,e=new Array(t),r=0;r<t;r++)e[r]=arguments[r];return n.call.apply(n,[this].concat(e))}return socks_createClass(LongSockPart,[{key:"renderClothingPoints",value:function renderClothingPoints(t,e){var r=splitCurve(1-this.length,t.knee.out,t.calf.out),n=r.left.p2,o=r.right.p2,a=this.length;this.length<.7&&(a+=.3*(.7-this.length));var i=(r=splitCurve(a,t.calf.in,t.knee.in)).left.p2;n.cp1=simpleQuadratic(i,n,.5,-2.5+this.length),ut.simpleStrokeFill(e,t,this),e.beginPath(),drawPoints(e,n,o,t.ankle.out,t.ankle.outbot,t.toe.out,t.toe.in,t.ankle.inbot,t.ankle.in,t.calf.in,i,n),e.fill(),e.stroke()}}]),LongSockPart}(),Sn=function(){socks_inherits(ThighHighPart,vn);var n=socks_createSuper(ThighHighPart);function ThighHighPart(){socks_classCallCheck(this,ThighHighPart);for(var t=arguments.length,e=new Array(t),r=0;r<t;r++)e[r]=arguments[r];return n.call.apply(n,[this].concat(e))}return socks_createClass(ThighHighPart,[{key:"renderClothingPoints",value:function renderClothingPoints(t,e){var r=splitCurve(.5-.5*this.length,t.thigh.out,t.knee.out),n=r.left.p2,o=r.right.p2,a=(r=splitCurve(.5*this.length,t.thigh.in,t.thigh.top)).left.p2;n.cp1=simpleQuadratic(a,n,.5,2.5+this.length),ut.simpleStrokeFill(e,t,this),e.beginPath(),drawPoints(e,n,o,t.calf.out,t.ankle.out,t.ankle.outbot,t.toe.out,t.toe.in,t.ankle.inbot,t.ankle.in,t.calf.in,t.knee.in,t.knee.intop,a),e.stroke(),drawPoints(e,null,n),e.fill()}}]),ThighHighPart}(),kn=function(){socks_inherits(ThighHighBandPart,vn);var n=socks_createSuper(ThighHighBandPart);function ThighHighBandPart(){socks_classCallCheck(this,ThighHighBandPart);for(var t=arguments.length,e=new Array(t),r=0;r<t;r++)e[r]=arguments[r];return n.call.apply(n,[this,{aboveSameLayerParts:["feet"]}].concat(e))}return socks_createClass(ThighHighBandPart,[{key:"renderClothingPoints",value:function renderClothingPoints(t,e){var r=splitCurve(.5-.5*this.length-.03*this.bandWidth,t.thigh.out,t.knee.out),n=r.left.p2,o=(r=splitCurve(.1*this.bandWidth,n,t.knee.out)).left.p2,a=(r=splitCurve(.5*this.length+.03*this.bandWidth,t.thigh.in,t.thigh.top)).left.p2,i=(r=splitCurve(.2*this.bandWidth,t.thigh.in,a)).left.p2;a.cp1=r.right.p2.cp1,a.cp2=r.right.p2.cp2,i.cp1=simpleQuadratic(o,i,.5,-2.5-this.length),n.cp1=simpleQuadratic(a,n,.5,2.5+this.length),ut.simpleStrokeFill(e,t,{stroke:this.bandPattern,fill:this.bandPattern}),e.beginPath(),drawPoints(e,n,o,i,a,n),e.fill(),e.stroke()}}]),ThighHighBandPart}(),Cn=function(){socks_inherits(Sock,lt);var n=socks_createSuper(Sock);function Sock(){socks_classCallCheck(this,Sock);for(var t=arguments.length,e=new Array(t),r=0;r<t;r++)e[r]=arguments[r];return n.call.apply(n,[this,{clothingLayer:ut.Layer.BASE,length:.5,thickness:1,stroke:"#b1a693"}].concat(e))}return Sock}(),wn=function(){socks_inherits(ShortSocks,Cn);var n=socks_createSuper(ShortSocks);function ShortSocks(){socks_classCallCheck(this,ShortSocks);for(var t=arguments.length,e=new Array(t),r=0;r<t;r++)e[r]=arguments[r];return n.call.apply(n,[this].concat(e))}return socks_createClass(ShortSocks,[{key:"partPrototypes",get:function get(){return[{side:A.LEFT,Part:bn},{side:A.RIGHT,Part:bn}]}}]),ShortSocks}(),xn=function(){socks_inherits(MediumSocks,Cn);var n=socks_createSuper(MediumSocks);function MediumSocks(){socks_classCallCheck(this,MediumSocks);for(var t=arguments.length,e=new Array(t),r=0;r<t;r++)e[r]=arguments[r];return n.call.apply(n,[this].concat(e))}return socks_createClass(MediumSocks,[{key:"partPrototypes",get:function get(){return[{side:A.LEFT,Part:_n},{side:A.RIGHT,Part:_n}]}}]),MediumSocks}(),On=function(){socks_inherits(LongSocks,Cn);var n=socks_createSuper(LongSocks);function LongSocks(){socks_classCallCheck(this,LongSocks);for(var t=arguments.length,e=new Array(t),r=0;r<t;r++)e[r]=arguments[r];return n.call.apply(n,[this].concat(e))}return socks_createClass(LongSocks,[{key:"partPrototypes",get:function get(){return[{side:A.LEFT,Part:mn},{side:A.RIGHT,Part:mn}]}}]),LongSocks}(),An=function(){socks_inherits(ThighHighs,Cn);var n=socks_createSuper(ThighHighs);function ThighHighs(){socks_classCallCheck(this,ThighHighs);for(var t=arguments.length,e=new Array(t),r=0;r<t;r++)e[r]=arguments[r];return n.call.apply(n,[this,{bandWidth:2,bandPattern:"#000"}].concat(e))}return socks_createClass(ThighHighs,[{key:"partPrototypes",get:function get(){return[{side:A.LEFT,Part:Sn},{side:A.RIGHT,Part:Sn},{side:A.RIGHT,Part:kn}]}}]),ThighHighs}();function jewelry_typeof(t){return(jewelry_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function _typeof(t){return typeof t}:function _typeof(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function jewelry_toConsumableArray(t){return function jewelry_arrayWithoutHoles(t){if(Array.isArray(t))return jewelry_arrayLikeToArray(t)}(t)||function jewelry_iterableToArray(t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(t))return Array.from(t)}(t)||function jewelry_unsupportedIterableToArray(t,e){if(!t)return;if("string"==typeof t)return jewelry_arrayLikeToArray(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);"Object"===r&&t.constructor&&(r=t.constructor.name);if("Map"===r||"Set"===r)return Array.from(t);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return jewelry_arrayLikeToArray(t,e)}(t)||function jewelry_nonIterableSpread(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function jewelry_arrayLikeToArray(t,e){(null==e||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function jewelry_classCallCheck(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function jewelry_defineProperties(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function jewelry_createClass(t,e,r){return e&&jewelry_defineProperties(t.prototype,e),r&&jewelry_defineProperties(t,r),t}function jewelry_inherits(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&jewelry_setPrototypeOf(t,e)}function jewelry_setPrototypeOf(t,e){return(jewelry_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(t,e){return t.__proto__=e,t})(t,e)}function jewelry_createSuper(r){var n=function jewelry_isNativeReflectConstruct(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(t){return!1}}();return function _createSuperInternal(){var t,e=jewelry_getPrototypeOf(r);return function jewelry_possibleConstructorReturn(t,e){return!e||"object"!==jewelry_typeof(e)&&"function"!=typeof e?function jewelry_assertThisInitialized(t){if(void 0!==t)return t;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}(t):e}(this,n?(t=jewelry_getPrototypeOf(this).constructor,Reflect.construct(e,arguments,t)):e.apply(this,arguments))}}function jewelry_getPrototypeOf(t){return(jewelry_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var Tn=function(){jewelry_inherits(RingBotPart,pt);var n=jewelry_createSuper(RingBotPart);function RingBotPart(){jewelry_classCallCheck(this,RingBotPart);for(var t=arguments.length,e=new Array(t),r=0;r<t;r++)e[r]=arguments[r];return n.call.apply(n,[this,{layer:_.BELOW_HAIR,loc:"".concat(w.EAR),reflect:!1,belowParts:["faceParts ".concat(w.EAR)]},{radius:2}].concat(e))}return jewelry_createClass(RingBotPart,[{key:"renderClothingPoints",value:function renderClothingPoints(t,e){var r=locateRelativeToDrawpoint(t,this.relativeLocation);ut.simpleStrokeFill(e,t,this),e.beginPath(),e.arc(r.x,r.y,this.radius,0,2*Math.PI),e.stroke()}}]),RingBotPart}(),jn=function(){jewelry_inherits(RingTopPart,pt);var n=jewelry_createSuper(RingTopPart);function RingTopPart(){jewelry_classCallCheck(this,RingTopPart);for(var t=arguments.length,e=new Array(t),r=0;r<t;r++)e[r]=arguments[r];return n.call.apply(n,[this,{layer:_.BELOW_HAIR,loc:"".concat(w.EAR),reflect:!1,aboveParts:["faceParts ".concat(w.EAR)]}].concat(e))}return jewelry_createClass(RingTopPart,[{key:"renderClothingPoints",value:function renderClothingPoints(t,e){var r=locateRelativeToDrawpoint(t,this.relativeLocation);ut.simpleStrokeFill(e,t,this),e.beginPath();var n=rad(this.rotation);e.arc(r.x,r.y,this.radius,n,Math.PI+n),e.stroke()}}]),RingTopPart}(),Rn=function(){jewelry_inherits(StudPart,pt);var n=jewelry_createSuper(StudPart);function StudPart(){jewelry_classCallCheck(this,StudPart);for(var t=arguments.length,e=new Array(t),r=0;r<t;r++)e[r]=arguments[r];return n.call.apply(n,[this,{layer:_.BELOW_HAIR,loc:"".concat(w.NOSE),reflect:!1,aboveParts:["faceParts ".concat(w.NOSE)]},{radius:.3}].concat(e))}return jewelry_createClass(StudPart,[{key:"renderClothingPoints",value:function renderClothingPoints(t,e){var r=locateRelativeToDrawpoint(t,this.relativeLocation);ut.simpleStrokeFill(e,t,this),e.beginPath();var n=drawCircle(r,this.radius);drawPoints.apply(void 0,[e].concat(jewelry_toConsumableArray(n))),e.fill()}}]),StudPart}(),Bn=function(){jewelry_inherits(ChainPart,pt);var n=jewelry_createSuper(ChainPart);function ChainPart(){jewelry_classCallCheck(this,ChainPart);for(var t=arguments.length,e=new Array(t),r=0;r<t;r++)e[r]=arguments[r];return n.call.apply(n,[this,{layer:_.HAIR,loc:"+".concat(w.NOSE),reflect:!1},{thickness:.7,slack:1}].concat(e))}return jewelry_createClass(ChainPart,[{key:"renderClothingPoints",value:function renderClothingPoints(t,e){var r=locateRelativeToDrawpoint(t,this.relativeLocation),n=locateRelativeToDrawpoint(t,this.endRelativeLocation);ut.simpleStrokeFill(e,t,this),n.cp1={x:(r.x+n.x)/2,y:(r.y+n.y)/2-this.slack*norm(point_diff(r,n))},e.beginPath(),e.setLineDash([1,1]),drawPoints(e,r,n),e.stroke(),e.setLineDash([])}}]),ChainPart}(),En=function(){jewelry_inherits(Jewelry,lt);var n=jewelry_createSuper(Jewelry);function Jewelry(){jewelry_classCallCheck(this,Jewelry);for(var t=arguments.length,e=new Array(t),r=0;r<t;r++)e[r]=arguments[r];return n.call.apply(n,[this,{clothingLayer:ut.Layer.INNER,stroke:"rgb(255,223,0)",fill:"rgb(255,223,0)"}].concat(e))}return Jewelry}(),Ln=function(){jewelry_inherits(Piercing,En);var o=jewelry_createSuper(Piercing);function Piercing(){var e;jewelry_classCallCheck(this,Piercing);for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];return(e=o.call.apply(o,[this,{rotation:0}].concat(r))).parts.forEach(function(t){t.loc=e.loc,processClothingPartLocation(e.side,t)}),e}return Piercing}(),In=function(){jewelry_inherits(RingPiercing,Ln);var n=jewelry_createSuper(RingPiercing);function RingPiercing(){jewelry_classCallCheck(this,RingPiercing);for(var t=arguments.length,e=new Array(t),r=0;r<t;r++)e[r]=arguments[r];return n.call.apply(n,[this,{relativeLocation:{drawpoint:"ear.mid",dx:0,dy:0},loc:"".concat(w.EAR),requiredParts:"faceParts"}].concat(e))}return jewelry_createClass(RingPiercing,[{key:"partPrototypes",get:function get(){return[{side:null,Part:Tn},{side:null,Part:jn}]}}]),RingPiercing}(),Fn=function(){jewelry_inherits(StudPiercing,Ln);var n=jewelry_createSuper(StudPiercing);function StudPiercing(){jewelry_classCallCheck(this,StudPiercing);for(var t=arguments.length,e=new Array(t),r=0;r<t;r++)e[r]=arguments[r];return n.call.apply(n,[this,{relativeLocation:{drawpoint:"nose.out",dx:0,dy:0},loc:"".concat(w.NOSE),requiredParts:"faceParts"}].concat(e))}return jewelry_createClass(StudPiercing,[{key:"partPrototypes",get:function get(){return[{side:null,Part:Rn}]}}]),StudPiercing}(),Hn=function(){jewelry_inherits(ChainJewelry,Ln);var n=jewelry_createSuper(ChainJewelry);function ChainJewelry(){jewelry_classCallCheck(this,ChainJewelry);for(var t=arguments.length,e=new Array(t),r=0;r<t;r++)e[r]=arguments[r];return n.call.apply(n,[this,{relativeLocation:{drawpoint:"nose.out",dx:0,dy:0},endRelativeLocation:{drawpoint:"ear.mid",dx:0,dy:0},loc:"".concat(w.NOSE),requiredParts:"faceParts"}].concat(e))}return jewelry_createClass(ChainJewelry,[{key:"partPrototypes",get:function get(){return[{side:null,Part:Bn}]}}]),ChainJewelry}();function auxiliary_typeof(t){return(auxiliary_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function _typeof(t){return typeof t}:function _typeof(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function getLimbPoints(){for(var t=[],e=[],r=arguments[0],n=arguments[1],o=arguments[2],a=r.y-(r.y-n.y)*o,i=3;i<arguments.length;i++)arguments[i]&&t.push(clone(arguments[i]));if(a>t[0].y)e[0]=t[0];else if(a<t[t.length-1].y)e=t;else for(var s=1;s<t.length;s++){if(a==t[s].y){e=t.splice(0,s+1);break}if(a>t[s].y){var c=function point_between(t,e,r){var n=t.y-e.y;return splitCurve(Math.abs((r-t.y)/n),t,e).left.p2}(t[s-1],t[s],a);(e=t.splice(0,s))[e.length]=c;break}}return e}function getLimbPointsAbovePoint(){function point_between(t,e){var r=splitCurve(interpolateCurve(t,e,{x:null,y:n.y})[0].t,t,e);return{bottom:r.left.p2,second:r.right.p2}}for(var t=[],e=[],n=arguments[0],r=n.y,o=arguments[1],a=2;a<arguments.length;a++)arguments[a]&&t.push(clone(arguments[a]));if(r>t[0].y)e[0]=t[0];else if(r<t[t.length-1].y)e=t;else for(var i=1;i<t.length;i++){if(r==t[i].y){e=t.splice(0,i+1);break}if(r>t[i].y){var s,c=void 0;o?(c=(s=point_between(t[i],t[i-1])).bottom,t[i-1]=s.second):c=point_between(t[i-1],t[i]).bottom,(e=t.splice(0,i)).push(c);break}}return o&&e.reverse(),e}function getLimbPointsNegative(){for(var t=[],e=[],r=arguments[0],n=arguments[1],o=arguments[2],a=r.y-(r.y-n.y)*o,i=3;i<arguments.length;i++)arguments[i]&&t.push(clone(arguments[i]));if(a>t[0].y)e=t;else if(a<t[t.length-1].y)e[0]=t[t.length-1];else for(var s=t.length-2;0<=s;s--)if(a<t[s].y){var c=function point_between(t,e,r){var n=t.y-e.y,o=splitCurve(Math.abs((r-t.y)/n),t,e);return{top:o.left.p2,second:o.right.p2}}(t[s],t[s+1],a),l=c.top;t[s+1]=c.second,t.splice(0,s+1),(e=t).unshift(l);break}return e}function getLimbPointsBellowPoint(n,t){function point_between(t,e){var r=splitCurve(interpolateCurve(t,e,{x:null,y:n.y})[0].t,t,e);r.left.p2;return{point:r.left.p2,second:r.right.p2}}for(var e=[],r=[],o=n.y,a=2;a<arguments.length;a++)arguments[a]&&e.push(clone(arguments[a]));if(o>e[0].y)r=e;else if(o<e[e.length-1].y)r[0]=e[e.length-1];else for(var i=e.length-2;0<=i;i--)if(o<e[i].y){var s=void 0;t?s=point_between(e[i+1],e[i]):(s=point_between(e[i],e[i+1]),e[i+1]=s.second),e.splice(0,i+1),(r=e).unshift(s.point);break}return t&&r.reverse(),r}function findBetween(t,e,r){var n=2<arguments.length&&void 0!==r?r:.5;return"object"===auxiliary_typeof(e)&&void 0!==auxiliary_typeof(e.x)&&void 0!==auxiliary_typeof(e.y)&&"object"===auxiliary_typeof(t)&&void 0!==auxiliary_typeof(t.x)&&void 0!==auxiliary_typeof(t.y)?{x:findBetween(t.x,e.x,n),y:findBetween(t.y,e.y,n)}:("object"==auxiliary_typeof(e)&&console.log("ERROR! The first variable inputed in findBetween() is not a primitive value (ie is object)! "),"object"==auxiliary_typeof(t)&&console.log("ERROR! The second variable inputed in findBetween() is not a primitive value (ie is object)! "),t+(e-t)*n)}function straightenCurve(t,e,r){var n={x:findBetween(t.x,e.x,.5),y:findBetween(t.y,e.y,.5)};e.cp1&&(e.cp1.x=findBetween(e.cp1.x,n.x,r),e.cp1.y=findBetween(e.cp1.y,n.y,r)),e.cp2&&(e.cp2.x=findBetween(e.cp2.x,n.x,r),e.cp2.y=findBetween(e.cp2.y,n.y,r))}function lineLineIntersection(t,e,r,n){var o=e.y-t.y,a=t.x-e.x,i=o*t.x+a*t.y,s=n.y-r.y,c=r.x-n.x,l=s*r.x+c*r.y,u=o*c-s*a;return 0==u?void console.log("Err - lineLineIntersection - they are paralel"):{x:(c*i-a*l)/u,y:(o*l-s*i)/u}}function getLacingPoints(t,e,r,n,o,a){var i=5<arguments.length&&void 0!==a?a:0;o=Math.abs(Math.round(o));for(var s=[],c=[],l=1/++o,u=0;u*l<=1;u++)u%2!=0?(s[u]=adjust(getPointOnCurve(l*u,t,e),i,0),c[u]=adjust(getPointOnCurve(l*u,r,n),-i,0)):(s[u]=adjust(getPointOnCurve(l*u,r,n),-i,0),c[u]=adjust(getPointOnCurve(l*u,t,e),i,0));return{inner:s,outer:c}}function perpendicularPoint(t,e,r,n){var o=findBetween(t,e,r);return polar2cartesian(n,cartesian2polar(e,t).theta+Math.PI/2,o)}function cartesian2polar(t,e){(e=e||{}).x||(e.x=0),e.y||(e.y=0);var r=t.x-e.x,n=t.y-e.y;return{r:Math.sqrt(Math.pow(r,2)+Math.pow(n,2)),theta:Math.atan2(n,r)}}function polar2cartesian(t,e,r){return(r=r||{}).x||(r.x=0),r.y||(r.y=0),{x:t*Math.cos(e)+r.x,y:t*Math.sin(e)+r.y}}function copyCurve(t,e,r,n){var o,a,i,s,c,l,u=cartesian2polar(e,t).r,p=cartesian2polar(n,r).r/u,f=findBetween(e,t),y=findBetween(n,r);e.cp1&&(a=(o=cartesian2polar(e.cp1,f)).r,i=o.theta,i-=cartesian2polar(e,f).theta,i+=cartesian2polar(n,y).theta,n.cp1=polar2cartesian(a*p,i,y)),e.cp2&&(c=(s=cartesian2polar(e.cp2,f)).r,l=s.theta,l-=cartesian2polar(e,f).theta,l+=cartesian2polar(n,y).theta,n.cp2=polar2cartesian(c*p,l,y))}function accessory_typeof(t){return(accessory_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function _typeof(t){return typeof t}:function _typeof(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function accessory_toConsumableArray(t){return function accessory_arrayWithoutHoles(t){if(Array.isArray(t))return accessory_arrayLikeToArray(t)}(t)||function accessory_iterableToArray(t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(t))return Array.from(t)}(t)||accessory_unsupportedIterableToArray(t)||function accessory_nonIterableSpread(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function accessory_slicedToArray(t,e){return function accessory_arrayWithHoles(t){if(Array.isArray(t))return t}(t)||function accessory_iterableToArrayLimit(t,e){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(t)))return;var r=[],n=!0,o=!1,a=void 0;try{for(var i,s=t[Symbol.iterator]();!(n=(i=s.next()).done)&&(r.push(i.value),!e||r.length!==e);n=!0);}catch(t){o=!0,a=t}finally{try{n||null==s.return||s.return()}finally{if(o)throw a}}return r}(t,e)||accessory_unsupportedIterableToArray(t,e)||function accessory_nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function accessory_unsupportedIterableToArray(t,e){if(t){if("string"==typeof t)return accessory_arrayLikeToArray(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);return"Object"===r&&t.constructor&&(r=t.constructor.name),"Map"===r||"Set"===r?Array.from(t):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?accessory_arrayLikeToArray(t,e):void 0}}function accessory_arrayLikeToArray(t,e){(null==e||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function accessory_defineProperties(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function accessory_createClass(t,e,r){return e&&accessory_defineProperties(t.prototype,e),r&&accessory_defineProperties(t,r),t}function accessory_classCallCheck(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function accessory_inherits(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&accessory_setPrototypeOf(t,e)}function accessory_setPrototypeOf(t,e){return(accessory_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(t,e){return t.__proto__=e,t})(t,e)}function accessory_createSuper(r){var n=function accessory_isNativeReflectConstruct(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(t){return!1}}();return function _createSuperInternal(){var t,e=accessory_getPrototypeOf(r);return function accessory_possibleConstructorReturn(t,e){return!e||"object"!==accessory_typeof(e)&&"function"!=typeof e?function accessory_assertThisInitialized(t){if(void 0!==t)return t;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}(t):e}(this,n?(t=accessory_getPrototypeOf(this).constructor,Reflect.construct(e,arguments,t)):e.apply(this,arguments))}}function accessory_getPrototypeOf(t){return(accessory_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var Mn=function(){accessory_inherits(FaceAccessoryPart,pt);var n=accessory_createSuper(FaceAccessoryPart);function FaceAccessoryPart(){accessory_classCallCheck(this,FaceAccessoryPart);for(var t=arguments.length,e=new Array(t),r=0;r<t;r++)e[r]=arguments[r];return n.call.apply(n,[this,{layer:_.BELOW_HAIR,loc:"+head",aboveParts:["eyelid","brow","eyelash","decorativeParts head"]}].concat(e))}return FaceAccessoryPart}(),Dn=function(){accessory_inherits(GagStrapPart,Mn);var n=accessory_createSuper(GagStrapPart);function GagStrapPart(){accessory_classCallCheck(this,GagStrapPart);for(var t=arguments.length,e=new Array(t),r=0;r<t;r++)e[r]=arguments[r];return n.call.apply(n,[this,{reflect:!0}].concat(e))}return accessory_createClass(GagStrapPart,[{key:"renderClothingPoints",value:function renderClothingPoints(t,e){var r=extractPoint(t.chin.out),n=accessory_slicedToArray(calcGag(t),4)[1];n.cp1=simpleQuadratic(r,n,.5,1),n.cp2=null,ut.simpleStrokeFill(e,t,this),e.beginPath(),drawPoints(e,r,n),e.stroke()}}]),GagStrapPart}(),Nn=function(){accessory_inherits(TopTriangularStrap,Mn);var n=accessory_createSuper(TopTriangularStrap);function TopTriangularStrap(){accessory_classCallCheck(this,TopTriangularStrap);for(var t=arguments.length,e=new Array(t),r=0;r<t;r++)e[r]=arguments[r];return n.call.apply(n,[this,{layer:_.ABOVE_HAIR,reflect:!0,branchOutDistance:18}].concat(e))}return accessory_createClass(TopTriangularStrap,[{key:"renderClothingPoints",value:function renderClothingPoints(t,e){var r=extractPoint(t.chin.out),n={x:0,y:t.skull.y-this.branchOutDistance};n.cp1=simpleQuadratic(r,n,.5,1);var o=extractPoint(t.skull);ut.simpleStrokeFill(e,t,this),e.beginPath(),drawPoints(e,r,n,o),e.stroke()}}]),TopTriangularStrap}(),Wn=function(){accessory_inherits(RingGagPart,Mn);var n=accessory_createSuper(RingGagPart);function RingGagPart(){accessory_classCallCheck(this,RingGagPart);for(var t=arguments.length,e=new Array(t),r=0;r<t;r++)e[r]=arguments[r];return n.call.apply(n,[this,{ringStroke:"#393939",ringThickness:.5,spiderLegs:!1}].concat(e))}return accessory_createClass(RingGagPart,[{key:"renderClothingPoints",value:function renderClothingPoints(t,e){setStrokeAndFill(e,{stroke:this.ringStroke,fill:this.ringStroke},t),e.lineWidth=this.ringThickness;var r=calcGag(t);if(e.beginPath(),drawPoints.apply(void 0,[e].concat(accessory_toConsumableArray(r))),e.stroke(),this.spiderLegs){for(var n=[],o=0;o<r.length-1;++o){var a=splitCurve(.5,r[o],r[o+1]).left.p2,i=null,i=o%2==0?{x:1.2*r[o+1].x,y:r[o].y}:{x:1.2*r[o].x,y:r[o+1].y},s=null,s=o in[0,1]?{x:i.x+1,y:i.y}:{x:i.x-1,y:i.y};n.push(a,i,s,v)}e.beginPath(),drawPoints.apply(void 0,[e].concat(n)),e.stroke()}}}]),RingGagPart}(),Gn=function(){accessory_inherits(BallGagPart,Mn);var n=accessory_createSuper(BallGagPart);function BallGagPart(){accessory_classCallCheck(this,BallGagPart);for(var t=arguments.length,e=new Array(t),r=0;r<t;r++)e[r]=arguments[r];return n.call.apply(n,[this,{ballFill:"red"}].concat(e))}return accessory_createClass(BallGagPart,[{key:"renderClothingPoints",value:function renderClothingPoints(t,e){setStrokeAndFill(e,{stroke:this.ballFill,fill:this.ballFill},t);var r=accessory_slicedToArray(calcGag(t),5),n=r[0],o=r[1],a=r[2],i=r[3];r[4];e.beginPath(),drawPoints(e,n,o,a,i,n),e.fill()}}]),BallGagPart}();function calcGag(t){return drawCircle({x:0,y:.53*t.lips.top.y+.47*t.lips.bot.y},.7*Math.min((t.lips.top.y-t.lips.bot.y)/2,t.lips.out.x))}var Un=function(){accessory_inherits(BlindFoldPart,Mn);var n=accessory_createSuper(BlindFoldPart);function BlindFoldPart(){accessory_classCallCheck(this,BlindFoldPart);for(var t=arguments.length,e=new Array(t),r=0;r<t;r++)e[r]=arguments[r];return n.call.apply(n,[this,{reflect:!0},{width:6,splitAlongSkull:.9,fromSkullDistance:16}].concat(e))}return accessory_createClass(BlindFoldPart,[{key:"renderClothingPoints",value:function renderClothingPoints(t,e){var r=extractPoint(splitCurve(.96,t.skull,t.skull.side).right.p1),n={x:0,y:t.skull.y-this.fromSkullDistance};n.cp1={x:r.x-.5,y:r.y-2},n.cp2={x:n.x+2,y:n.y};var o={x:0,y:n.y-this.width},a=splitCurve(this.splitAlongSkull,t.skull.side,t.skull.bot).right.p1;ut.simpleStrokeFill(e,t,this),e.beginPath(),drawPoints(e,r,n,o,a,r),e.fill()}}]),BlindFoldPart}(),zn=function(){accessory_inherits(GlassesPart,Mn);var n=accessory_createSuper(GlassesPart);function GlassesPart(){accessory_classCallCheck(this,GlassesPart);for(var t=arguments.length,e=new Array(t),r=0;r<t;r++)e[r]=arguments[r];return n.call.apply(n,[this,{reflect:!0},{eccentricity:5,height:3,thickness:.5}].concat(e))}return accessory_createClass(GlassesPart,[{key:"renderClothingPoints",value:function renderClothingPoints(t,e){ut.simpleStrokeFill(e,t,this);var r=extractPoint(t.ear.mid);r.y+=1,--r.x;var n=extractPoint(t.eyes.out);n.x+=1;var o=extractPoint(t.ear.mid);o.x-=2,o.y+=2;var a=extractPoint(t.eyes.in);a.x-=1.8;var i=this.eccentricity,s=this.height,c={x:a.x,y:a.y};c.cp1=perpendicularPoint(a,n,.5,s),c.cp1.x+=i,c.cp2=perpendicularPoint(a,n,.5,s),c.cp2.x+=-i;var l={x:a.x,y:a.y};l.cp1=perpendicularPoint(a,n,.5,-s),l.cp1.x+=i,l.cp2=perpendicularPoint(a,n,.5,-s),l.cp2.x+=-i;var u=reflect(a);u.cp1={y:a.y+2,x:0},e.beginPath(),drawPoints(e,n,c,v,n,l),e.fill(),e.beginPath(),drawPoints(e,o,n,c,v,n,l,u),e.stroke()}}]),GlassesPart}(),Qn=function(){accessory_inherits(SimpleBeltPart,pt);var n=accessory_createSuper(SimpleBeltPart);function SimpleBeltPart(){accessory_classCallCheck(this,SimpleBeltPart);for(var t=arguments.length,e=new Array(t),r=0;r<t;r++)e[r]=arguments[r];return n.call.apply(n,[this,{layer:_.MIDRIFT,loc:"+torso",reflect:!0,aboveParts:["parts leg","clothingParts groin","parts chest","clothingParts chest","decorativeParts chest"],aboveSameLayerParts:["clothingParts torso"]},{waistCoverage:.2,beltWidth:4,beltCurve:-1,highlight:"#cdc331"}].concat(e))}return accessory_createClass(SimpleBeltPart,[{key:"renderClothingPoints",value:function renderClothingPoints(t,e){ut.simpleStrokeFill(e,t,this);var r=calcBelt.call(this,t),n=r.inTop,o=r.outTop,a=r.outMid,i=r.outBot,s=r.inBot;e.beginPath(),drawPoints(e,n,o,a,i,s),e.fill(),e.stroke(),e.fill(),e.stroke()}}]),SimpleBeltPart}();function calcBelt(t){var e,r,n,o;this.beltWidth<0&&(this.beltWidth=0),n=!((e=0<this.waistCoverage?extractPoint((o=splitCurve(1-this.waistCoverage,t.waist,t.hip)).left.p2):extractPoint((o=splitCurve(Math.abs(this.waistCoverage),t.hip,t.thigh.out)).left.p2)).y-this.beltWidth>t.hip.y)&&e.y>t.hip.y?(r=o.right.p2,(n=splitCurve((n=interpolateCurve(t.hip,t.thigh.out,{x:null,y:e.y-this.beltWidth}))[0].t,t.hip,t.thigh.out)).left.p2):(n=splitCurve((n=interpolateCurve(o.left.p2,o.right.p2,{x:null,y:e.y-this.beltWidth}))[0].t,o.left.p2,o.right.p2)).left.p2;var a,i=e.y-t.hip.y,s={x:-.2,y:(a={x:-.2,y:t.pelvis.y+1.2*i+this.beltCurve}).y-this.beltWidth};return e.cp1={x:.5*(e.x+a.x),y:a.y},s.cp1={x:.5*(s.x+n.x),y:s.y},{inTop:a,outTop:e,outMid:r,outBot:n,inBot:s}}var Vn=function(){accessory_inherits(ApronPart,pt);var n=accessory_createSuper(ApronPart);function ApronPart(){accessory_classCallCheck(this,ApronPart);for(var t=arguments.length,e=new Array(t),r=0;r<t;r++)e[r]=arguments[r];return n.call.apply(n,[this,{layer:_.MIDRIFT,loc:"+torso",reflect:!0,aboveSameLayerParts:["clothingParts torso"],aboveParts:["parts leg","clothingParts groin","parts chest","clothingParts chest","decorativeParts chest"]},{waistCoverage:.5,beltWidth:3,beltCurve:-1,coverage:.9,length:50,curveX:20,curveY:0,highlight:"#cdc331"}].concat(e))}return accessory_createClass(ApronPart,[{key:"renderClothingPoints",value:function renderClothingPoints(t,e){ut.simpleStrokeFill(e,t,this);var r=calcBelt.call(this,t),n=r.inTop,o=r.outTop,a=(r.outMid,r.outBot,r.inBot),i=splitCurve(this.coverage,n,o).left.p2,s={x:a.x,y:a.y-this.length};s.cp1={x:i.x+this.curveX,y:s.y+this.curveY},e.beginPath(),drawPoints(e,n,i,s),e.fill(),e.stroke()}}]),ApronPart}(),qn=function(){accessory_inherits(Accessory,lt);var n=accessory_createSuper(Accessory);function Accessory(){accessory_classCallCheck(this,Accessory);for(var t=arguments.length,e=new Array(t),r=0;r<t;r++)e[r]=arguments[r];return n.call.apply(n,[this,{clothingLayer:ut.Layer.MID}].concat(e))}return Accessory}(),Jn=function(){accessory_inherits(Glasses,qn);var n=accessory_createSuper(Glasses);function Glasses(){accessory_classCallCheck(this,Glasses);for(var t=arguments.length,e=new Array(t),r=0;r<t;r++)e[r]=arguments[r];return n.call.apply(n,[this].concat(e))}return accessory_createClass(Glasses,[{key:"fill",value:function fill(){return"#a2a2a2"}},{key:"stroke",value:function stroke(){return"#1e1e1e"}},{key:"partPrototypes",get:function get(){return[{side:null,Part:zn}]}}]),Glasses}(),$n=function(){accessory_inherits(Gag,qn);var o=accessory_createSuper(Gag);function Gag(){var t;accessory_classCallCheck(this,Gag);for(var e=arguments.length,r=new Array(e),n=0;n<e;n++)r[n]=arguments[n];return(t=o.call.apply(o,[this,{lipParting:60,thickness:1.5}].concat(r))).Mods=Object.assign({lipParting:t.lipParting},t.Mods),t}return accessory_createClass(Gag,[{key:"fill",value:function fill(){return"#a2a2a2"}},{key:"stroke",value:function stroke(){return"#1e1e1e"}}]),Gag}(),Yn=function(){accessory_inherits(SimpleRingGag,$n);var n=accessory_createSuper(SimpleRingGag);function SimpleRingGag(){accessory_classCallCheck(this,SimpleRingGag);for(var t=arguments.length,e=new Array(t),r=0;r<t;r++)e[r]=arguments[r];return n.call.apply(n,[this].concat(e))}return accessory_createClass(SimpleRingGag,[{key:"partPrototypes",get:function get(){return[{side:null,Part:Dn},{side:null,Part:Wn}]}}]),SimpleRingGag}(),Xn=function(){accessory_inherits(SimpleBallGag,$n);var n=accessory_createSuper(SimpleBallGag);function SimpleBallGag(){accessory_classCallCheck(this,SimpleBallGag);for(var t=arguments.length,e=new Array(t),r=0;r<t;r++)e[r]=arguments[r];return n.call.apply(n,[this].concat(e))}return accessory_createClass(SimpleBallGag,[{key:"partPrototypes",get:function get(){return[{side:null,Part:Dn},{side:null,Part:Gn}]}}]),SimpleBallGag}(),Kn=function(){accessory_inherits(MediumRingGag,$n);var n=accessory_createSuper(MediumRingGag);function MediumRingGag(){accessory_classCallCheck(this,MediumRingGag);for(var t=arguments.length,e=new Array(t),r=0;r<t;r++)e[r]=arguments[r];return n.call.apply(n,[this].concat(e))}return accessory_createClass(MediumRingGag,[{key:"partPrototypes",get:function get(){return[{side:null,Part:Dn},{side:null,Part:Nn},{side:null,Part:Wn}]}}]),MediumRingGag}(),Zn=function(){accessory_inherits(MediumBallGag,$n);var n=accessory_createSuper(MediumBallGag);function MediumBallGag(){accessory_classCallCheck(this,MediumBallGag);for(var t=arguments.length,e=new Array(t),r=0;r<t;r++)e[r]=arguments[r];return n.call.apply(n,[this].concat(e))}return accessory_createClass(MediumBallGag,[{key:"partPrototypes",get:function get(){return[{side:null,Part:Dn},{side:null,Part:Nn},{side:null,Part:Gn}]}}]),MediumBallGag}(),to=function(){accessory_inherits(BlindFold,qn);var n=accessory_createSuper(BlindFold);function BlindFold(){accessory_classCallCheck(this,BlindFold);for(var t=arguments.length,e=new Array(t),r=0;r<t;r++)e[r]=arguments[r];return n.call.apply(n,[this].concat(e))}return accessory_createClass(BlindFold,[{key:"fill",value:function fill(){return"#1e1e1e"}},{key:"partPrototypes",get:function get(){return[{side:null,Part:Un}]}}]),BlindFold}(),eo=function(){accessory_inherits(SimpleBelt,qn);var n=accessory_createSuper(SimpleBelt);function SimpleBelt(){accessory_classCallCheck(this,SimpleBelt);for(var t=arguments.length,e=new Array(t),r=0;r<t;r++)e[r]=arguments[r];return n.call.apply(n,[this,{clothingLayer:ut.Layer.OUTER}].concat(e))}return accessory_createClass(SimpleBelt,[{key:"fill",value:function fill(){return"#464646"}},{key:"stroke",value:function stroke(){return"#1e1e1e"}},{key:"partPrototypes",get:function get(){return[{side:null,Part:Qn}]}}]),SimpleBelt}(),ro=function(){accessory_inherits(Apron,qn);var n=accessory_createSuper(Apron);function Apron(){accessory_classCallCheck(this,Apron);for(var t=arguments.length,e=new Array(t),r=0;r<t;r++)e[r]=arguments[r];return n.call.apply(n,[this,{clothingLayer:ut.Layer.OUTER}].concat(e))}return accessory_createClass(Apron,[{key:"fill",value:function fill(){return"#ffffff"}},{key:"stroke",value:function stroke(){return"#1e1e1e"}},{key:"partPrototypes",get:function get(){return[{side:null,Part:Qn},{side:null,Part:Vn}]}}]),Apron}();function super_underwear_typeof(t){return(super_underwear_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function _typeof(t){return typeof t}:function _typeof(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function super_underwear_classCallCheck(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function super_underwear_defineProperties(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function super_underwear_createClass(t,e,r){return e&&super_underwear_defineProperties(t.prototype,e),r&&super_underwear_defineProperties(t,r),t}function super_underwear_inherits(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&super_underwear_setPrototypeOf(t,e)}function super_underwear_setPrototypeOf(t,e){return(super_underwear_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(t,e){return t.__proto__=e,t})(t,e)}function super_underwear_createSuper(r){var n=function super_underwear_isNativeReflectConstruct(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(t){return!1}}();return function _createSuperInternal(){var t,e=super_underwear_getPrototypeOf(r);return function super_underwear_possibleConstructorReturn(t,e){return!e||"object"!==super_underwear_typeof(e)&&"function"!=typeof e?function super_underwear_assertThisInitialized(t){if(void 0!==t)return t;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}(t):e}(this,n?(t=super_underwear_getPrototypeOf(this).constructor,Reflect.construct(e,arguments,t)):e.apply(this,arguments))}}function super_underwear_getPrototypeOf(t){return(super_underwear_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function calcSuperBra(t){if(!1===t.hasOwnProperty("breast"))return null;var e=splitCurve(.7,t.breast.top,t.breast.tip),r={out:clone(extractPoint(e.right.p1)),tip:clone(extractPoint(e.right.p2))};return r.top={x:t.breast.bot.x,y:r.out.y+2},r.out.cp1=simpleQuadratic(r.top,r.out,.4,1),r.top.cp1=simpleQuadratic(t.breast.cleavage,r.top,.6,2),r.bot=adjust(t.breast.bot,0,0),r.cleavage=adjust(t.breast.cleavage,0,0),r.inner=adjust(t.breast.in,0,0),r}function calcSuperBraStrap(t){var e=calcBra(t),r={};r.out={x:t.breast.bot.x,y:t.breast.cleavage.y},r.outbot={x:t.breast.bot.x,y:t.breast.bot.y+3-this.botStrapWidth},r.bot={x:-S,y:t.breast.bot.y+4-this.botStrapWidth},r.mid={x:-S,y:t.breast.cleavage.y};var n=splitCurve(1-this.neckCoverage,t.neck.cusp,t.collarbone);return r.strapTop=n.left.p2,r.strapTop.y-=this.strapWidth/2,r.breastTop=adjust(t.breast.top,.1*this.strapWidth,.1*this.strapWidth),r.breastTop.cp1={x:r.breastTop.x-5+this.topStrapCurveX,y:r.breastTop.y+10+this.topStrapCurveY},r.breastOut=extractPoint(adjust(e.out,-.5*this.strapWidth,0)),r}var no=function(){super_underwear_inherits(SuperBraGenitalPart,pt);var n=super_underwear_createSuper(SuperBraGenitalPart);function SuperBraGenitalPart(){super_underwear_classCallCheck(this,SuperBraGenitalPart);for(var t=arguments.length,e=new Array(t),r=0;r<t;r++)e[r]=arguments[r];return n.call.apply(n,[this,{layer:_.GENITALS,loc:"chest",reflect:!0,aboveParts:["parts chest","decorativeParts chest"]},{strapBehindBreasts:!0}].concat(e))}return super_underwear_createClass(SuperBraGenitalPart,[{key:"renderClothingPoints",value:function renderClothingPoints(t,e){var r,n=calcSuperBra(t);null!==n&&(r=calcSuperBraStrap.call(this,t),this.showStrap&&!this.strapBehindBreasts&&(e.lineWidth=this.strapWidth,e.strokeStyle=this.highlight,e.beginPath(),drawPoints(e,r.breastTop,r.breastOut),e.stroke()),setStrokeAndFill(e,{fill:this.fill,stroke:this.stroke},t),e.lineWidth=this.thickness,e.beginPath(),drawPoints(e,n.top,n.out,n.tip,n.bot,n.inner,n.cleavage,n.top),e.fill(),e.stroke())}}]),SuperBraGenitalPart}(),oo=function(){super_underwear_inherits(SuperBraChestPart,pt);var n=super_underwear_createSuper(SuperBraChestPart);function SuperBraChestPart(){super_underwear_classCallCheck(this,SuperBraChestPart);for(var t=arguments.length,e=new Array(t),r=0;r<t;r++)e[r]=arguments[r];return n.call.apply(n,[this,{layer:_.FRONT,loc:"+torso",reflect:!0,aboveParts:["parts torso"],belowParts:["parts chest"]}].concat(e))}return super_underwear_createClass(SuperBraChestPart,[{key:"renderClothingPoints",value:function renderClothingPoints(t,e){var r;null!==calcSuperBra(t)&&(r=calcSuperBraStrap.call(this,t),setStrokeAndFill(e,{fill:this.fill,stroke:this.stroke},t),e.lineWidth=this.thickness,e.lineCap="round",e.beginPath(),drawPoints(e,r.out,r.outbot,r.bot,r.mid,r.out),e.fill(),this.showStrap&&(e.lineWidth=this.strapWidth,e.strokeStyle=this.highlight,e.beginPath(),drawPoints(e,r.strapTop,r.breastTop),e.stroke()))}}]),SuperBraChestPart}();function calcPanties(t){var e,r,n,o={};return this.waistCoverageLower>this.waistCoverage&&(this.waistCoverageLower=this.waistCoverage),0<this.waistCoverage&&0<this.waistCoverageLower?(r=splitCurve(1-this.waistCoverage,t.waist,t.hip),o.sideTop=r.left.p2,e=r.right.p2,r=splitCurve((this.waistCoverage-this.waistCoverageLower)/this.waistCoverage,o.sideTop,e),o.sideBot=r.left.p2,o.sideTop=extractPoint(o.sideTop)):this.waistCoverage<0&&this.waistCoverageLower<0?(r=splitCurve(Math.abs(this.waistCoverage),t.hip,t.thigh.out),o.sideTop=r.left.p2,n=r.right.p2,r=splitCurve(Math.abs((1+this.waistCoverage-(1+this.waistCoverageLower))/(1+this.waistCoverage)),o.sideTop,n),o.sideBot=r.left.p2,o.sideTop=extractPoint(o.sideTop)):(r=splitCurve(1-this.waistCoverage,t.waist,t.hip),o.sideTop=extractPoint(r.left.p2),o.hip=r.right.p2,r=splitCurve(Math.abs(this.waistCoverageLower),t.hip,t.thigh.out),o.sideBot=r.left.p2),o.top={x:-.1,y:o.sideTop.y+this.topY-8},o.sideTop.cp1={x:.5*o.sideTop.x+.5*o.top.x,y:o.sideTop.y},o.sideTop.cp1.x+=this.curveTopX,o.sideTop.cp1.y+=this.curveTopY-9,o.bot=adjust(clone(t.groin),-.1,0),r=splitCurve(this.genCoverage,t.groin,extractPoint(t.thigh.top)),o.botOut=extractPoint(r.left.p2),r=splitCurve(.5,o.sideBot,o.botOut),o.botOut.cp1=extractPoint(r.left.p2),o.botOut.cp1.x+=this.curveBotX-9,o.botOut.cp1.y+=this.curveBotY+5,o}function calcPanties2(t){var e=calcPanties.call(this,t);e.center={x:-.1,y:e.top.y-2*this.radius},e.top.cp1={x:2*this.radius,y:e.top.y-this.radius};var r=cartesian2polar(e.sideTop,e.sideBot).theta;return e.sideBot.cp1=perpendicularPoint(e.sideTop,e.sideBot,.5,-2*r),e.sideBot.cp=void 0,e}var ao=function(){super_underwear_inherits(SuperPantiesPart,pt);var n=super_underwear_createSuper(SuperPantiesPart);function SuperPantiesPart(){super_underwear_classCallCheck(this,SuperPantiesPart);for(var t=arguments.length,e=new Array(t),r=0;r<t;r++)e[r]=arguments[r];return n.call.apply(n,[this,{layer:_.FRONT,loc:"groin",reflect:!0,aboveParts:["parts groin","parts torso","parts leg"],belowSameLayerParts:["clothingParts leg"]}].concat(e))}return super_underwear_createClass(SuperPantiesPart,[{key:"renderClothingPoints",value:function renderClothingPoints(t,e){var r,n,o,a,i,s;!1!==t.hasOwnProperty("groin")&&(r=calcPanties.call(this,t),ut.simpleStrokeFill(e,t,this),e.beginPath(),drawPoints(e,r.top,r.sideTop,r.hip,r.sideBot,r.botOut,r.bot),e.fill(),e.stroke(),this.bow&&(n=adjust(r.top,0,-2),o=adjust(n,0,1),a=adjust(n,0,-1),i=adjust(n,3,2),s=adjust(n,3,-2),e.fillStyle=adjustColor(e.fillStyle,{s:-10,l:-15}),e.beginPath(),drawPoints(e,o,i,s,a),e.fill(),e.stroke()))}}]),SuperPantiesPart}(),io=function(){super_underwear_inherits(ChastityBeltPart,pt);var n=super_underwear_createSuper(ChastityBeltPart);function ChastityBeltPart(){super_underwear_classCallCheck(this,ChastityBeltPart);for(var t=arguments.length,e=new Array(t),r=0;r<t;r++)e[r]=arguments[r];return n.call.apply(n,[this,{layer:_.FRONT,loc:"groin",reflect:!0,aboveParts:["parts groin","parts torso","parts leg","parts torso","decorativeParts torso"],belowSameLayerParts:["clothingParts leg"]},{waistCoverage:.72,beltWidth:6,beltCurve:-2,highlight:"#cdc331",coverage:.2}].concat(e))}return super_underwear_createClass(ChastityBeltPart,[{key:"renderClothingPoints",value:function renderClothingPoints(t,e){ut.simpleStrokeFill(e,t,this);var r=calcBelt.call(this,t),n=r.inTop,o=r.outTop,a=r.outMid,i=r.outBot,s=r.inBot;e.beginPath(),drawPoints(e,n,o,a,i,s),e.fill(),e.stroke(),drawPoints(e,n,splitCurve(this.coverage,n,o).left.p2,t.vagina.side,t.groin),e.fill(),e.stroke()}}]),ChastityBeltPart}(),so=function(){super_underwear_inherits(SuperPanties2Part,pt);var n=super_underwear_createSuper(SuperPanties2Part);function SuperPanties2Part(){super_underwear_classCallCheck(this,SuperPanties2Part);for(var t=arguments.length,e=new Array(t),r=0;r<t;r++)e[r]=arguments[r];return n.call.apply(n,[this,{layer:_.FRONT,loc:"groin",reflect:!0,aboveParts:["parts groin","parts torso","parts leg"],belowSameLayerParts:["clothingParts leg"]}].concat(e))}return super_underwear_createClass(SuperPanties2Part,[{key:"renderClothingPoints",value:function renderClothingPoints(t,e){var r;!1!==t.hasOwnProperty("groin")&&(r=calcPanties2.call(this,t),ut.simpleStrokeFill(e,t,this),e.beginPath(),drawPoints(e,r.center,r.top,r.sideTop,r.sideBot,r.botOut,r.bot),e.fill(),e.stroke())}}]),SuperPanties2Part}(),co=function(){super_underwear_inherits(SuperBra,ge);var n=super_underwear_createSuper(SuperBra);function SuperBra(){super_underwear_classCallCheck(this,SuperBra);for(var t=arguments.length,e=new Array(t),r=0;r<t;r++)e[r]=arguments[r];return n.call.apply(n,[this,{showStrap:!1,strapWidth:1.5,neckCoverage:.7,thickness:.5,botStrapWidth:0,topStrapCurveX:0,topStrapCurveY:0,highlight:"hsl(346, 50%, 70%)"}].concat(e))}return super_underwear_createClass(SuperBra,[{key:"fill",value:function fill(){return"hsl(346, 57%, 82%)"}},{key:"partPrototypes",get:function get(){return[{side:null,Part:oo},{side:null,Part:no}]}}]),SuperBra}(),lo=function(){super_underwear_inherits(SuperPanties,ge);var n=super_underwear_createSuper(SuperPanties);function SuperPanties(){super_underwear_classCallCheck(this,SuperPanties);for(var t=arguments.length,e=new Array(t),r=0;r<t;r++)e[r]=arguments[r];return n.call.apply(n,[this,{waistCoverage:.11,waistCoverageLower:-.05,genCoverage:1,topY:0,curveTopX:0,curveTopY:0,curveBotX:0,curveBotY:0,bow:!0}].concat(e))}return super_underwear_createClass(SuperPanties,[{key:"fill",value:function fill(){return"hsl(346, 57%, 82%)"}},{key:"partPrototypes",get:function get(){return[{side:null,Part:ao}]}}]),SuperPanties}(),uo=function(){super_underwear_inherits(BikiniBottom,ge);var n=super_underwear_createSuper(BikiniBottom);function BikiniBottom(){super_underwear_classCallCheck(this,BikiniBottom);for(var t=arguments.length,e=new Array(t),r=0;r<t;r++)e[r]=arguments[r];return n.call.apply(n,[this,{waistCoverage:.11,waistCoverageLower:-.05,genCoverage:1,topY:0,curveTopX:0,curveTopY:0,curveBotX:0,curveBotY:0,radius:2.8,thickness:.6}].concat(e))}return super_underwear_createClass(BikiniBottom,[{key:"stroke",value:function stroke(){return"hsla(335, 800%, 30%, 1)"}},{key:"fill",value:function fill(){return"hsla(335, 100%, 42%, 1)"}},{key:"partPrototypes",get:function get(){return[{side:null,Part:so}]}}]),BikiniBottom}(),po=function(){super_underwear_inherits(ChastityBelt,ge);var n=super_underwear_createSuper(ChastityBelt);function ChastityBelt(){super_underwear_classCallCheck(this,ChastityBelt);for(var t=arguments.length,e=new Array(t),r=0;r<t;r++)e[r]=arguments[r];return n.call.apply(n,[this,{}].concat(e))}return super_underwear_createClass(ChastityBelt,[{key:"fill",value:function fill(){return"#50a9cc"}},{key:"stroke",value:function stroke(){return"#343570"}},{key:"partPrototypes",get:function get(){return[{side:null,Part:io}]}}]),ChastityBelt}();function super_pants_typeof(t){return(super_pants_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function _typeof(t){return typeof t}:function _typeof(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function super_pants_toConsumableArray(t){return function super_pants_arrayWithoutHoles(t){if(Array.isArray(t))return super_pants_arrayLikeToArray(t)}(t)||function super_pants_iterableToArray(t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(t))return Array.from(t)}(t)||function super_pants_unsupportedIterableToArray(t,e){if(!t)return;if("string"==typeof t)return super_pants_arrayLikeToArray(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);"Object"===r&&t.constructor&&(r=t.constructor.name);if("Map"===r||"Set"===r)return Array.from(t);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return super_pants_arrayLikeToArray(t,e)}(t)||function super_pants_nonIterableSpread(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function super_pants_arrayLikeToArray(t,e){(null==e||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function super_pants_classCallCheck(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function super_pants_defineProperties(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function super_pants_createClass(t,e,r){return e&&super_pants_defineProperties(t.prototype,e),r&&super_pants_defineProperties(t,r),t}function super_pants_inherits(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&super_pants_setPrototypeOf(t,e)}function super_pants_setPrototypeOf(t,e){return(super_pants_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(t,e){return t.__proto__=e,t})(t,e)}function super_pants_createSuper(r){var n=function super_pants_isNativeReflectConstruct(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(t){return!1}}();return function _createSuperInternal(){var t,e=super_pants_getPrototypeOf(r);return function super_pants_possibleConstructorReturn(t,e){return!e||"object"!==super_pants_typeof(e)&&"function"!=typeof e?function super_pants_assertThisInitialized(t){if(void 0!==t)return t;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}(t):e}(this,n?(t=super_pants_getPrototypeOf(this).constructor,Reflect.construct(e,arguments,t)):e.apply(this,arguments))}}function super_pants_getPrototypeOf(t){return(super_pants_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function calcSuperPantsTop(t){var e,r,n,o,a;o=0<this.waistCoverage?(r=extractPoint((e=splitCurve(1-this.waistCoverage,t.waist,t.hip)).left.p2),n=e.right.p2,t.thigh.out):(r=extractPoint((a=splitCurve(Math.abs(this.waistCoverage),t.hip,t.thigh.out)).left.p2),a.right.p2);var i=r.y-t.hip.y,s={x:-.2,y:t.pelvis.y+1.2*i};return r.cp1={x:.5*r.x+.5*s.x,y:s.y},{top:s,out:r,hip:n,thighOut:o}}function calcSuperPants(t){var e=calcSuperPantsTop.call(this,t),r=e.top,n=e.out,o=e.hip,a=e.thighOut,i=adjust(t.groin,-.2,0);this.innerLoose<1&&(i.cp1={x:.5*i.x+.5*t.thigh.top.x,y:i.y});var s=[],c=[];c[0]=n,c[1]=n.y>t.hip.y?o:void 0;var l=[];if(void 0!==t.quads&&(l[0]=clone(t.quads.top),l[0].x=t.thigh.out.x,l[1]=clone(t.quads.out)),1<=this.outerLoose){var u,p=t.hip.y-(t.hip.y-t.ankle.out.y)*this.legCoverage;p<t.thigh.out.y?(s=getLimbPoints.apply(void 0,[t.hip,t.ankle.out,this.legCoverage].concat(c,[a])),this.bustle?s[u=s.length]=extractPoint(t.thigh.out):s[u=s.length-1]=clone(t.thigh.out),s[u].y=p,s[u].x+=(this.outerLoose-1)*(50*this.legCoverage),this.bustle||interpolateCurve(s[u-1],s[u],{x:null,y:t.thigh.out.y})[0].x<t.thigh.out.x&&(s[u+1]=extractPoint(s[u]),s[u]=t.thigh.out)):((s=getLimbPoints.apply(void 0,[t.hip,t.ankle.out,this.legCoverage].concat(c,[a])))[s.length-1].y=p,s[s.length-1].x+=(this.outerLoose-1)*(50*this.legCoverage))}else if(0<this.outerLoose){var f=void 0!==t.quads?findBetween(t.quads.out.x,t.quads.out.cp1.x,.5):t.thigh.out.x;s=getLimbPoints.apply(void 0,[t.hip,t.ankle.out,this.legCoverage].concat(c,[a],l,[t.knee.out,t.calf.out,t.ankle.out]));var y=c.length+1;0<l.length&&y++;for(var h=y;h<s.length;h++)s[h].x=findBetween(s[h].x,f,this.outerLoose),s[h].cp1&&(s[h].cp1.x=findBetween(s[h].cp1.x,f,this.outerLoose)),s[h].cp2&&(s[h].cp2.x=findBetween(s[h].cp2.x,f,this.outerLoose))}else s=getLimbPoints.apply(void 0,[t.hip,t.ankle.out,this.legCoverage,n,o,a].concat(l,[t.knee.out,t.calf.out,t.ankle.out]));var d=[];if((d=1<=this.innerLoose?getLimbPointsAbovePoint(s[s.length-1],!0,r,t.thigh.in,t.knee.intop,t.knee.in,t.calf.in,t.ankle.in):getLimbPointsAbovePoint(s[s.length-1],!0,i,t.thigh.in,t.knee.intop,t.knee.in,t.calf.in,t.ankle.in))[0]=extractPoint(d[0]),0<this.innerLoose){d[0].x-=d[0].x*this.innerLoose;for(var g=1;g<d.length;g++)d[g]=transformCurve(this.innerLoose,d[g-1],d[g],{x:0,y:d[g].y})}return this.innerLoose<1&&d[0].y<t.groin.y?d[0].cp1={x:findBetween(s[s.length-1].x,d[0].x,.5),y:d[0].y+3}:1<=this.innerLoose&&(s[s.length-1].y+=2,d[0].y-=2,d[0].x-=.2,d[0].cp1={x:.5*d[0].x+.5*s[s.length-1].x,y:d[0].y}),{top:r,out:n,hip:o,thighOut:a,groin:i,outerPoints:s,innerPoints:d}}function calcSuperPantsZip(t){var e=calcSuperPants.call(this,t),r=e.top,n=e.out,o=e.hip,a=e.thighOut,i=e.groin,s=e.outerPoints,c=e.innerPoints,l=splitCurve(this.zipOpen,r,n),u=extractPoint(l.left.p2),n=l.right.p2;return{zip:{x:-.2,y:(l=splitCurve(this.zipDeep,r,i)).left.p2.y},top:r,mid:u,out:n,hip:o,thighOut:a,groin:i,outerPoints:s,innerPoints:c}}var fo=function(){super_pants_inherits(SuperPantsPart,pt);var n=super_pants_createSuper(SuperPantsPart);function SuperPantsPart(){super_pants_classCallCheck(this,SuperPantsPart);for(var t=arguments.length,e=new Array(t),r=0;r<t;r++)e[r]=arguments[r];return n.call.apply(n,[this,{layer:_.FRONT,loc:"leg",aboveParts:["parts leg"]}].concat(e))}return super_pants_createClass(SuperPantsPart,[{key:"renderClothingPoints",value:function renderClothingPoints(t,e){var r=calcSuperPants.call(this,t),n=r.top,o=r.out,a=(r.hip,r.thighOut,r.groin),i=r.outerPoints,s=r.innerPoints;ut.simpleStrokeFill(e,t,this),1<=this.innerLoose?(e.beginPath(),drawPoints.apply(void 0,[e,n].concat(super_pants_toConsumableArray(i),[s[0],n])),e.fill(),e.beginPath(),drawPoints.apply(void 0,[e].concat(super_pants_toConsumableArray(i),[s[0]]))):(e.beginPath(),drawPoints.apply(void 0,[e,n].concat(super_pants_toConsumableArray(i),super_pants_toConsumableArray(s),[a,n])),e.fill(),e.beginPath(),drawPoints.apply(void 0,[e].concat(super_pants_toConsumableArray(i),super_pants_toConsumableArray(s),[a]))),e.stroke(),e.beginPath(),e.lineWidth=this.belt,drawPoints(e,n,adjust(o,-.5,0)),e.stroke()}}]),SuperPantsPart}(),yo=function(){super_pants_inherits(SuperLegginsPart,pt);var n=super_pants_createSuper(SuperLegginsPart);function SuperLegginsPart(){super_pants_classCallCheck(this,SuperLegginsPart);for(var t=arguments.length,e=new Array(t),r=0;r<t;r++)e[r]=arguments[r];return n.call.apply(n,[this,{layer:_.FRONT,loc:"leg",aboveParts:["parts leg"],belowSameLayerParts:["torso"]}].concat(e))}return super_pants_createClass(SuperLegginsPart,[{key:"renderClothingPoints",value:function renderClothingPoints(t,e){var r=calcSuperPants.call(this,t),n=r.top,o=r.out,a=(r.hip,r.highOut,r.groin),i=r.outerPoints,s=r.innerPoints;ut.simpleStrokeFill(e,t,this),1<=this.innerLoose?(e.beginPath(),drawPoints.apply(void 0,[e,n].concat(super_pants_toConsumableArray(i),[s[0],n])),e.fill(),e.beginPath(),drawPoints.apply(void 0,[e].concat(super_pants_toConsumableArray(i),[s[0]]))):(e.beginPath(),drawPoints.apply(void 0,[e,n].concat(super_pants_toConsumableArray(i),super_pants_toConsumableArray(s),[a,n])),e.fill(),e.beginPath(),drawPoints.apply(void 0,[e].concat(super_pants_toConsumableArray(i),super_pants_toConsumableArray(s),[a]))),e.stroke(),e.beginPath(),e.lineWidth=this.belt,drawPoints(e,n,adjust(o,-.5,0)),e.stroke()}}]),SuperLegginsPart}(),ho=function(){super_pants_inherits(SuperSkirtPart,pt);var n=super_pants_createSuper(SuperSkirtPart);function SuperSkirtPart(){super_pants_classCallCheck(this,SuperSkirtPart);for(var t=arguments.length,e=new Array(t),r=0;r<t;r++)e[r]=arguments[r];return n.call.apply(n,[this,{layer:_.MIDRIFT,loc:"leg",aboveParts:["parts leg"]}].concat(e))}return super_pants_createClass(SuperSkirtPart,[{key:"renderClothingPoints",value:function renderClothingPoints(t,e){var r=calcSuperPants.call(this,t),n=r.top,o=r.out,a=(r.hip,r.thighOut,r.groin),i=r.outerPoints,s=r.innerPoints;ut.simpleStrokeFill(e,t,this),1<=this.innerLoose?(e.beginPath(),drawPoints.apply(void 0,[e,n].concat(super_pants_toConsumableArray(i),[s[0],n])),e.fill(),e.beginPath(),drawPoints.apply(void 0,[e].concat(super_pants_toConsumableArray(i),[s[0]]))):(e.beginPath(),drawPoints.apply(void 0,[e,n].concat(super_pants_toConsumableArray(i),super_pants_toConsumableArray(s),[a,n])),e.fill(),e.beginPath(),drawPoints.apply(void 0,[e].concat(super_pants_toConsumableArray(i),super_pants_toConsumableArray(s),[a]))),e.stroke(),e.beginPath(),e.lineWidth=this.belt,drawPoints(e,n,adjust(o,-.5,0)),e.stroke()}}]),SuperSkirtPart}(),go=function(){super_pants_inherits(LacedLegginsPart,pt);var n=super_pants_createSuper(LacedLegginsPart);function LacedLegginsPart(){super_pants_classCallCheck(this,LacedLegginsPart);for(var t=arguments.length,e=new Array(t),r=0;r<t;r++)e[r]=arguments[r];return n.call.apply(n,[this,{layer:_.FRONT,loc:"leg",aboveParts:["parts leg"],belowSameLayerParts:["torso"]}].concat(e))}return super_pants_createClass(LacedLegginsPart,[{key:"renderClothingPoints",value:function renderClothingPoints(t,e){var r=calcSuperPantsZip.call(this,t),n=r.zip,o=(r.top,r.mid),a=r.out,i=(r.hip,r.highOut,r.groin),s=r.outerPoints,c=r.innerPoints;ut.simpleStrokeFill(e,t,this),1<=this.innerLoose?(e.beginPath(),drawPoints.apply(void 0,[e,n,o].concat(super_pants_toConsumableArray(s),[c[0],n])),e.fill(),e.beginPath(),drawPoints.apply(void 0,[e].concat(super_pants_toConsumableArray(s),[c[0]]))):(e.beginPath(),drawPoints.apply(void 0,[e,n,o].concat(super_pants_toConsumableArray(s),super_pants_toConsumableArray(c),[i,n])),e.fill(),e.beginPath(),drawPoints.apply(void 0,[e].concat(super_pants_toConsumableArray(s),super_pants_toConsumableArray(c),[i]))),e.stroke();var l=0<this.crosses?this.crosses:3,u=getLacingPoints(n,o,n,reflect(o),l,1);e.lineWidth=1,e.beginPath(),drawPoints.apply(void 0,[e].concat(super_pants_toConsumableArray(u.inner),[v],super_pants_toConsumableArray(u.outer))),e.stroke(),e.beginPath(),e.lineWidth=this.belt,drawPoints(e,o,adjust(a,-.5,0)),e.stroke()}}]),LacedLegginsPart}(),Po=function(){super_pants_inherits(JeansPart,pt);var n=super_pants_createSuper(JeansPart);function JeansPart(){super_pants_classCallCheck(this,JeansPart);for(var t=arguments.length,e=new Array(t),r=0;r<t;r++)e[r]=arguments[r];return n.call.apply(n,[this,{layer:_.FRONT,loc:"leg",aboveParts:["parts leg"]}].concat(e))}return super_pants_createClass(JeansPart,[{key:"renderClothingPoints",value:function renderClothingPoints(t,e){var r=calcSuperPantsZip.call(this,t),n=r.zip,o=r.top,a=r.mid,i=r.out,s=(r.hip,r.thighOut,r.groin),c=r.outerPoints,l=r.innerPoints;ut.simpleStrokeFill(e,t,this),1<=this.innerLoose?(e.beginPath(),drawPoints.apply(void 0,[e,n,a].concat(super_pants_toConsumableArray(c),[l[0],n])),e.fill(),e.beginPath(),drawPoints.apply(void 0,[e,n,a].concat(super_pants_toConsumableArray(c),[l[0]]))):(e.beginPath(),drawPoints.apply(void 0,[e,n,a].concat(super_pants_toConsumableArray(c),super_pants_toConsumableArray(l),[s,n])),e.fill(),e.beginPath(),drawPoints.apply(void 0,[e,n,a].concat(super_pants_toConsumableArray(c),super_pants_toConsumableArray(l),[s]))),e.stroke(),e.lineWidth=.5,e.beginPath(),drawPoints(e,adjust(a,1,-3),adjust(i,0,-3)),e.stroke();var u=a.x,p=o.y-n.y,f=polar2cartesian(p,-1.6*Math.atan(u/p)+Math.PI/2,n);e.fillStyle=adjustColor(e.fillStyle,{s:-10,l:10}),e.beginPath(),drawPoints(e,n,f,a),e.fill(),e.stroke()}}]),JeansPart}(),vo=function(){super_pants_inherits(LoinclothPart,pt);var n=super_pants_createSuper(LoinclothPart);function LoinclothPart(){super_pants_classCallCheck(this,LoinclothPart);for(var t=arguments.length,e=new Array(t),r=0;r<t;r++)e[r]=arguments[r];return n.call.apply(n,[this,{layer:_.FRONT,loc:"leg",aboveParts:["parts leg"]}].concat(e))}return super_pants_createClass(LoinclothPart,[{key:"renderClothingPoints",value:function renderClothingPoints(t,e){ut.simpleStrokeFill(e,t,this);var r=calcBelt.call(this,t),n={};n.inTop=extractPoint(r.inBot),a=splitCurve(this.topCoverage,r.inBot,r.outBot),n.outTop=extractPoint(a.left.p2),n.outTop.cp1=r.inBot.cp1;var o=findBetween(t.ankle.out.y,t.hip.y,1-this.legCoverage),a=splitCurve(this.bottomCoverage,r.inBot,r.outBot);n.outBot={x:a.left.p2.x,y:o},a=splitCurve(.3,n.outTop,n.outBot),n.outBot.cp1=a.left.p2,n.outBot.cp1.x+=this.curveX,n.outBot.cp1.y+=this.curveY,n.inBot={x:-.2,y:o-4*this.bottomCoverage},n.inBot.cp1={x:findBetween(n.outBot.x,n.inBot.x),y:n.inBot.y},e.beginPath(),drawPoints(e,n.inTop,n.outTop,n.outBot,n.inBot),e.stroke(),e.fill(),e.fillStyle=this.highlight,e.beginPath(),drawPoints(e,r.inTop,r.outTop,r.outMid,r.outBot,r.inBot),e.stroke(),e.fill()}}]),LoinclothPart}(),bo=function(){super_pants_inherits(SuperPants,yn);var n=super_pants_createSuper(SuperPants);function SuperPants(){super_pants_classCallCheck(this,SuperPants);for(var t=arguments.length,e=new Array(t),r=0;r<t;r++)e[r]=arguments[r];return n.call.apply(n,[this,{clothingLayer:ut.Layer.MID,innerLoose:0,outerLoose:0,legCoverage:.9,waistCoverage:.5,opacity:1,thickness:1,bustle:!1,belt:2}].concat(e))}return super_pants_createClass(SuperPants,[{key:"fill",value:function fill(){return"hsl(200, 65%, 20%)"}},{key:"stroke",value:function stroke(){return"hsl(200, 50%, 10%)"}},{key:"partPrototypes",get:function get(){return[{side:A.LEFT,Part:fo},{side:A.RIGHT,Part:fo}]}}]),SuperPants}(),_o=function(){super_pants_inherits(SuperLeggins,yn);var n=super_pants_createSuper(SuperLeggins);function SuperLeggins(){super_pants_classCallCheck(this,SuperLeggins);for(var t=arguments.length,e=new Array(t),r=0;r<t;r++)e[r]=arguments[r];return n.call.apply(n,[this,{clothingLayer:ut.Layer.MID,innerLoose:0,outerLoose:0,legCoverage:.9,waistCoverage:.5,opacity:1,thickness:1,bustle:!1,belt:2}].concat(e))}return super_pants_createClass(SuperLeggins,[{key:"fill",value:function fill(){return"hsla(200, 0%, 20%, 1)"}},{key:"stroke",value:function stroke(){return"hsla(200, 0%, 10%, 1)"}},{key:"partPrototypes",get:function get(){return[{side:A.LEFT,Part:yo},{side:A.RIGHT,Part:yo}]}}]),SuperLeggins}(),mo=function(){super_pants_inherits(SuperSkirt,yn);var n=super_pants_createSuper(SuperSkirt);function SuperSkirt(){super_pants_classCallCheck(this,SuperSkirt);for(var t=arguments.length,e=new Array(t),r=0;r<t;r++)e[r]=arguments[r];return n.call.apply(n,[this,{clothingLayer:ut.Layer.MID,innerLoose:1,outerLoose:1.3,legCoverage:.4,waistCoverage:.1,opacity:1,thickness:1,bustle:!1,belt:2}].concat(e))}return super_pants_createClass(SuperSkirt,[{key:"fill",value:function fill(){return"hsl(0, 65%, 20%)"}},{key:"stroke",value:function stroke(){return"hsl(0, 50%, 10%)"}},{key:"partPrototypes",get:function get(){return[{side:A.LEFT,Part:ho},{side:A.RIGHT,Part:ho}]}}]),SuperSkirt}(),So=function(){super_pants_inherits(LacedLeggins,yn);var n=super_pants_createSuper(LacedLeggins);function LacedLeggins(){super_pants_classCallCheck(this,LacedLeggins);for(var t=arguments.length,e=new Array(t),r=0;r<t;r++)e[r]=arguments[r];return n.call.apply(n,[this,{clothingLayer:ut.Layer.MID,zipOpen:.2,zipDeep:.3,crosses:4,innerLoose:0,outerLoose:0,legCoverage:.9,waistCoverage:.4,opacity:1,thickness:1,bustle:!1}].concat(e))}return super_pants_createClass(LacedLeggins,[{key:"fill",value:function fill(){return"hsla(200, 0%, 20%, 1)"}},{key:"stroke",value:function stroke(){return"hsla(200, 0%, 10%, 1)"}},{key:"partPrototypes",get:function get(){return[{side:A.LEFT,Part:go},{side:A.RIGHT,Part:go}]}}]),LacedLeggins}(),ko=function(){super_pants_inherits(Jeans,yn);var n=super_pants_createSuper(Jeans);function Jeans(){super_pants_classCallCheck(this,Jeans);for(var t=arguments.length,e=new Array(t),r=0;r<t;r++)e[r]=arguments[r];return n.call.apply(n,[this,{clothingLayer:ut.Layer.MID,innerLoose:0,outerLoose:0,legCoverage:.9,waistCoverage:.4,opacity:1,thickness:1,bustle:!1,belt:2,zipOpen:.01,zipDeep:.21,highlight:"orange"}].concat(e))}return super_pants_createClass(Jeans,[{key:"fill",value:function fill(){return"hsl(200, 65%, 20%)"}},{key:"stroke",value:function stroke(){return"hsl(200, 50%, 10%)"}},{key:"partPrototypes",get:function get(){return[{side:A.LEFT,Part:Po},{side:A.RIGHT,Part:Po}]}}]),Jeans}(),Co=function(){super_pants_inherits(Loincloth,yn);var n=super_pants_createSuper(Loincloth);function Loincloth(){super_pants_classCallCheck(this,Loincloth);for(var t=arguments.length,e=new Array(t),r=0;r<t;r++)e[r]=arguments[r];return n.call.apply(n,[this,{waistCoverage:.42,beltWidth:4,beltCurve:-3.5,thickness:1,topCoverage:.8,legCoverage:.5,bottomCoverage:.14,curveX:-16,curveY:14,highlight:"hsla(33, 80%, 10%, 1)"}].concat(e))}return super_pants_createClass(Loincloth,[{key:"fill",value:function fill(){return"hsla(33, 45%, 35%, 1)"}},{key:"stroke",value:function stroke(){return"hsla(33, 45%, 25%, 1)"}},{key:"partPrototypes",get:function get(){return[{side:A.LEFT,Part:vo},{side:A.RIGHT,Part:vo}]}}]),Loincloth}();function super_socks_typeof(t){return(super_socks_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function _typeof(t){return typeof t}:function _typeof(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function super_socks_toConsumableArray(t){return function super_socks_arrayWithoutHoles(t){if(Array.isArray(t))return super_socks_arrayLikeToArray(t)}(t)||function super_socks_iterableToArray(t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(t))return Array.from(t)}(t)||function super_socks_unsupportedIterableToArray(t,e){if(!t)return;if("string"==typeof t)return super_socks_arrayLikeToArray(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);"Object"===r&&t.constructor&&(r=t.constructor.name);if("Map"===r||"Set"===r)return Array.from(t);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return super_socks_arrayLikeToArray(t,e)}(t)||function super_socks_nonIterableSpread(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function super_socks_arrayLikeToArray(t,e){(null==e||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function super_socks_classCallCheck(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function super_socks_defineProperties(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function super_socks_createClass(t,e,r){return e&&super_socks_defineProperties(t.prototype,e),r&&super_socks_defineProperties(t,r),t}function super_socks_inherits(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&super_socks_setPrototypeOf(t,e)}function super_socks_setPrototypeOf(t,e){return(super_socks_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(t,e){return t.__proto__=e,t})(t,e)}function super_socks_createSuper(r){var n=function super_socks_isNativeReflectConstruct(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(t){return!1}}();return function _createSuperInternal(){var t,e=super_socks_getPrototypeOf(r);return function super_socks_possibleConstructorReturn(t,e){return!e||"object"!==super_socks_typeof(e)&&"function"!=typeof e?function super_socks_assertThisInitialized(t){if(void 0!==t)return t;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}(t):e}(this,n?(t=super_socks_getPrototypeOf(this).constructor,Reflect.construct(e,arguments,t)):e.apply(this,arguments))}}function super_socks_getPrototypeOf(t){return(super_socks_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function calcSuperSocks(t){var e=[];void 0!==t.quads&&(e[0]=clone(t.quads.top),e[0].x=t.thigh.out.x,e[1]=clone(t.quads.out));var r,n=getLimbPointsNegative.apply(void 0,[t.hip,t.ankle.out,this.legCoverage,t.hip,t.thigh.out].concat(e,[t.knee.out,t.calf.out,t.ankle.out]));!this.lockGroin&&this.legCoverage<0&&((r=getLimbPointsNegative(t.armpit,t.hip,1+this.legCoverage,t.armpit,t.waist,t.hip)).pop(),n=r.concat(n));var o,a,i,s=getLimbPointsBellowPoint(n[0],!0,t.groin,t.thigh.top,t.thigh.in,t.knee.intop,t.knee.in,t.calf.in,t.ankle.in);return n[0]=extractPoint(n[0]),n[0].y-6<=t.thigh.top.y?n[0].cp1={x:findBetween(s[s.length-1].x,n[0].x,.5),y:n[0].y-6}:this.lockGroin?(s.splice(s.length-1,1),o=interpolateCurve(t.hip,t.thigh.out,{x:null,y:t.thigh.top.y}),n[0]=extractPoint(o[0]),n[1]=extractPoint(n[1]),n[0].cp1={x:findBetween(s[s.length-1].x,n[0].x,.5),y:n[0].y-6}):(s[s.length]=adjust(t.groin,-.2,0),a=n[0].y-t.hip.y,i={x:-.2,y:t.pelvis.y+1.2*a},n[0].cp2=void 0,n[0].cp1={x:findBetween(n[0].x,i.x,.5),y:i.y},n.unshift(i),s[s.length-1].cp1={x:.5*s[s.length-1].x+.5*t.thigh.top.x,y:s[s.length-1].y},s[s.length]=i),{outerPoints:n,innerPoints:s}}var wo=function(){super_socks_inherits(Garter,vn);var n=super_socks_createSuper(Garter);function Garter(){super_socks_classCallCheck(this,Garter);for(var t=arguments.length,e=new Array(t),r=0;r<t;r++)e[r]=arguments[r];return n.call.apply(n,[this,{aboveSameLayerParts:["feet"],aboveParts:["parts feet","parts leg","clothingParts groin"],reflect:!0}].concat(e))}return super_socks_createClass(Garter,[{key:"renderClothingPoints",value:function renderClothingPoints(t,e){var r,n,o=calcSuperSocks.call(this,t),a=o.outerPoints,i=o.innerPoints;e.fillStyle=this.highlight,n=0<this.waistCoverage?getLimbPointsAbovePoint({x:0,y:(r=extractPoint(splitCurve(1-this.waistCoverage,t.waist,t.hip).left.p2)).y-this.beltWidth},!1,r,t.hip,t.thigh.out):getLimbPointsAbovePoint({x:0,y:(r=extractPoint(splitCurve(Math.abs(this.waistCoverage),t.hip,t.thigh.out).left.p2)).y-this.beltWidth},!1,r,t.thigh.out);var s={x:-.1,y:r.y-6};r.cp1={x:.5*r.x+.5*s.x,y:s.y};var c=i[i.length-1],l=extractPoint(a[0]);c.y-=6,l.y-=6;var u={y:l.y,x:.4*(c.x-l.x)+l.x+3};u.cp1={y:.9*(n[n.length-1].y-u.y)+u.y,x:-.1*(n[n.length-1].x-u.x)+u.x};var p={y:c.y,x:u.x-3},f={x:t.pelvis.x-.1,y:s.y-(r.y-n[n.length-1].y)};f.cp1={y:.2*(p.y-s.y)+s.y,x:.9*(p.x-s.x)+s.x},e.beginPath(),drawPoints.apply(void 0,[e,s,r].concat(super_socks_toConsumableArray(n),[u,p,f])),e.fill()}}]),Garter}(),xo=function(){super_socks_inherits(SuperSockBandPart,vn);var n=super_socks_createSuper(SuperSockBandPart);function SuperSockBandPart(){super_socks_classCallCheck(this,SuperSockBandPart);for(var t=arguments.length,e=new Array(t),r=0;r<t;r++)e[r]=arguments[r];return n.call.apply(n,[this,{aboveSameLayerParts:["feet"],aboveParts:["parts feet","parts leg","clothingParts groin"]}].concat(e))}return super_socks_createClass(SuperSockBandPart,[{key:"renderClothingPoints",value:function renderClothingPoints(t,e){var r,n,o,a,i,s,c,l;this.bandWidth<.1||(n=(r=calcSuperSocks.call(this,t)).outerPoints,o=r.innerPoints,e.fillStyle=this.highlight,a=o[o.length-1],i=extractPoint(n[0]),(s=clone(a)).y=s.y-this.bandWidth,o.reverse(),c=getLimbPointsAbovePoint.apply(void 0,[s,!0].concat(super_socks_toConsumableArray(o))),l=getLimbPointsAbovePoint.apply(void 0,[s,!1].concat(super_socks_toConsumableArray(n))),i.cp1={x:findBetween(a.x,i.x,.5),y:i.y-6},c[0]=extractPoint(c[0]),c[0].cp1={x:findBetween(l[l.length-1].x,c[0].x,.5),y:c[0].y-6},e.beginPath(),drawPoints.apply(void 0,[e,i].concat(super_socks_toConsumableArray(l),super_socks_toConsumableArray(c),[a,i])),e.fill())}}]),SuperSockBandPart}(),Oo=function(){super_socks_inherits(SuperSockPart,vn);var n=super_socks_createSuper(SuperSockPart);function SuperSockPart(){super_socks_classCallCheck(this,SuperSockPart);for(var t=arguments.length,e=new Array(t),r=0;r<t;r++)e[r]=arguments[r];return n.call.apply(n,[this,{aboveSameLayerParts:["feet"],aboveParts:["parts feet","parts leg","clothingParts groin"]}].concat(e))}return super_socks_createClass(SuperSockPart,[{key:"renderClothingPoints",value:function renderClothingPoints(t,e){var r=calcSuperSocks.call(this,t),n=r.outerPoints,o=r.innerPoints;ut.simpleStrokeFill(e,t,this),e.beginPath(),drawPoints.apply(void 0,[e].concat(super_socks_toConsumableArray(n),[t.ankle.outbot,t.toe.out,t.toe.in,t.ankle.inbot],super_socks_toConsumableArray(o),[n[0]])),e.fill(),e.stroke()}}]),SuperSockPart}(),Ao=function(){super_socks_inherits(PantyhosePart,vn);var n=super_socks_createSuper(PantyhosePart);function PantyhosePart(){super_socks_classCallCheck(this,PantyhosePart);for(var t=arguments.length,e=new Array(t),r=0;r<t;r++)e[r]=arguments[r];return n.call.apply(n,[this,{aboveSameLayerParts:["feet"],aboveParts:["parts feet","parts leg","clothingParts groin"]}].concat(e))}return super_socks_createClass(PantyhosePart,[{key:"renderClothingPoints",value:function renderClothingPoints(t,e){var r=calcSuperPantsTop.call(this,t),n=r.top,o=r.out,a=r.hip,i=r.thighOut;ut.simpleStrokeFill(e,t,this);var s=[];void 0!==t.quads&&(s[0]=clone(t.quads.top),s[0].x=t.thigh.out.x,s[1]=clone(t.quads.out));var c,l=t.thigh.top,u=t.groin;.02<this.open&&(c=.7*(n.y-u.y)*this.open,(u=adjust(t.groin,0,c)).cp2=adjust(t.groin,22*this.open,22*this.open),u.cp1=adjust(t.groin,12*this.open,-14*this.open),l=(c=splitCurve(1-.9*this.open,t.thigh.in,t.thigh.top)).left.p2),e.beginPath(),drawPoints.apply(void 0,[e,n,o,a,i].concat(s,[t.knee.out,t.calf.out,t.ankle.out,t.ankle.outbot,t.toe.out,t.toe.in,t.ankle.inbot,t.ankle.in,t.calf.in,t.knee.in,t.knee.intop,t.thigh.in,l,u,n])),e.fill(),e.stroke()}}]),PantyhosePart}(),To=function(){super_socks_inherits(SuperSocks,Cn);var n=super_socks_createSuper(SuperSocks);function SuperSocks(){super_socks_classCallCheck(this,SuperSocks);for(var t=arguments.length,e=new Array(t),r=0;r<t;r++)e[r]=arguments[r];return n.call.apply(n,[this,{legCoverage:.5,thickness:.5,lockGroin:!1}].concat(e))}return super_socks_createClass(SuperSocks,[{key:"partPrototypes",get:function get(){return[{side:A.LEFT,Part:Oo},{side:A.RIGHT,Part:Oo}]}}]),SuperSocks}(),jo=function(){super_socks_inherits(Stockings,Cn);var n=super_socks_createSuper(Stockings);function Stockings(){super_socks_classCallCheck(this,Stockings);for(var t=arguments.length,e=new Array(t),r=0;r<t;r++)e[r]=arguments[r];return n.call.apply(n,[this,{legCoverage:.2,thickness:.3,bandWidth:7,highlight:"hsla(0, 0%, 11%, 1)",lockGroin:!0}].concat(e))}return super_socks_createClass(Stockings,[{key:"fill",value:function fill(){return"hsla(0, 0%, 28%, 1)"}},{key:"partPrototypes",get:function get(){return[{side:A.LEFT,Part:xo},{side:A.RIGHT,Part:xo},{side:A.LEFT,Part:Oo},{side:A.RIGHT,Part:Oo}]}}]),Stockings}(),Ro=function(){super_socks_inherits(StockingsGarter,Cn);var n=super_socks_createSuper(StockingsGarter);function StockingsGarter(){super_socks_classCallCheck(this,StockingsGarter);for(var t=arguments.length,e=new Array(t),r=0;r<t;r++)e[r]=arguments[r];return n.call.apply(n,[this,{legCoverage:.2,thickness:.3,bandWidth:9,beltWidth:10,highlight:"hsla(0, 0%, 11%, 1)",waistCoverage:.5,lockGroin:!0}].concat(e))}return super_socks_createClass(StockingsGarter,[{key:"fill",value:function fill(){return"hsla(0, 0%, 28%, 1)"}},{key:"partPrototypes",get:function get(){return[{side:A.RIGHT,Part:wo},{side:A.LEFT,Part:xo},{side:A.RIGHT,Part:xo},{side:A.LEFT,Part:Oo},{side:A.RIGHT,Part:Oo}]}}]),StockingsGarter}(),Bo=function(){super_socks_inherits(Pantyhose,Cn);var n=super_socks_createSuper(Pantyhose);function Pantyhose(){super_socks_classCallCheck(this,Pantyhose);for(var t=arguments.length,e=new Array(t),r=0;r<t;r++)e[r]=arguments[r];return n.call.apply(n,[this,{waistCoverage:.45,thickness:.3,open:0}].concat(e))}return super_socks_createClass(Pantyhose,[{key:"fill",value:function fill(){return"hsla(0,20%,30%,0.5)"}},{key:"stroke",value:function stroke(){return"hsla(0.0,5%,30%,1)"}},{key:"partPrototypes",get:function get(){return[{side:A.LEFT,Part:Ao},{side:A.RIGHT,Part:Ao}]}}]),Pantyhose}();function hats2_typeof(t){return(hats2_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function _typeof(t){return typeof t}:function _typeof(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function hats2_classCallCheck(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function hats2_defineProperties(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function hats2_createClass(t,e,r){return e&&hats2_defineProperties(t.prototype,e),r&&hats2_defineProperties(t,r),t}function hats2_inherits(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&hats2_setPrototypeOf(t,e)}function hats2_setPrototypeOf(t,e){return(hats2_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(t,e){return t.__proto__=e,t})(t,e)}function hats2_createSuper(r){var n=function hats2_isNativeReflectConstruct(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(t){return!1}}();return function _createSuperInternal(){var t,e=hats2_getPrototypeOf(r);return function hats2_possibleConstructorReturn(t,e){return!e||"object"!==hats2_typeof(e)&&"function"!=typeof e?function hats2_assertThisInitialized(t){if(void 0!==t)return t;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}(t):e}(this,n?(t=hats2_getPrototypeOf(this).constructor,Reflect.construct(e,arguments,t)):e.apply(this,arguments))}}function hats2_getPrototypeOf(t){return(hats2_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var Eo=function(){hats2_inherits(MagicHatFrontPart,pt);var n=hats2_createSuper(MagicHatFrontPart);function MagicHatFrontPart(){hats2_classCallCheck(this,MagicHatFrontPart);for(var t=arguments.length,e=new Array(t),r=0;r<t;r++)e[r]=arguments[r];return n.call.apply(n,[this,{layer:_.ABOVE_HAIR,loc:"+head",reflect:!0},{}].concat(e))}return hats2_createClass(MagicHatFrontPart,[{key:"renderClothingPoints",value:function renderClothingPoints(t,e){var r=calcMagicHat.call(this,t),n=(r.center,r.inBot),o=r.out,a=r.inTop,i=r.coneBase,s=r.coneTop,c=r.forhead;ut.simpleStrokeFill(e,t,this),e.beginPath(),drawPoints(e,i,s,extractPoint(a)),e.fill(),e.beginPath(),drawPoints(e,i,s),e.stroke(),e.beginPath(),drawPoints(e,o,a,c,i),e.fill(),n.y>a.y&&(e.beginPath(),drawPoints(e,c,i),e.stroke()),e.beginPath(),drawPoints(e,o,a),e.stroke()}}]),MagicHatFrontPart}(),Lo=function(){hats2_inherits(MagicHatBackPart,pt);var n=hats2_createSuper(MagicHatBackPart);function MagicHatBackPart(){hats2_classCallCheck(this,MagicHatBackPart);for(var t=arguments.length,e=new Array(t),r=0;r<t;r++)e[r]=arguments[r];return n.call.apply(n,[this,{layer:_.BACK,loc:"+head",reflect:!0},{}].concat(e))}return hats2_createClass(MagicHatBackPart,[{key:"renderClothingPoints",value:function renderClothingPoints(t,e){var r=calcMagicHat.call(this,t),n=(r.center,r.inBot),o=r.out,a=r.inTop;r.coneBase,r.coneTop,r.forhead;ut.simpleStrokeFill(e,t,this),e.beginPath(),drawPoints(e,n,o,a),e.fill(),e.stroke()}}]),MagicHatBackPart}();function calcMagicHat(t){var e={x:-.2,y:t.skull.side.y+3+this.centerOffset},r=adjust(e,0,6+this.brimAngle),n=adjust(e,0,-6-this.brimAngle),o=adjust(e,36+this.brimWidth,0),a=adjust(e,0,(6+this.brimAngle)/2);o.cp1={x:.5*(o.x+n.x),y:n.y},r.cp1={x:.5*(r.x+o.x),y:r.y};var i=interpolateCurve(t.skull,t.skull.side,{x:null,y:e.y})[0];return(i=adjust(i,this.coneWidth+2,0)).cp1={x:.5*(i.x+a.x),y:a.y},{center:e,inBot:n,out:o,inTop:r,coneBase:i,coneTop:adjust(e,0,45+this.coneHeight),forhead:a}}var Io=function(){hats2_inherits(MaidHeadpiecePart,pt);var n=hats2_createSuper(MaidHeadpiecePart);function MaidHeadpiecePart(){hats2_classCallCheck(this,MaidHeadpiecePart);for(var t=arguments.length,e=new Array(t),r=0;r<t;r++)e[r]=arguments[r];return n.call.apply(n,[this,{layer:_.ABOVE_HAIR,loc:"head",reflect:!0},{}].concat(e))}return hats2_createClass(MaidHeadpiecePart,[{key:"renderClothingPoints",value:function renderClothingPoints(t,e){ut.simpleStrokeFill(e,t,this);var r={x:-.2,y:t.skull.y-5+this.centerOffset},n={x:-.2,y:r.y+this.height},o={x:n.x+this.width,y:n.y-this.drop};o.cp1={x:.5*(n.x+o.x),y:n.y};var a=Math.sqrt(Math.pow(this.height,2)/2),i={x:o.x-a,y:o.y-a};r.cp1={x:.5*(r.x+i.x),y:r.y},e.beginPath(),drawPoints(e,n,o,i,r),e.fill(),e.stroke()}}]),MaidHeadpiecePart}(),Fo=function(){hats2_inherits(MagicHat,en);var n=hats2_createSuper(MagicHat);function MagicHat(){hats2_classCallCheck(this,MagicHat);for(var t=arguments.length,e=new Array(t),r=0;r<t;r++)e[r]=arguments[r];return n.call.apply(n,[this,{centerOffset:0,brimWidth:0,brimAngle:0,coneHeight:0,coneWidth:0}].concat(e))}return hats2_createClass(MagicHat,[{key:"fill",value:function fill(){return"#343232"}},{key:"stroke",value:function stroke(){return"#201b1b"}},{key:"partPrototypes",get:function get(){return[{side:null,Part:Eo},{side:null,Part:Lo}]}}]),MagicHat}(),Ho=function(){hats2_inherits(MaidHeadpiece,en);var n=hats2_createSuper(MaidHeadpiece);function MaidHeadpiece(){hats2_classCallCheck(this,MaidHeadpiece);for(var t=arguments.length,e=new Array(t),r=0;r<t;r++)e[r]=arguments[r];return n.call.apply(n,[this,{centerOffset:2,height:9,width:12,drop:4}].concat(e))}return hats2_createClass(MaidHeadpiece,[{key:"fill",value:function fill(){return"white"}},{key:"stroke",value:function stroke(){return"black"}},{key:"partPrototypes",get:function get(){return[{side:null,Part:Io}]}}]),MaidHeadpiece}();function dress_typeof(t){return(dress_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function _typeof(t){return typeof t}:function _typeof(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function dress_toConsumableArray(t){return function dress_arrayWithoutHoles(t){if(Array.isArray(t))return dress_arrayLikeToArray(t)}(t)||function dress_iterableToArray(t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(t))return Array.from(t)}(t)||function dress_unsupportedIterableToArray(t,e){if(!t)return;if("string"==typeof t)return dress_arrayLikeToArray(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);"Object"===r&&t.constructor&&(r=t.constructor.name);if("Map"===r||"Set"===r)return Array.from(t);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return dress_arrayLikeToArray(t,e)}(t)||function dress_nonIterableSpread(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function dress_arrayLikeToArray(t,e){(null==e||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function dress_classCallCheck(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function dress_defineProperties(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function dress_createClass(t,e,r){return e&&dress_defineProperties(t.prototype,e),r&&dress_defineProperties(t,r),t}function dress_inherits(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&dress_setPrototypeOf(t,e)}function dress_setPrototypeOf(t,e){return(dress_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(t,e){return t.__proto__=e,t})(t,e)}function dress_createSuper(r){var n=function dress_isNativeReflectConstruct(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(t){return!1}}();return function _createSuperInternal(){var t,e=dress_getPrototypeOf(r);return function dress_possibleConstructorReturn(t,e){return!e||"object"!==dress_typeof(e)&&"function"!=typeof e?function dress_assertThisInitialized(t){if(void 0!==t)return t;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}(t):e}(this,n?(t=dress_getPrototypeOf(this).constructor,Reflect.construct(e,arguments,t)):e.apply(this,arguments))}}function dress_getPrototypeOf(t){return(dress_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var Mo=function(){dress_inherits(DressBreastPart,pt);var n=dress_createSuper(DressBreastPart);function DressBreastPart(){dress_classCallCheck(this,DressBreastPart);for(var t=arguments.length,e=new Array(t),r=0;r<t;r++)e[r]=arguments[r];return n.call.apply(n,[this,{layer:_.GENITALS,loc:"chest",reflect:!0,aboveParts:["parts chest","decorativeParts chest"]},{}].concat(e))}return dress_createClass(DressBreastPart,[{key:"renderClothingPoints",value:function renderClothingPoints(t,e){ut.simpleStrokeFill(e,t,this);var r,n,o,a,i,s,c=calcDressBase.call(this,t),l=c.cleavageBot,u=c.cleavageTop;e.beginPath(),drawPoints(e,{x:0,y:0},adjust(l,.38*-this.thickness,0),adjust(u,.38*-this.thickness,0),{x:100,y:250},{x:100,y:0}),e.clip(),coverNipplesIfHaveNoBreasts(t,e,this)||(r=adjust(t.breast.top,.5,.7),n=adjust(t.breast.tip,.1,0),o=adjust(t.breast.bot,0,-.6),a=adjust(t.breast.in,-.9,-.5),i=adjust(t.breast.cleavage,-.6,0),s=adjust(connectEndPoints(i,r),0,.2),e.beginPath(),drawPoints(e,r,n,o,a,i,s),e.fill(),e.beginPath(),drawPoints(e,r,n,o),e.stroke(),e.beginPath(),drawPoints(e,l,u),e.stroke())}}]),DressBreastPart}(),Do=function(){dress_inherits(DressBasePart,pt);var n=dress_createSuper(DressBasePart);function DressBasePart(){dress_classCallCheck(this,DressBasePart);for(var t=arguments.length,e=new Array(t),r=0;r<t;r++)e[r]=arguments[r];return n.call.apply(n,[this,{layer:_.MIDRIFT,loc:"torso",reflect:!0,aboveParts:["parts neck","parts torso","decorativeParts torso","parts leg","decorativeParts leg"],aboveSameLayerParts:["groin","leg"]},{cleavageOpeness:.3,cleavageCoverage:.3,sideLoose:0,legCoverage:.4,legLoose:0,curveCleavageX:0,curveCleavageY:0,bustle:!1}].concat(e))}return dress_createClass(DressBasePart,[{key:"renderClothingPoints",value:function renderClothingPoints(t,e){var r=calcDressBase.call(this,t),n=r.cleavageBot,o=r.cleavageTop,a=r.neck,i=(r.collarbone,r.armpit,r.waist,r.hip,r.outerPoints),s=r.shoulder,c=r.pit,l=r.bottom;ut.simpleStrokeFill(e,t,this),e.beginPath(),drawPoints.apply(void 0,[e,n,o,a,s,c].concat(dress_toConsumableArray(i),[l])),e.fill(),e.beginPath(),drawPoints.apply(void 0,[e,n,o,a,s,v,c].concat(dress_toConsumableArray(i),[l])),e.stroke()}}]),DressBasePart}();function calcDressCleavage(t,e){var r,n,o={x:-.2,y:splitCurve(this.cleavageCoverage,t.neck.cusp,t.groin).left.p2.y};this.cleavageOpeness<0?(r=extractPoint(splitCurve(1+this.cleavageOpeness,t.neck.top,t.neck.cusp).left.p2),n=clone(t.neck.cusp)):r=1<this.cleavageOpeness?extractPoint(splitCurve(this.cleavageOpeness-1,t.collarbone,t.shoulder).left.p2):extractPoint(splitCurve(this.cleavageOpeness,t.neck.cusp,t.collarbone).left.p2),!this.lacing&&e&&o.y<e.y&&(o.y=e.y+3);var a=splitCurve(.5,o,r);return r.cp1={x:a.left.p2.x+this.curveCleavageX,y:a.left.p2.y+this.curveCleavageY},{cleavageBot:o,cleavageTop:r,neck:n}}function calcDressBase(t){var e,r,n,o,a=clone(t.collarbone),i=clone(t.armpit),s=clone(t.collarbone),c=clone(t.armpit),l=clone(t.lat),u=adjust(t.hip,0,0),p=adjust(t.waist,0,0),f=lineLineIntersection(l||c,u,{x:0,y:p.y},{x:100,y:p.y});f.x>p.x&&(p.x=findBetween(p.x,f.x,this.sideLoose),straightenCurve(c,p,this.sideLoose),straightenCurve(p,u,this.sideLoose));var y={y:(e=this.legCoverage<0?getLimbPoints(c,u,1+this.legCoverage,c,l,p,u):0==this.legCoverage?[c,l,p,u]:(r=[c,l,p],0<this.legLoose?(n=getLimbPoints(u,t.ankle.out,this.legCoverage,u,t.thigh.out),(o=u.y-(u.y-t.ankle.out.y)*this.legCoverage)<t.groin.y&&((n=[])[n.length]=clone(u),n[n.length]=clone(t.thigh.out),this.bustle&&(n[n.length]=extractPoint(t.thigh.out)),n[n.length-1].y=o,n[n.length-1].x+=30*this.legLoose*this.legCoverage)):n=getLimbPoints(u,t.ankle.out,this.legCoverage,u,t.thigh.out,t.knee.out,t.calf.out,t.ankle.out),r.concat(n)))[e.length-1].y,x:-.1},h=calcDressCleavage.call(this,t,y),d=h.cleavageBot,g=h.cleavageTop,P=h.neck;return e[e.length-1].y+=2,y.y+=-2,y.cp1={x:.5*y.x+.5*e[e.length-1].x,y:y.y},{cleavageBot:d,cleavageTop:g,neck:P,collarbone:s,armpit:c,waist:p,hip:u,outerPoints:e,shoulder:a,pit:i,bottom:y}}var No=function(){dress_inherits(DetachedSleevePart,pt);var n=dress_createSuper(DetachedSleevePart);function DetachedSleevePart(){dress_classCallCheck(this,DetachedSleevePart);for(var t=arguments.length,e=new Array(t),r=0;r<t;r++)e[r]=arguments[r];return n.call.apply(n,[this,{layer:_.ARMS,loc:"arm",aboveParts:["parts arm","decorativeParts arm","parts hand"]},{shoulderCoverage:-.1,armCoverage:.5,armLoose:0}].concat(e))}return dress_createClass(DetachedSleevePart,[{key:"renderClothingPoints",value:function renderClothingPoints(t,e){var r,n,o,a,i,s,c;this.armCoverage<=0||(n=(r=calcSuperSleeve.call(this,t)).outerArmPoints,o=r.innerArmPoints,ut.simpleStrokeFill(e,t,this),1<=this.shoulderCoverage?(a=adjust(t.collarbone,-.5,0),i=adjust(t.armpit,-.5,0),e.beginPath(),drawPoints.apply(void 0,[e].concat(dress_toConsumableArray(n),dress_toConsumableArray(o),[connectEndPoints(i,a)])),e.fill(),e.beginPath(),drawPoints.apply(void 0,[e].concat(dress_toConsumableArray(n),dress_toConsumableArray(o)))):(0<this.shoulderCoverage?(s=splitCurve(1-this.shoulderCoverage,t.collarbone,t.shoulder),t.deltoids&&t.collarbone.y!=t.deltoids.y&&(s=splitCurve(1-this.shoulderCoverage,t.collarbone,t.deltoids)),n[0]=extractPoint(s.left.p2),n[1]=s.right.p2):(c=splitCurve(Math.abs(this.shoulderCoverage),t.shoulder,t.elbow.out),n.splice(0,1),t.deltoids&&t.collarbone.y!=t.deltoids.y&&n.splice(0,1),n[0]=extractPoint(c.left.p2)),e.beginPath(),drawPoints.apply(void 0,[e].concat(dress_toConsumableArray(n),dress_toConsumableArray(o),[n[0]])),e.fill()),e.stroke())}}]),DetachedSleevePart}(),Wo=function(){dress_inherits(SuperSleevePart,pt);var n=dress_createSuper(SuperSleevePart);function SuperSleevePart(){dress_classCallCheck(this,SuperSleevePart);for(var t=arguments.length,e=new Array(t),r=0;r<t;r++)e[r]=arguments[r];return n.call.apply(n,[this,{layer:_.ARMS,loc:"arm",aboveParts:["parts arm","decorativeParts arm","parts hand"]},{armCoverage:.5,armLoose:0}].concat(e))}return dress_createClass(SuperSleevePart,[{key:"renderClothingPoints",value:function renderClothingPoints(t,e){var r,n,o,a,i;this.armCoverage<=0||(n=(r=calcSuperSleeve.call(this,t)).outerArmPoints,o=r.innerArmPoints,a=adjust(t.collarbone,-.5,0),i=adjust(t.armpit,-.5,0),ut.simpleStrokeFill(e,t,this),e.beginPath(),drawPoints.apply(void 0,[e].concat(dress_toConsumableArray(n),dress_toConsumableArray(o),[connectEndPoints(i,a)])),e.fill(),e.beginPath(),drawPoints.apply(void 0,[e].concat(dress_toConsumableArray(n),dress_toConsumableArray(o))),e.stroke())}}]),SuperSleevePart}();function calcSuperSleeve(t){var e,r,n,o,a,i,s,c,l,u=[],p=[],f=t.collarbone,y=t.hand?t.hand.palm:t.elbow.out;return 0<this.armLoose?(e=[t.collarbone],r=adjust(t.elbow.out,0,0),t.hand&&((r=adjust(t.wrist.in,0,0)).y=t.hand.tip.y),n=adjust(t.shoulder,5*this.armLoose*.75,0),t.deltoids&&t.deltoids.y!=t.collarbone.y&&(o=adjust(t.deltoids,5*this.armLoose*1,0)),e.push(o,n),t.hand?(a=adjust(t.hand.knuckle,5*this.armLoose*1.5,0),i=adjust(t.hand.tip,5*this.armLoose*1,0),e.push(a,i)):e.push(t.elbow.out,t.elbow.in),void 0!==(p=getLimbPointsAbovePoint((u=getLimbPoints.apply(void 0,[f,y,this.armCoverage].concat(e)))[u.length-1],!0,t.armpit,r))[0]&&(p[0].x-=5*this.armLoose*1),void 0!==p[1]&&(p[1].x-=5*this.armLoose*1)):(t.deltoids&&t.deltoids.y!=t.collarbone.y&&(s=t.deltoids),c=[t.collarbone,s,t.shoulder,t.elbow.out],t.hand&&c.push(t.wrist.out,t.hand.knuckle,t.hand.fist,t.hand.tip),u=getLimbPoints.apply(void 0,[f,y,this.armCoverage].concat(c)),t.hand&&u[u.length-1].y<=t.thumb.tip.y?(u[u.length]=t.hand.palm,(p=[t.armpit,t.elbow.in,t.wrist.in,t.thumb.out,t.thumb.tip]).reverse()):(l=[t.armpit,t.elbow.in],t.hand&&l.push(t.wrist.in,t.thumb.out,t.thumb.tip),p=getLimbPointsAbovePoint.apply(void 0,[u[u.length-1],!0].concat(l)))),this.armCoverage<1&&(p[0]=extractPoint(p[0])),{outerArmPoints:u,innerArmPoints:p}}var Go=function(){dress_inherits(LacingPart,pt);var n=dress_createSuper(LacingPart);function LacingPart(){dress_classCallCheck(this,LacingPart);for(var t=arguments.length,e=new Array(t),r=0;r<t;r++)e[r]=arguments[r];return n.call.apply(n,[this,{layer:_.GENITALS,loc:"chest",reflect:!1,aboveParts:["parts chest","decorativeParts chest"]},{lacing:!1,crosses:0}].concat(e))}return dress_createClass(LacingPart,[{key:"renderClothingPoints",value:function renderClothingPoints(t,e){var r,n,o,a,i,s;this.lacing&&(ut.simpleStrokeFill(e,t,this),n=(r=calcDressCleavage.call(this,t)).cleavageBot,o=r.cleavageTop,(a=this.crosses)<=0&&(a=13*this.cleavageCoverage),(i=reflect(o)).cp1=reflect(o.cp1),i.cp2=reflect(o.cp2),s=getLacingPoints(n,o,reflect(n),i,a,0),e.lineWidth=1,e.beginPath(),drawPoints.apply(void 0,[e].concat(dress_toConsumableArray(s.inner),[v],dress_toConsumableArray(s.outer))),e.stroke())}}]),LacingPart}(),Uo=function(){dress_inherits(Dress,lt);var n=dress_createSuper(Dress);function Dress(){dress_classCallCheck(this,Dress);for(var t=arguments.length,e=new Array(t),r=0;r<t;r++)e[r]=arguments[r];return n.call.apply(n,[this,{clothingLayer:ut.Layer.MID,armCoverage:.5,armLoose:0,thickness:1}].concat(e))}return Dress}(),zo=function(){dress_inherits(SuperDress,Uo);var n=dress_createSuper(SuperDress);function SuperDress(){dress_classCallCheck(this,SuperDress);for(var t=arguments.length,e=new Array(t),r=0;r<t;r++)e[r]=arguments[r];return n.call.apply(n,[this,{}].concat(e))}return dress_createClass(SuperDress,[{key:"stroke",value:function stroke(){return"hsla(335, 80%, 30%, 1)"}},{key:"fill",value:function fill(){return"hsla(335, 100%, 42%, 1)"}},{key:"partPrototypes",get:function get(){return[{side:null,Part:Go},{side:null,Part:Do},{side:null,Part:Mo},{side:A.LEFT,Part:Wo},{side:A.RIGHT,Part:Wo}]}}]),SuperDress}();function tops_typeof(t){return(tops_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function _typeof(t){return typeof t}:function _typeof(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function tops_toConsumableArray(t){return function tops_arrayWithoutHoles(t){if(Array.isArray(t))return tops_arrayLikeToArray(t)}(t)||function tops_iterableToArray(t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(t))return Array.from(t)}(t)||function tops_unsupportedIterableToArray(t,e){if(!t)return;if("string"==typeof t)return tops_arrayLikeToArray(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);"Object"===r&&t.constructor&&(r=t.constructor.name);if("Map"===r||"Set"===r)return Array.from(t);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return tops_arrayLikeToArray(t,e)}(t)||function tops_nonIterableSpread(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function tops_arrayLikeToArray(t,e){(null==e||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function tops_classCallCheck(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function tops_defineProperties(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function tops_createClass(t,e,r){return e&&tops_defineProperties(t.prototype,e),r&&tops_defineProperties(t,r),t}function tops_inherits(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&tops_setPrototypeOf(t,e)}function tops_setPrototypeOf(t,e){return(tops_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(t,e){return t.__proto__=e,t})(t,e)}function tops_createSuper(r){var n=function tops_isNativeReflectConstruct(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(t){return!1}}();return function _createSuperInternal(){var t,e=tops_getPrototypeOf(r);return function tops_possibleConstructorReturn(t,e){return!e||"object"!==tops_typeof(e)&&"function"!=typeof e?function tops_assertThisInitialized(t){if(void 0!==t)return t;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}(t):e}(this,n?(t=tops_getPrototypeOf(this).constructor,Reflect.construct(e,arguments,t)):e.apply(this,arguments))}}function tops_getPrototypeOf(t){return(tops_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function calcTee(t){var e=clone(t.collarbone),r=calcTopBody.call(this,t),n=r.armpit,o=r.lat,a=r.waist,i=r.hip,s=r.out,c=r.bottom,l=calcDressCleavage.call(this,t);return{cleavageBot:l.cleavageBot,cleavageTop:l.cleavageTop,neck:l.neck,shoulder:e,armpit:n,lat:o,waist:a,hip:i,out:s,bottom:c}}var Qo=function(){tops_inherits(TeePart,pt);var n=tops_createSuper(TeePart);function TeePart(){tops_classCallCheck(this,TeePart);for(var t=arguments.length,e=new Array(t),r=0;r<t;r++)e[r]=arguments[r];return n.call.apply(n,[this,{layer:_.MIDRIFT,loc:"torso",reflect:!0,aboveParts:["parts neck","parts torso","decorativeParts torso","parts leg"]},{}].concat(e))}return tops_createClass(TeePart,[{key:"renderClothingPoints",value:function renderClothingPoints(t,e){var r=calcTee.call(this,t),n=r.cleavageBot,o=r.cleavageTop,a=r.neck,i=r.shoulder,s=r.armpit,c=r.waist,l=r.hip,u=r.out,p=r.bottom;ut.simpleStrokeFill(e,t,this),e.beginPath(),drawPoints(e,n,o,a,i,s,c,l,u,p),e.fill(),e.stroke()}}]),TeePart}(),Vo=function(){tops_inherits(LeotardPart,pt);var n=tops_createSuper(LeotardPart);function LeotardPart(){tops_classCallCheck(this,LeotardPart);for(var t=arguments.length,e=new Array(t),r=0;r<t;r++)e[r]=arguments[r];return n.call.apply(n,[this,{layer:_.FRONT,loc:"torso",reflect:!0,aboveParts:["parts neck","parts torso","decorativeParts torso","parts leg"]},{}].concat(e))}return tops_createClass(LeotardPart,[{key:"renderClothingPoints",value:function renderClothingPoints(t,e){var r=calcTee.call(this,t),n=r.cleavageBot,o=r.cleavageTop,a=r.neck,i=r.shoulder,s=r.armpit,c=r.waist,l=r.hip,u=r.out,p=(r.bottom,adjust(clone(t.groin),-.2,0)),f=splitCurve(this.genCoverage,t.groin,extractPoint(t.thigh.top)),y=extractPoint(f.left.p2),f=splitCurve(.5,u,y);y.cp1=extractPoint(f.left.p2),y.cp1.x+=this.curveBotX-9,y.cp1.y+=this.curveBotY+5,ut.simpleStrokeFill(e,t,this),e.beginPath(),drawPoints(e,n,o,a,i,s,c,l,u,y,p),e.fill(),e.stroke()}}]),LeotardPart}(),qo=function(){tops_inherits(HalterTopBreastPart,pt);var n=tops_createSuper(HalterTopBreastPart);function HalterTopBreastPart(){tops_classCallCheck(this,HalterTopBreastPart);for(var t=arguments.length,e=new Array(t),r=0;r<t;r++)e[r]=arguments[r];return n.call.apply(n,[this,{layer:_.GENITALS,loc:"chest",reflect:!0,aboveParts:["parts chest","decorativeParts chest"]},{}].concat(e))}return tops_createClass(HalterTopBreastPart,[{key:"renderClothingPoints",value:function renderClothingPoints(t,e){function checkCleavage(t,e){r.y<e.y&&(r.y=e.y+3),o=splitCurve(.5,r,i),i.cp1={x:o.left.p2.x+t.curveCleavageX,y:o.left.p2.y+t.curveCleavageY}}ut.simpleStrokeFill(e,t,this);var r={x:-.2,y:(o=splitCurve(this.cleavageCoverage,t.neck.cusp,t.groin)).left.p2.y};this.outerNeckCoverage<this.innerNeckCoverage&&(this.outerNeckCoverage=this.innerNeckCoverage),this.innerNeckCoverage>this.outerNeckCoverage&&(this.innerNeckCoverage=this.outerNeckCoverage);var n=t.trapezius?t.trapezius:t.neck.cusp,o=splitCurve(this.outerNeckCoverage,n,t.collarbone),a=1<this.outerNeckCoverage?t.collarbone:o.left.p2,i=extractPoint((o=this.innerNeckCoverage<0?splitCurve(1+this.innerNeckCoverage,t.neck.top,n):splitCurve(this.innerNeckCoverage,n,t.collarbone)).left.p2),s=this.innerNeckCoverage<0?n:void 0,c=extractPoint(t.armpit);if(!1===t.hasOwnProperty("breast")){var l={x:-.2,y:c.y-1};return checkCleavage(this,l),e.beginPath(),drawPoints(e,r,i,s,a,c,l),e.fill(),e.beginPath(),drawPoints(e,r,i,s,a,c),e.stroke(),void coverNipplesIfHaveNoBreasts(t,e,this)}var u=adjust(t.breast.tip,.1,0),p=adjust(t.breast.bot,0,-.1),f={x:-.2,y:p.y};checkCleavage(this,f),e.beginPath(),drawPoints(e,r,i,s,a,u,p,f),e.fill(),e.beginPath(),drawPoints(e,r,i,s,a,u,p),e.stroke()}}]),HalterTopBreastPart}(),Jo=function(){tops_inherits(TubeTopBreastPart,pt);var n=tops_createSuper(TubeTopBreastPart);function TubeTopBreastPart(){tops_classCallCheck(this,TubeTopBreastPart);for(var t=arguments.length,e=new Array(t),r=0;r<t;r++)e[r]=arguments[r];return n.call.apply(n,[this,{layer:_.GENITALS,loc:"chest",reflect:!0,aboveParts:["parts chest","decorativeParts chest"]},{}].concat(e))}return tops_createClass(TubeTopBreastPart,[{key:"renderClothingPoints",value:function renderClothingPoints(t,e){var r,n,o,a,i;coverNipplesIfHaveNoBreasts(t,e,this)||(ut.simpleStrokeFill(e,t,this),r=[],1<this.chestCoverage?(2<this.chestCoverage&&(this.chestCoverage=1.9),this.chestCoverage,(r=getLimbPointsNegative(t.neck.top,t.breast.top,1-(this.chestCoverage-1),t.neck.top,t.neck.cusp,t.collarbone,extractPoint(t.breast.top)))[0]=extractPoint(r[0]),r[r.length]=adjust(t.breast.tip,.1,0)):(n=splitCurve(1-this.chestCoverage,t.breast.top,t.breast.tip),r[0]=extractPoint(n.left.p2),r[1]=adjust(n.right.p2,.1,0)),o={x:-.2,y:r[0].y+1},r[0].cp1={x:.8*(r[0].x+o.x),y:o.y},i={x:-.2,y:(a=adjust(t.breast.bot,0,-.1)).y},e.beginPath(),drawPoints.apply(void 0,[e,o].concat(tops_toConsumableArray(r),[a,i])),e.fill(),e.beginPath(),drawPoints.apply(void 0,[e,o].concat(tops_toConsumableArray(r),[a])),e.stroke())}}]),TubeTopBreastPart}(),$o=function(){tops_inherits(TopChestPart,pt);var n=tops_createSuper(TopChestPart);function TopChestPart(){tops_classCallCheck(this,TopChestPart);for(var t=arguments.length,e=new Array(t),r=0;r<t;r++)e[r]=arguments[r];return n.call.apply(n,[this,{layer:_.MIDRIFT,loc:"torso",reflect:!0,aboveParts:["parts neck","parts torso","decorativeParts torso","parts leg"]},{}].concat(e))}return tops_createClass(TopChestPart,[{key:"renderClothingPoints",value:function renderClothingPoints(t,e){var r,n,o,a,i,s,c,l;ut.simpleStrokeFill(e,t,this),2<=this.waistCoverage||(n=(r=calcTopBody.call(this,t)).armpit,o=r.lat,a=r.waist,i=r.hip,s=r.out,c=r.bottom,(l={x:-.2}).y=t.breast?t.breast.in.y:t.armpit.y,e.beginPath(),drawPoints(e,n,o,a,i,s,c,l,extractPoint(n)),e.fill(),e.beginPath(),drawPoints(e,n,o,a,i,s,c),e.stroke())}}]),TopChestPart}(),Yo=function(){tops_inherits(TopGroinPart,pt);var n=tops_createSuper(TopGroinPart);function TopGroinPart(){tops_classCallCheck(this,TopGroinPart);for(var t=arguments.length,e=new Array(t),r=0;r<t;r++)e[r]=arguments[r];return n.call.apply(n,[this,{layer:_.FRONT,loc:"torso",reflect:!0,aboveParts:["parts neck","parts torso","decorativeParts torso","parts leg"]},{}].concat(e))}return tops_createClass(TopGroinPart,[{key:"renderClothingPoints",value:function renderClothingPoints(t,e){var r,n,o,a,i,s,c,l,u,p;ut.simpleStrokeFill(e,t,this),2<=this.waistCoverage||(n=(r=calcTopBody.call(this,t)).armpit,o=r.lat,a=r.waist,i=r.hip,s=r.out,r.bottom,(c={x:-.2}).y=t.breast?t.breast.in.y:t.armpit.y,l=adjust(clone(t.groin),-.2,0),p=splitCurve(this.genCoverage,t.groin,extractPoint(t.thigh.top)),p=splitCurve(.5,s,u=extractPoint(p.left.p2)),u.cp1=extractPoint(p.left.p2),u.cp1.x+=this.curveBotX-9,u.cp1.y+=this.curveBotY+5,e.beginPath(),drawPoints(e,n,o,a,i,s,u,l,c,extractPoint(n)),e.fill(),e.beginPath(),drawPoints(e,n,o,a,i,s,u,l),e.stroke())}}]),TopGroinPart}();function calcTopBody(t){var e=clone(t.armpit),r=clone(t.lat),n=adjust(t.hip,0,0),o=adjust(t.waist,.8*this.thickness,0),a=e;r&&(a=r);var i,s,c,l=lineLineIntersection(a,n,{x:0,y:o.y},{x:100,y:o.y});l.x>o.x&&(o.x=findBetween(o.x,l.x,this.sideLoose),straightenCurve(e,o,this.sideLoose),straightenCurve(o,n,this.sideLoose));var u={y:(s=1<this.waistCoverage?(i=splitCurve(1-(this.waistCoverage-1),t.armpit,o),n=o=void 0,i.left.p2):0<=this.waistCoverage?(c=splitCurve(1-this.waistCoverage,o,n),n=void 0,c.left.p2):splitCurve(Math.abs(this.waistCoverage),n,t.thigh.out).left.p2).y-3,x:-.2};return u.cp1={x:.5*u.x+.5*s.x,y:u.y},{armpit:e,lat:r,waist:o,hip:n,out:s,bottom:u}}var Xo=function(){tops_inherits(BikiniTopBreastPart,pt);var n=tops_createSuper(BikiniTopBreastPart);function BikiniTopBreastPart(){tops_classCallCheck(this,BikiniTopBreastPart);for(var t=arguments.length,e=new Array(t),r=0;r<t;r++)e[r]=arguments[r];return n.call.apply(n,[this,{layer:_.GENITALS,loc:"chest",reflect:!0,aboveParts:["parts chest","decorativeParts chest"]},{}].concat(e))}return tops_createClass(BikiniTopBreastPart,[{key:"renderClothingPoints",value:function renderClothingPoints(t,e){ut.simpleStrokeFill(e,t,this),this.outerNeckCoverage<this.innerNeckCoverage&&(this.outerNeckCoverage=this.innerNeckCoverage),this.innerNeckCoverage>this.outerNeckCoverage&&(this.innerNeckCoverage=this.outerNeckCoverage);var r=t.neck.cusp;t.trapezius&&(r=t.trapezius);var n=splitCurve(this.outerNeckCoverage,r,t.collarbone),o=n.left.p2,a=extractPoint((n=this.innerNeckCoverage<0?splitCurve(1+this.innerNeckCoverage,t.neck.top,r):splitCurve(this.innerNeckCoverage,r,t.collarbone)).left.p2);if(!1===t.hasOwnProperty("breast")){var i=adjust(t.armpit,0,0),s={x:-.2,y:i.y-1},c={x:-.2,y:s.y+2*this.radius};return c.cp1={x:s.x+2*this.radius,y:s.y+this.radius},n=splitCurve(.5,c,a),a.cp1={x:n.left.p2.x+this.curveCleavageX,y:n.left.p2.y+this.curveCleavageY},e.beginPath(),drawPoints(e,c,a,o,extractPoint(i),s),e.fill(),e.beginPath(),drawPoints(e,c,a,o,extractPoint(i)),e.stroke(),void coverNipplesIfHaveNoBreasts(t,e,this)}var l=adjust(t.breast.tip,.1,0),u=adjust(t.breast.bot,0,-.1),p={x:-.2,y:u.y},f={x:-.2,y:p.y+2*this.radius};f.cp1={x:p.x+2*this.radius,y:p.y+this.radius},n=splitCurve(.5,f,a),a.cp1={x:n.left.p2.x+this.curveCleavageX,y:n.left.p2.y+this.curveCleavageY},e.beginPath(),drawPoints(e,f,a,o,l,u,p,f),e.fill(),e.beginPath(),drawPoints(e,f,a,o,l,u,p,f),e.stroke()}}]),BikiniTopBreastPart}(),Ko=function(){tops_inherits(Top,lt);var n=tops_createSuper(Top);function Top(){tops_classCallCheck(this,Top);for(var t=arguments.length,e=new Array(t),r=0;r<t;r++)e[r]=arguments[r];return n.call.apply(n,[this,{clothingLayer:ut.Layer.MID,thickness:.6}].concat(e))}return tops_createClass(Top,[{key:"stroke",value:function stroke(){return"hsla(335, 800%, 30%, 1)"}},{key:"fill",value:function fill(){return"hsla(335, 100%, 42%, 1)"}}]),Top}(),Zo=function(){tops_inherits(Tee,Ko);var n=tops_createSuper(Tee);function Tee(){tops_classCallCheck(this,Tee);for(var t=arguments.length,e=new Array(t),r=0;r<t;r++)e[r]=arguments[r];return n.call.apply(n,[this,{cleavageOpeness:.3,cleavageCoverage:.16,sideLoose:0,waistCoverage:0,curveCleavageX:0,curveCleavageY:0,legCoverage:1}].concat(e))}return tops_createClass(Tee,[{key:"partPrototypes",get:function get(){return[{side:null,Part:Go},{side:null,Part:Qo},{side:null,Part:Mo},{side:A.LEFT,Part:Wo},{side:A.RIGHT,Part:Wo}]}}]),Tee}(),ta=function(){tops_inherits(Leotard,Ko);var n=tops_createSuper(Leotard);function Leotard(){tops_classCallCheck(this,Leotard);for(var t=arguments.length,e=new Array(t),r=0;r<t;r++)e[r]=arguments[r];return n.call.apply(n,[this,{cleavageOpeness:.2,cleavageCoverage:.1,waistCoverage:.5,curveCleavageX:2,curveCleavageY:-2,armCoverage:.8,sideLoose:0,genCoverage:1,curveBotX:6,curveBotY:6,legCoverage:1}].concat(e))}return tops_createClass(Leotard,[{key:"partPrototypes",get:function get(){return[{side:null,Part:Vo},{side:null,Part:Mo},{side:A.LEFT,Part:Wo},{side:A.RIGHT,Part:Wo}]}}]),Leotard}(),ea=function(){tops_inherits(HalterTop,Ko);var n=tops_createSuper(HalterTop);function HalterTop(){tops_classCallCheck(this,HalterTop);for(var t=arguments.length,e=new Array(t),r=0;r<t;r++)e[r]=arguments[r];return n.call.apply(n,[this,{cleavageCoverage:.3,outerNeckCoverage:.35,innerNeckCoverage:.15,curveCleavageX:9,curveCleavageY:-9,waistCoverage:.66,sideLoose:0}].concat(e))}return tops_createClass(HalterTop,[{key:"partPrototypes",get:function get(){return[{side:null,Part:qo},{side:null,Part:$o}]}}]),HalterTop}(),ra=function(){tops_inherits(TubeTop,Ko);var n=tops_createSuper(TubeTop);function TubeTop(){tops_classCallCheck(this,TubeTop);for(var t=arguments.length,e=new Array(t),r=0;r<t;r++)e[r]=arguments[r];return n.call.apply(n,[this,{chestCoverage:.3,waistCoverage:.3,sideLoose:0}].concat(e))}return tops_createClass(TubeTop,[{key:"partPrototypes",get:function get(){return[{side:null,Part:Jo},{side:null,Part:$o}]}}]),TubeTop}(),na=function(){tops_inherits(TubeTopSleeves,Ko);var n=tops_createSuper(TubeTopSleeves);function TubeTopSleeves(){tops_classCallCheck(this,TubeTopSleeves);for(var t=arguments.length,e=new Array(t),r=0;r<t;r++)e[r]=arguments[r];return n.call.apply(n,[this,{chestCoverage:.3,waistCoverage:.3,sideLoose:0,shoulderCoverage:0,armCoverage:.5,armLoose:.5}].concat(e))}return tops_createClass(TubeTopSleeves,[{key:"partPrototypes",get:function get(){return[{side:null,Part:Jo},{side:null,Part:$o},{side:A.LEFT,Part:No},{side:A.RIGHT,Part:No}]}}]),TubeTopSleeves}(),oa=function(){tops_inherits(BikiniTop,Ko);var n=tops_createSuper(BikiniTop);function BikiniTop(){tops_classCallCheck(this,BikiniTop);for(var t=arguments.length,e=new Array(t),r=0;r<t;r++)e[r]=arguments[r];return n.call.apply(n,[this,{radius:3.6,outerNeckCoverage:.35,innerNeckCoverage:.03,curveCleavageX:14,curveCleavageY:-14}].concat(e))}return tops_createClass(BikiniTop,[{key:"partPrototypes",get:function get(){return[{side:null,Part:Xo}]}}]),BikiniTop}(),aa=function(){tops_inherits(Swimsuit,Ko);var n=tops_createSuper(Swimsuit);function Swimsuit(){tops_classCallCheck(this,Swimsuit);for(var t=arguments.length,e=new Array(t),r=0;r<t;r++)e[r]=arguments[r];return n.call.apply(n,[this,{cleavageCoverage:.3,outerNeckCoverage:.35,innerNeckCoverage:.15,curveCleavageX:9,curveCleavageY:-9,waistCoverage:.2,sideLoose:0,genCoverage:1,curveBotX:6,curveBotY:6}].concat(e))}return tops_createClass(Swimsuit,[{key:"partPrototypes",get:function get(){return[{side:null,Part:qo},{side:null,Part:Yo}]}}]),Swimsuit}();function corset_typeof(t){return(corset_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function _typeof(t){return typeof t}:function _typeof(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function corset_toConsumableArray(t){return function corset_arrayWithoutHoles(t){if(Array.isArray(t))return corset_arrayLikeToArray(t)}(t)||function corset_iterableToArray(t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(t))return Array.from(t)}(t)||function corset_unsupportedIterableToArray(t,e){if(!t)return;if("string"==typeof t)return corset_arrayLikeToArray(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);"Object"===r&&t.constructor&&(r=t.constructor.name);if("Map"===r||"Set"===r)return Array.from(t);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return corset_arrayLikeToArray(t,e)}(t)||function corset_nonIterableSpread(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function corset_arrayLikeToArray(t,e){(null==e||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function corset_classCallCheck(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function corset_defineProperties(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function corset_createClass(t,e,r){return e&&corset_defineProperties(t.prototype,e),r&&corset_defineProperties(t,r),t}function corset_inherits(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&corset_setPrototypeOf(t,e)}function corset_setPrototypeOf(t,e){return(corset_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(t,e){return t.__proto__=e,t})(t,e)}function corset_createSuper(r){var n=function corset_isNativeReflectConstruct(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(t){return!1}}();return function _createSuperInternal(){var t,e=corset_getPrototypeOf(r);return function corset_possibleConstructorReturn(t,e){return!e||"object"!==corset_typeof(e)&&"function"!=typeof e?function corset_assertThisInitialized(t){if(void 0!==t)return t;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}(t):e}(this,n?(t=corset_getPrototypeOf(this).constructor,Reflect.construct(e,arguments,t)):e.apply(this,arguments))}}function corset_getPrototypeOf(t){return(corset_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var ia=function(){corset_inherits(CorsetBreastPart,pt);var n=corset_createSuper(CorsetBreastPart);function CorsetBreastPart(){corset_classCallCheck(this,CorsetBreastPart);for(var t=arguments.length,e=new Array(t),r=0;r<t;r++)e[r]=arguments[r];return n.call.apply(n,[this,{layer:_.GENITALS,loc:"chest",reflect:!0,aboveParts:["parts chest","decorativeParts chest"]}].concat(e))}return corset_createClass(CorsetBreastPart,[{key:"renderClothingPoints",value:function renderClothingPoints(t,e){var r;ut.simpleStrokeFill(e,t,this),coverNipplesIfHaveNoBreasts(t,e,this)||((r=calcBra(t)).out.cp1=simpleQuadratic(r.top,r.out,.4,1),r.top.cp1=simpleQuadratic(t.breast.cleavage,r.top,.6,2),e.beginPath(),drawPoints(e,r.top,r.out,r.tip,t.breast.bot,t.breast.in,t.breast.cleavage,r.top),e.fill(),drawPoints(e,t.breast.cleavage,r.top,r.out,r.tip,t.breast.bot),e.stroke())}}]),CorsetBreastPart}();function calcCorset(t){var e,r;t.breast?(e=getLimbPointsBellowPoint(t.breast.cleavage,!1,t.armpit,t.waist)[0],r={x:-.1,y:t.breast.cleavage.y}):(r={x:-.1,y:(e=clone(t.armpit)).y-4},e.cp1={x:.5*e.x+.5*r.x,y:r.y});var n=splitCurve(this.botCoverage,t.waist,t.hip).left.p2,o={x:0,y:n.y-7};return o.cp2={x:.5*o.x+.5*n.x,y:o.y},o.cp1={x:o.cp2.x+12,y:o.cp2.y+9},{topMid:r,top:e,bot:n,botMid:o}}var sa=function(){corset_inherits(CorsetPart,pt);var n=corset_createSuper(CorsetPart);function CorsetPart(){corset_classCallCheck(this,CorsetPart);for(var t=arguments.length,e=new Array(t),r=0;r<t;r++)e[r]=arguments[r];return n.call.apply(n,[this,{layer:_.FRONT,loc:"torso",reflect:!0,aboveParts:["parts neck","parts torso","decorativeParts torso","parts leg"]},{}].concat(e))}return corset_createClass(CorsetPart,[{key:"renderClothingPoints",value:function renderClothingPoints(t,e){ut.simpleStrokeFill(e,t,this);var r,n,o,a,i=calcCorset.call(this,t),s=i.topMid,c=i.top,l=i.bot,u=i.botMid;e.beginPath(),drawPoints(e,s,c,t.waist,l,extractPoint(l),u),e.fill(),e.stroke(),this.lacing&&(r=adjust(s,-3,-1),n=adjust(u,-3,1),o=adjust(s,3,-1),a=getLacingPoints(n,r,adjust(u,3,1),o,this.knots),e.strokeStyle=this.highlight,e.beginPath(),drawPoints.apply(void 0,[e].concat(corset_toConsumableArray(a.inner),[v],corset_toConsumableArray(a.outer))),e.stroke())}}]),CorsetPart}(),ca=function(){corset_inherits(HalfCorsetPart,pt);var n=corset_createSuper(HalfCorsetPart);function HalfCorsetPart(){corset_classCallCheck(this,HalfCorsetPart);for(var t=arguments.length,e=new Array(t),r=0;r<t;r++)e[r]=arguments[r];return n.call.apply(n,[this,{layer:_.FRONT,loc:"torso",reflect:!0,aboveParts:["parts neck","parts torso","decorativeParts torso","parts leg"]},{}].concat(e))}return corset_createClass(HalfCorsetPart,[{key:"renderClothingPoints",value:function renderClothingPoints(t,e){ut.simpleStrokeFill(e,t,this);var r=extractPoint(splitCurve(1-this.topCoverage,t.armpit,t.waist).left.p2),n=splitCurve(this.botCoverage,t.waist,t.hip).left.p2,o={x:0,y:n.y-7};o.cp2={x:.5*o.x+.5*n.x,y:o.y},o.cp1={x:o.cp2.x+12,y:o.cp2.y+9};var a,i,s,c,l={x:0,y:r.y-5};r.cp1={x:.5*r.x+.5*l.x,y:l.y},e.beginPath(),drawPoints(e,l,r,t.waist,n,o,l),e.fill(),e.beginPath(),drawPoints(e,l,r,t.waist,n,o),e.stroke(),this.lacing&&(a=adjust(l,-3,-1),i=adjust(o,-3,1),s=adjust(l,3,-1),c=getLacingPoints(i,a,adjust(o,3,1),s,this.knots),e.strokeStyle=this.highlight,e.beginPath(),drawPoints.apply(void 0,[e].concat(corset_toConsumableArray(c.inner),[v],corset_toConsumableArray(c.outer))),e.stroke())}}]),HalfCorsetPart}(),la=function(){corset_inherits(Corset,Ko);var n=corset_createSuper(Corset);function Corset(){corset_classCallCheck(this,Corset);for(var t=arguments.length,e=new Array(t),r=0;r<t;r++)e[r]=arguments[r];return n.call.apply(n,[this,{clothingLayer:ut.Layer.OUTER,botCoverage:1,thickness:1,lacing:!0,knots:6,highlight:"hsla(0, 0%, 52%, 1)"}].concat(e))}return corset_createClass(Corset,[{key:"stroke",value:function stroke(){return"#000"}},{key:"fill",value:function fill(){return"hsl(0,10%,20%)"}},{key:"partPrototypes",get:function get(){return[{side:null,Part:ia},{side:null,Part:sa}]}}]),Corset}(),ua=function(){corset_inherits(HalfCorset,Ko);var n=corset_createSuper(HalfCorset);function HalfCorset(){corset_classCallCheck(this,HalfCorset);for(var t=arguments.length,e=new Array(t),r=0;r<t;r++)e[r]=arguments[r];return n.call.apply(n,[this,{clothingLayer:ut.Layer.OUTER,topCoverage:.6,botCoverage:1,thickness:1,knots:6,lacing:!0,highlight:"hsla(0, 0%, 52%, 1)"}].concat(e))}return corset_createClass(HalfCorset,[{key:"stroke",value:function stroke(){return"#000"}},{key:"fill",value:function fill(){return"hsl(0,10%,20%)"}},{key:"partPrototypes",get:function get(){return[{side:null,Part:ca}]}}]),HalfCorset}();function gloves_typeof(t){return(gloves_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function _typeof(t){return typeof t}:function _typeof(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function gloves_toConsumableArray(t){return function gloves_arrayWithoutHoles(t){if(Array.isArray(t))return gloves_arrayLikeToArray(t)}(t)||function gloves_iterableToArray(t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(t))return Array.from(t)}(t)||function gloves_unsupportedIterableToArray(t,e){if(!t)return;if("string"==typeof t)return gloves_arrayLikeToArray(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);"Object"===r&&t.constructor&&(r=t.constructor.name);if("Map"===r||"Set"===r)return Array.from(t);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return gloves_arrayLikeToArray(t,e)}(t)||function gloves_nonIterableSpread(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function gloves_arrayLikeToArray(t,e){(null==e||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function gloves_classCallCheck(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function gloves_defineProperties(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function gloves_createClass(t,e,r){return e&&gloves_defineProperties(t.prototype,e),r&&gloves_defineProperties(t,r),t}function gloves_inherits(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&gloves_setPrototypeOf(t,e)}function gloves_setPrototypeOf(t,e){return(gloves_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(t,e){return t.__proto__=e,t})(t,e)}function gloves_createSuper(r){var n=function gloves_isNativeReflectConstruct(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(t){return!1}}();return function _createSuperInternal(){var t,e=gloves_getPrototypeOf(r);return function gloves_possibleConstructorReturn(t,e){return!e||"object"!==gloves_typeof(e)&&"function"!=typeof e?function gloves_assertThisInitialized(t){if(void 0!==t)return t;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}(t):e}(this,n?(t=gloves_getPrototypeOf(this).constructor,Reflect.construct(e,arguments,t)):e.apply(this,arguments))}}function gloves_getPrototypeOf(t){return(gloves_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function calcGlove(t){var e=getLimbPointsNegative(t.collarbone,t.hand.palm,this.armCoverage,t.collarbone,t.deltoids,t.shoulder,t.elbow.out,t.wrist.out);return{outerArmPoints:e,innerArmPoints:getLimbPointsBellowPoint({y:e[0].y-3,x:e[0].x},!0,t.armpit,t.elbow.in,t.wrist.in)}}var pa=function(){gloves_inherits(GloveSleevePart,pt);var n=gloves_createSuper(GloveSleevePart);function GloveSleevePart(){gloves_classCallCheck(this,GloveSleevePart);for(var t=arguments.length,e=new Array(t),r=0;r<t;r++)e[r]=arguments[r];return n.call.apply(n,[this,{layer:_.ARMS,loc:"arm",aboveParts:["parts arm","decorativeParts arm","parts hand"]},{armCoverage:.5}].concat(e))}return gloves_createClass(GloveSleevePart,[{key:"renderClothingPoints",value:function renderClothingPoints(t,e){var r=calcGlove.call(this,t),n=r.outerArmPoints,o=r.innerArmPoints;ut.simpleStrokeFill(e,t,this),0<this.armCoverage?(e.beginPath(),drawPoints.apply(void 0,[e].concat(gloves_toConsumableArray(n),[extractPoint(t.hand.palm)],gloves_toConsumableArray(o),[extractPoint(n[0])]))):(e.beginPath(),drawPoints.apply(void 0,[e].concat(gloves_toConsumableArray(n),[extractPoint(t.hand.palm)],gloves_toConsumableArray(o),[connectEndPoints(o[o.length-1],n[0])]))),e.fill(),e.stroke(),e.fill(),e.stroke()}}]),GloveSleevePart}(),fa=function(){gloves_inherits(GlovePart,pt);var n=gloves_createSuper(GlovePart);function GlovePart(){gloves_classCallCheck(this,GlovePart);for(var t=arguments.length,e=new Array(t),r=0;r<t;r++)e[r]=arguments[r];return n.call.apply(n,[this,{layer:_.ARMS,loc:"arm",aboveParts:["parts arm","decorativeParts arm","parts hand"]},{armCoverage:.5}].concat(e))}return gloves_createClass(GlovePart,[{key:"renderClothingPoints",value:function renderClothingPoints(t,e){ut.simpleStrokeFill(e,t,this);var r=calcGlove.call(this,t),n=r.outerArmPoints,o=r.innerArmPoints,a=[t.hand.knuckle,t.hand.tip,t.hand.palm,t.thumb.tip,t.thumb.out];0<this.armCoverage?(e.beginPath(),drawPoints.apply(void 0,[e].concat(gloves_toConsumableArray(n),a,gloves_toConsumableArray(o),[extractPoint(n[0])]))):(e.beginPath(),drawPoints.apply(void 0,[e].concat(gloves_toConsumableArray(n),a,gloves_toConsumableArray(o),[connectEndPoints(o[o.length-1],n[0])]))),e.fill(),e.stroke()}}]),GlovePart}(),ya=function(){gloves_inherits(FingerlessGlovePart,pt);var n=gloves_createSuper(FingerlessGlovePart);function FingerlessGlovePart(){gloves_classCallCheck(this,FingerlessGlovePart);for(var t=arguments.length,e=new Array(t),r=0;r<t;r++)e[r]=arguments[r];return n.call.apply(n,[this,{layer:_.ARMS,loc:"arm",aboveParts:["parts arm","decorativeParts arm","parts hand"]},{armCoverage:.5}].concat(e))}return gloves_createClass(FingerlessGlovePart,[{key:"renderClothingPoints",value:function renderClothingPoints(t,e){ut.simpleStrokeFill(e,t,this);var r=getLimbPointsNegative(t.collarbone,t.hand.palm,this.armCoverage,t.collarbone,t.deltoids,t.shoulder,t.elbow.out,t.wrist.out,t.hand.knuckle),n=getLimbPointsBellowPoint({y:r[0].y-3,x:r[0].x},!0,t.armpit,t.elbow.in,t.wrist.in,t.thumb.out),o=extractPoint(splitCurve(.3,t.hand.knuckle,t.hand.tip).left.p2),a=extractPoint(splitCurve(.8,t.hand.tip,t.hand.palm).left.p2),i=extractPoint(splitCurve(.3,t.thumb.tip,t.thumb.out).left.p2);0<this.armCoverage?(e.beginPath(),drawPoints.apply(void 0,[e].concat(gloves_toConsumableArray(r),[o,a,extractPoint(t.hand.palm),i],gloves_toConsumableArray(n),[extractPoint(r[0])]))):(e.beginPath(),drawPoints.apply(void 0,[e].concat(gloves_toConsumableArray(r),[o,a,extractPoint(t.hand.palm),i],gloves_toConsumableArray(n),[connectEndPoints(n[n.length-1],r[0])]))),e.fill(),e.stroke()}}]),FingerlessGlovePart}(),ha=function(){gloves_inherits(BraceletPart,pt);var n=gloves_createSuper(BraceletPart);function BraceletPart(){gloves_classCallCheck(this,BraceletPart);for(var t=arguments.length,e=new Array(t),r=0;r<t;r++)e[r]=arguments[r];return n.call.apply(n,[this,{layer:_.ARMS,loc:"+arm",aboveParts:["parts arm","decorativeParts arm","parts hand"]},{armCoverage:.5}].concat(e))}return gloves_createClass(BraceletPart,[{key:"renderClothingPoints",value:function renderClothingPoints(t,e){ut.simpleStrokeFill(e,t,this);var r=calcGlove.call(this,t),n=r.outerArmPoints,o=r.innerArmPoints;0<this.armCoverage?(e.beginPath(),drawPoints.apply(void 0,[e].concat(gloves_toConsumableArray(n),[extractPoint(t.wrist.out),t.wrist.in],gloves_toConsumableArray(o),[extractPoint(n[0])]))):(e.beginPath(),drawPoints.apply(void 0,[e].concat(gloves_toConsumableArray(n),[t.wrist.out,t.wrist.in],gloves_toConsumableArray(o),[connectEndPoints(o[o.length-1],n[0])]))),e.fill(),e.stroke()}}]),BraceletPart}(),da=function(){gloves_inherits(Glove,lt);var n=gloves_createSuper(Glove);function Glove(){gloves_classCallCheck(this,Glove);for(var t=arguments.length,e=new Array(t),r=0;r<t;r++)e[r]=arguments[r];return n.call.apply(n,[this,{clothingLayer:ut.Layer.BASE,thickness:.8}].concat(e))}return gloves_createClass(Glove,[{key:"fill",value:function fill(){return"hsla(0, 0%, 28%, 1)"}}]),Glove}(),ga=function(){gloves_inherits(GloveSleeve,da);var n=gloves_createSuper(GloveSleeve);function GloveSleeve(){gloves_classCallCheck(this,GloveSleeve);for(var t=arguments.length,e=new Array(t),r=0;r<t;r++)e[r]=arguments[r];return n.call.apply(n,[this,{armCoverage:.5,thickness:.6}].concat(e))}return gloves_createClass(GloveSleeve,[{key:"partPrototypes",get:function get(){return[{side:A.LEFT,Part:pa},{side:A.RIGHT,Part:pa}]}}]),GloveSleeve}(),Pa=function(){gloves_inherits(LongGloves,da);var n=gloves_createSuper(LongGloves);function LongGloves(){gloves_classCallCheck(this,LongGloves);for(var t=arguments.length,e=new Array(t),r=0;r<t;r++)e[r]=arguments[r];return n.call.apply(n,[this,{armCoverage:.5}].concat(e))}return gloves_createClass(LongGloves,[{key:"fill",value:function fill(){return"hsla(0, 0%, 28%, 1)"}},{key:"partPrototypes",get:function get(){return[{side:A.LEFT,Part:fa},{side:A.RIGHT,Part:fa}]}}]),LongGloves}(),va=function(){gloves_inherits(FingerlessGloves,da);var n=gloves_createSuper(FingerlessGloves);function FingerlessGloves(){gloves_classCallCheck(this,FingerlessGloves);for(var t=arguments.length,e=new Array(t),r=0;r<t;r++)e[r]=arguments[r];return n.call.apply(n,[this,{armCoverage:.9}].concat(e))}return gloves_createClass(FingerlessGloves,[{key:"fill",value:function fill(){return"hsla(0, 0%, 28%, 1)"}},{key:"partPrototypes",get:function get(){return[{side:A.LEFT,Part:ya},{side:A.RIGHT,Part:ya}]}}]),FingerlessGloves}(),ba=function(){gloves_inherits(Bracelet,da);var n=gloves_createSuper(Bracelet);function Bracelet(){gloves_classCallCheck(this,Bracelet);for(var t=arguments.length,e=new Array(t),r=0;r<t;r++)e[r]=arguments[r];return n.call.apply(n,[this,{armCoverage:.75}].concat(e))}return gloves_createClass(Bracelet,[{key:"fill",value:function fill(){return"hsla(0, 0%, 28%, 1)"}},{key:"partPrototypes",get:function get(){return[{side:A.LEFT,Part:ha},{side:A.RIGHT,Part:ha}]}}]),Bracelet}(),_a=function(){gloves_inherits(BraceletLeft,da);var n=gloves_createSuper(BraceletLeft);function BraceletLeft(){gloves_classCallCheck(this,BraceletLeft);for(var t=arguments.length,e=new Array(t),r=0;r<t;r++)e[r]=arguments[r];return n.call.apply(n,[this,{armCoverage:.75}].concat(e))}return gloves_createClass(BraceletLeft,[{key:"fill",value:function fill(){return"hsla(0, 0%, 28%, 1)"}},{key:"partPrototypes",get:function get(){return[{side:A.RIGHT,Part:ha}]}}]),BraceletLeft}(),ma=function(){gloves_inherits(BraceletRight,da);var n=gloves_createSuper(BraceletRight);function BraceletRight(){gloves_classCallCheck(this,BraceletRight);for(var t=arguments.length,e=new Array(t),r=0;r<t;r++)e[r]=arguments[r];return n.call.apply(n,[this,{armCoverage:.75}].concat(e))}return gloves_createClass(BraceletRight,[{key:"fill",value:function fill(){return"hsla(0, 0%, 28%, 1)"}},{key:"partPrototypes",get:function get(){return[{side:A.LEFT,Part:ha}]}}]),BraceletRight}();function choker_typeof(t){return(choker_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function _typeof(t){return typeof t}:function _typeof(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function choker_toConsumableArray(t){return function choker_arrayWithoutHoles(t){if(Array.isArray(t))return choker_arrayLikeToArray(t)}(t)||function choker_iterableToArray(t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(t))return Array.from(t)}(t)||function choker_unsupportedIterableToArray(t,e){if(!t)return;if("string"==typeof t)return choker_arrayLikeToArray(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);"Object"===r&&t.constructor&&(r=t.constructor.name);if("Map"===r||"Set"===r)return Array.from(t);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return choker_arrayLikeToArray(t,e)}(t)||function choker_nonIterableSpread(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function choker_arrayLikeToArray(t,e){(null==e||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function choker_classCallCheck(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function choker_defineProperties(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function choker_createClass(t,e,r){return e&&choker_defineProperties(t.prototype,e),r&&choker_defineProperties(t,r),t}function choker_inherits(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&choker_setPrototypeOf(t,e)}function choker_setPrototypeOf(t,e){return(choker_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(t,e){return t.__proto__=e,t})(t,e)}function choker_createSuper(r){var n=function choker_isNativeReflectConstruct(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(t){return!1}}();return function _createSuperInternal(){var t,e=choker_getPrototypeOf(r);return function choker_possibleConstructorReturn(t,e){return!e||"object"!==choker_typeof(e)&&"function"!=typeof e?function choker_assertThisInitialized(t){if(void 0!==t)return t;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}(t):e}(this,n?(t=choker_getPrototypeOf(this).constructor,Reflect.construct(e,arguments,t)):e.apply(this,arguments))}}function choker_getPrototypeOf(t){return(choker_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var Sa=function(){choker_inherits(ChokerPart,pt);var n=choker_createSuper(ChokerPart);function ChokerPart(){choker_classCallCheck(this,ChokerPart);for(var t=arguments.length,e=new Array(t),r=0;r<t;r++)e[r]=arguments[r];return n.call.apply(n,[this,{layer:_.GENITALS,loc:"+neck",reflect:!0,aboveParts:["parts neck","parts torso","decorativeParts torso"],belowSameLayerParts:["torso"]},{}].concat(e))}return choker_createClass(ChokerPart,[{key:"renderClothingPoints",value:function renderClothingPoints(t,e){ut.simpleStrokeFill(e,t,this);var r=calcCollar.call(this,t),n=r.topOut,o=r.botOut,a=r.topIn,i=r.botIn;if(this.center)return a.cp1={y:(a.y-i.y)/2+i.y,x:4},e.beginPath(),drawPoints(e,a,n,o,i,a),e.fill(),void e.stroke();e.beginPath(),drawPoints(e,a,n,o,i),e.fill(),e.stroke()}}]),ChokerPart}(),ka=function(){choker_inherits(NeckCorsetPart,pt);var n=choker_createSuper(NeckCorsetPart);function NeckCorsetPart(){choker_classCallCheck(this,NeckCorsetPart);for(var t=arguments.length,e=new Array(t),r=0;r<t;r++)e[r]=arguments[r];return n.call.apply(n,[this,{layer:_.GENITALS,loc:"+neck",reflect:!0,aboveParts:["parts neck","parts torso","decorativeParts torso"],belowSameLayerParts:["torso"]},{}].concat(e))}return choker_createClass(NeckCorsetPart,[{key:"renderClothingPoints",value:function renderClothingPoints(t,e){ut.simpleStrokeFill(e,t,this);var r=calcCollar.call(this,t),n=r.topOut,o=r.botOut,a=r.topIn,i=r.botIn,a={x:3,y:n.y},i={x:3,y:o.y};e.beginPath(),drawPoints(e,a,n,o,i),e.fill(),e.stroke();var s=getLacingPoints(i,a,reflect(i),reflect(a),this.crossings);e.beginPath(),e.strokeStyle=this.highlight,e.lineWidth=.4,drawPoints.apply(void 0,[e].concat(choker_toConsumableArray(s.outer))),e.stroke()}}]),NeckCorsetPart}(),Ca=function(){choker_inherits(CollarPart,pt);var n=choker_createSuper(CollarPart);function CollarPart(){choker_classCallCheck(this,CollarPart);for(var t=arguments.length,e=new Array(t),r=0;r<t;r++)e[r]=arguments[r];return n.call.apply(n,[this,{layer:_.GENITALS,loc:"+neck",reflect:!0,aboveParts:["parts neck","parts torso","decorativeParts torso"],belowSameLayerParts:["torso"]},{}].concat(e))}return choker_createClass(CollarPart,[{key:"renderClothingPoints",value:function renderClothingPoints(t,e){ut.simpleStrokeFill(e,t,this);var r=0,n=findBetween(splitCurve(this.neckCoverage,t.neck.cusp,t.neck.top).left.p2.y,t.neck.cusp.y,.5)-2,o=drawCircle({x:0,y:n-4},4);e.beginPath(),e.lineWidth=.9,e.strokeStyle=this.ring,drawPoints.apply(void 0,[e].concat(choker_toConsumableArray(o))),e.stroke();e.beginPath(),e.lineWidth=.5,e.fillStyle=this.highlight,drawPoints(e,{x:r+2,y:n+2},{x:r+2,y:n-2},{x:r-2,y:n-2},{x:r-2,y:n+2}),e.fill()}}]),CollarPart}(),wa=function(){choker_inherits(TagPart,pt);var n=choker_createSuper(TagPart);function TagPart(){choker_classCallCheck(this,TagPart);for(var t=arguments.length,e=new Array(t),r=0;r<t;r++)e[r]=arguments[r];return n.call.apply(n,[this,{layer:_.GENITALS,loc:"+neck",reflect:!1,aboveParts:["parts neck","parts torso","decorativeParts torso"],belowSameLayerParts:["torso"]},{text:"SLUT",fontHeight:8,dx:0,dy:0}].concat(e))}return choker_createClass(TagPart,[{key:"renderClothingPoints",value:function renderClothingPoints(t,e){ut.simpleStrokeFill(e,t,this);var r=calcCollar.call(this,t),n=(r.topOut,r.botOut,r.topIn,reflect(r.botIn));n.x-=3.5+this.dx/10,n.y+=1.2+this.dy/10,e.font=this.fontHeight+"px Comic Sans MS",e.fillStyle=this.highlight,e.fillText(this.text,n.x,n.y)}}]),TagPart}(),xa=function(){choker_inherits(ChokerCrossPart,pt);var n=choker_createSuper(ChokerCrossPart);function ChokerCrossPart(){choker_classCallCheck(this,ChokerCrossPart);for(var t=arguments.length,e=new Array(t),r=0;r<t;r++)e[r]=arguments[r];return n.call.apply(n,[this,{layer:_.GENITALS,loc:"+neck",reflect:!0,aboveParts:["parts neck","parts torso","decorativeParts torso"],belowSameLayerParts:["torso"]},{}].concat(e))}return choker_createClass(ChokerCrossPart,[{key:"renderClothingPoints",value:function renderClothingPoints(t,e){ut.simpleStrokeFill(e,t,this);var r=calcCollar.call(this,t),n=r.topOut,o=r.botOut,a=r.topIn,i=r.botIn;o.cp1=i.cp1,o.cp2=i.cp2;var s=getLacingPoints(a,n,i,o,this.crossings);e.beginPath(),e.lineWidth=this.thickness,drawPoints.apply(void 0,[e].concat(choker_toConsumableArray(s.outer),[v],choker_toConsumableArray(s.inner))),e.stroke()}}]),ChokerCrossPart}();function calcCollar(t){var e=adjust(splitCurve(this.neckCoverage,t.neck.cusp,t.neck.top).left.p2,.5*-this.thickness,0),r=extractPoint(r=adjust(splitCurve(this.neckBotCoverage,t.neck.cusp,t.neck.top).left.p2,.5*-this.thickness,0)),n={x:-.1,y:e.y},o={x:-.1,y:r.y};return o.y-=2.2,o.cp1={x:.5*(o.x+r.x),y:o.y},n.y-=2.2,e.cp1={x:.5*(e.x+n.x),y:n.y},{topOut:e,botOut:r,topIn:n,botIn:o}}var Oa=function(){choker_inherits(Choker,an);var n=choker_createSuper(Choker);function Choker(){choker_classCallCheck(this,Choker);for(var t=arguments.length,e=new Array(t),r=0;r<t;r++)e[r]=arguments[r];return n.call.apply(n,[this,{neckCoverage:.2,neckBotCoverage:0,center:!1,thickness:.5}].concat(e))}return choker_createClass(Choker,[{key:"stroke",value:function stroke(){return"#5c5c5c"}},{key:"fill",value:function fill(){return"#5c5c5c"}},{key:"partPrototypes",get:function get(){return[{side:null,Part:Sa}]}}]),Choker}(),Aa=function(){choker_inherits(NeckCorset,an);var n=choker_createSuper(NeckCorset);function NeckCorset(){choker_classCallCheck(this,NeckCorset);for(var t=arguments.length,e=new Array(t),r=0;r<t;r++)e[r]=arguments[r];return n.call.apply(n,[this,{neckCoverage:.6,neckBotCoverage:0,crossings:3,highlight:"black"}].concat(e))}return choker_createClass(NeckCorset,[{key:"stroke",value:function stroke(){return"#5c5c5c"}},{key:"fill",value:function fill(){return"#5c5c5c"}},{key:"partPrototypes",get:function get(){return[{side:null,Part:ka}]}}]),NeckCorset}(),Ta=function(){choker_inherits(Collar,an);var n=choker_createSuper(Collar);function Collar(){choker_classCallCheck(this,Collar);for(var t=arguments.length,e=new Array(t),r=0;r<t;r++)e[r]=arguments[r];return n.call.apply(n,[this,{neckCoverage:.3,neckBotCoverage:0,ring:"hsla(209, 33%, 70%, 1)",highlight:"hsla(209, 8%, 16%, 1)",thickness:.5}].concat(e))}return choker_createClass(Collar,[{key:"stroke",value:function stroke(){return"#5c5c5c"}},{key:"fill",value:function fill(){return"#5c5c5c"}},{key:"partPrototypes",get:function get(){return[{side:null,Part:Ca},{side:null,Part:Sa}]}}]),Collar}(),ja=function(){choker_inherits(TaggedCollar,an);var n=choker_createSuper(TaggedCollar);function TaggedCollar(){choker_classCallCheck(this,TaggedCollar);for(var t=arguments.length,e=new Array(t),r=0;r<t;r++)e[r]=arguments[r];return n.call.apply(n,[this,{neckCoverage:.27,neckBotCoverage:0,highlight:"white",thickness:.5}].concat(e))}return choker_createClass(TaggedCollar,[{key:"stroke",value:function stroke(){return"hsla(321.3,80.2%,50.4%,1.00)"}},{key:"fill",value:function fill(){return"hsla(321.3,80.2%,50.4%,1.00)"}},{key:"partPrototypes",get:function get(){return[{side:null,Part:wa},{side:null,Part:Sa}]}}]),TaggedCollar}(),Ra=function(){choker_inherits(CrossedChoker,an);var n=choker_createSuper(CrossedChoker);function CrossedChoker(){choker_classCallCheck(this,CrossedChoker);for(var t=arguments.length,e=new Array(t),r=0;r<t;r++)e[r]=arguments[r];return n.call.apply(n,[this,{neckCoverage:.21,neckBotCoverage:.05,crossings:2,thickness:.5}].concat(e))}return choker_createClass(CrossedChoker,[{key:"stroke",value:function stroke(){return"#5c5c5c"}},{key:"fill",value:function fill(){return"#5c5c5c"}},{key:"partPrototypes",get:function get(){return[{side:null,Part:xa}]}}]),CrossedChoker}();function necklaces_typeof(t){return(necklaces_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function _typeof(t){return typeof t}:function _typeof(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function necklaces_toConsumableArray(t){return function necklaces_arrayWithoutHoles(t){if(Array.isArray(t))return necklaces_arrayLikeToArray(t)}(t)||function necklaces_iterableToArray(t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(t))return Array.from(t)}(t)||function necklaces_unsupportedIterableToArray(t,e){if(!t)return;if("string"==typeof t)return necklaces_arrayLikeToArray(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);"Object"===r&&t.constructor&&(r=t.constructor.name);if("Map"===r||"Set"===r)return Array.from(t);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return necklaces_arrayLikeToArray(t,e)}(t)||function necklaces_nonIterableSpread(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function necklaces_arrayLikeToArray(t,e){(null==e||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function necklaces_classCallCheck(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function necklaces_defineProperties(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function necklaces_createClass(t,e,r){return e&&necklaces_defineProperties(t.prototype,e),r&&necklaces_defineProperties(t,r),t}function necklaces_inherits(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&necklaces_setPrototypeOf(t,e)}function necklaces_setPrototypeOf(t,e){return(necklaces_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(t,e){return t.__proto__=e,t})(t,e)}function necklaces_createSuper(r){var n=function necklaces_isNativeReflectConstruct(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(t){return!1}}();return function _createSuperInternal(){var t,e=necklaces_getPrototypeOf(r);return function necklaces_possibleConstructorReturn(t,e){return!e||"object"!==necklaces_typeof(e)&&"function"!=typeof e?function necklaces_assertThisInitialized(t){if(void 0!==t)return t;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}(t):e}(this,n?(t=necklaces_getPrototypeOf(this).constructor,Reflect.construct(e,arguments,t)):e.apply(this,arguments))}}function necklaces_getPrototypeOf(t){return(necklaces_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function calcNeck(t){var e=splitCurve(this.neckCoverage,t.neck.cusp,t.collarbone),r=e.left.p2;r.y-=.5*this.thickness;var n=(e=splitCurve(this.cleavageCoverage,t.neck.cusp,t.groin)).left.p2;return n.x=0,r.cp1={x:.5*r.x+.5*n.x,y:n.y},--r.cp1.x,r.cp1.x+=this.curveX,r.cp1.y+=this.curveY,{top:r,bot:n}}var Ba=function(){necklaces_inherits(BiChainPart,pt);var n=necklaces_createSuper(BiChainPart);function BiChainPart(){necklaces_classCallCheck(this,BiChainPart);for(var t=arguments.length,e=new Array(t),r=0;r<t;r++)e[r]=arguments[r];return n.call.apply(n,[this,{layer:_.GENITALS,loc:"+neck",reflect:!0,aboveParts:["parts neck","parts torso","decorativeParts torso"],belowSameLayerParts:["torso"]},{curveX:0,curveY:0,thickness:1}].concat(e))}return necklaces_createClass(BiChainPart,[{key:"renderClothingPoints",value:function renderClothingPoints(t,e){ut.simpleStrokeFill(e,t,this);var r=calcNeck.call(this,t),n=r.top,o=r.bot;e.beginPath(),e.lineWidth=this.thickness,drawPoints(e,o,n),e.stroke(),e.beginPath(),this.chain&&e.setLineDash([this.beadsSize,this.spaceSize]),e.strokeStyle=this.highlight,e.lineWidth=this.beadThickness,drawPoints(e,o,n),e.stroke()}}]),BiChainPart}(),Ea=function(){necklaces_inherits(TearPart,pt);var n=necklaces_createSuper(TearPart);function TearPart(){necklaces_classCallCheck(this,TearPart);for(var t=arguments.length,e=new Array(t),r=0;r<t;r++)e[r]=arguments[r];return n.call.apply(n,[this,{layer:_.GENITALS,loc:"+neck",reflect:!0,aboveParts:["parts neck","parts torso","decorativeParts torso"],belowSameLayerParts:["torso"]},{width:3.5,length:.5,size:1}].concat(e))}return necklaces_createClass(TearPart,[{key:"renderClothingPoints",value:function renderClothingPoints(t,e){ut.simpleStrokeFill(e,t,this),this.highlight&&(e.fillStyle=this.highlight);var r=calcNeck.call(this,t),n=(r.top,r.bot),o=adjust(n,0,-6*this.size);o.cp1=adjust(o,this.width*this.size,this.length*this.size),e.beginPath(),drawPoints(e,n,o),e.fill()}}]),TearPart}(),La=function(){necklaces_inherits(DoubleNecklacePart,pt);var n=necklaces_createSuper(DoubleNecklacePart);function DoubleNecklacePart(){necklaces_classCallCheck(this,DoubleNecklacePart);for(var t=arguments.length,e=new Array(t),r=0;r<t;r++)e[r]=arguments[r];return n.call.apply(n,[this,{layer:_.GENITALS,loc:"+neck",reflect:!0,aboveParts:["parts neck","parts torso","decorativeParts torso"],belowSameLayerParts:["torso"]},{neckCoverage:.14,cleavageCoverage:.13,cleavageCoverageTop:.05,curveX:0,curveY:0,thickness:.5}].concat(e))}return necklaces_createClass(DoubleNecklacePart,[{key:"renderClothingPoints",value:function renderClothingPoints(t,e){ut.simpleStrokeFill(e,t,this);var r=calcNeck.call(this,t),n=r.top,o=r.bot;this.chain&&e.setLineDash([3,3]),e.lineWidth=this.thickness,e.beginPath(),drawPoints(e,o,n),e.stroke(),this.cleavageCoverageTop>this.cleavageCoverage-.03&&(this.cleavageCoverageTop=this.cleavageCoverage-.03);var a=splitCurve(this.cleavageCoverageTop,t.neck.cusp,t.groin).left.p2;a.x=0,a.cp1={x:.5*a.x+.5*n.x,y:a.y},e.beginPath(),drawPoints(e,n,a),e.stroke()}}]),DoubleNecklacePart}(),Ia=function(){necklaces_inherits(MultiNecklacePart,pt);var n=necklaces_createSuper(MultiNecklacePart);function MultiNecklacePart(){necklaces_classCallCheck(this,MultiNecklacePart);for(var t=arguments.length,e=new Array(t),r=0;r<t;r++)e[r]=arguments[r];return n.call.apply(n,[this,{layer:_.GENITALS,loc:"+neck",reflect:!0,aboveParts:["parts neck","parts torso","decorativeParts torso"],belowSameLayerParts:["torso"]},{cleavageCoverage:.13,neckCoverage:.05,curveX:0,curveY:0,thickness:.5,size:1.2,multiple:2,distance:5}].concat(e))}return necklaces_createClass(MultiNecklacePart,[{key:"renderClothingPoints",value:function renderClothingPoints(t,e){ut.simpleStrokeFill(e,t,this);var r=calcNeck.call(this,t),n=r.top,o=r.bot;this.chain&&e.setLineDash([3,3]),e.lineWidth=this.thickness,e.beginPath(),drawPoints(e,o,n),e.stroke();for(var a=-this.distance,i=0;i<this.multiple;i++){var s=adjust(o,0,a),c=adjust(n,.02,0);c.cp1={x:.5*c.x+.5*s.x+this.curveX+4*i,y:s.y+this.curveY+i},e.beginPath(),drawPoints(e,s,c),e.stroke(),a-=this.distance}}}]),MultiNecklacePart}(),Fa=function(){necklaces_inherits(NecklaceChainPart,pt);var n=necklaces_createSuper(NecklaceChainPart);function NecklaceChainPart(){necklaces_classCallCheck(this,NecklaceChainPart);for(var t=arguments.length,e=new Array(t),r=0;r<t;r++)e[r]=arguments[r];return n.call.apply(n,[this,{layer:_.GENITALS,loc:"+neck",reflect:!0,aboveParts:["parts neck","parts torso","decorativeParts torso"],belowSameLayerParts:["torso"]},{chain:!1,neckCoverage:.14,cleavageCoverage:.09,curveX:0,curveY:0,thickness:.5,dash:2}].concat(e))}return necklaces_createClass(NecklaceChainPart,[{key:"renderClothingPoints",value:function renderClothingPoints(t,e){ut.simpleStrokeFill(e,t,this);var r=calcNeck.call(this,t),n=r.top,o=r.bot;e.beginPath(),this.chain&&e.setLineDash([this.dash,this.dash]),e.lineWidth=this.thickness,drawPoints(e,o,n),e.stroke()}}]),NecklaceChainPart}(),Ha=function(){necklaces_inherits(StarPart,pt);var n=necklaces_createSuper(StarPart);function StarPart(){necklaces_classCallCheck(this,StarPart);for(var t=arguments.length,e=new Array(t),r=0;r<t;r++)e[r]=arguments[r];return n.call.apply(n,[this,{layer:_.GENITALS,loc:"+neck",aboveParts:["parts neck","parts torso","decorativeParts torso"],belowSameLayerParts:["torso"]},{starThickness:.6,radius:4,spikes:5,upwards:!0,styleOuter:1,styleInner:-1}].concat(e))}return necklaces_createClass(StarPart,[{key:"renderClothingPoints",value:function renderClothingPoints(t,e){ut.simpleStrokeFill(e,t,this);var r=calcNeck.call(this,t),n=(r.top,function drawStar(t,e,r,n,o,a,i){for(var s=!(4<arguments.length&&void 0!==o)||o,c=5<arguments.length&&void 0!==a?a:0,l=6<arguments.length&&void 0!==i?i:0,u=[],p=Math.PI/2*3,f=Math.PI/e,y=s?-1:1,h=0;h<e;h++)u[u.length]={x:t.x+Math.cos(p)*r*y,y:t.y+Math.sin(p)*r*y},p+=f,u[u.length]={x:t.x+Math.cos(p)*n*y,y:t.y+Math.sin(p)*n*y},p+=f;if(u[u.length]={x:t.x,y:t.y-r*y},0<c)u[u.length]=v,u=u.concat(drawCircle({x:t.x,y:t.y},r));else if(c<0){u[u.length]=v;for(var d=0;d<=2*e;)u[u.length]=u[d],d++,d++;u[u.length]=u[0]}if(0<l)u[u.length]=v,u=u.concat(drawCircle({x:t.x,y:t.y},n));else if(l<0){u[u.length]=v;for(d=1;d<=2*e;)u[u.length]=u[d],d++,d++;u[u.length]=u[1]}return u}({x:0,y:r.bot.y-this.radius},this.spikes,this.radius,.33*this.radius,this.upwards,this.styleOuter,this.styleInner));e.beginPath(),e.lineWidth=this.starThickness,e.strokeStyle=e.fillStyle,drawPoints.apply(void 0,[e].concat(necklaces_toConsumableArray(n))),e.stroke()}}]),StarPart}(),Ma=function(){necklaces_inherits(TNecklacePart,pt);var n=necklaces_createSuper(TNecklacePart);function TNecklacePart(){necklaces_classCallCheck(this,TNecklacePart);for(var t=arguments.length,e=new Array(t),r=0;r<t;r++)e[r]=arguments[r];return n.call.apply(n,[this,{layer:_.GENITALS,loc:"+neck",reflect:!0,aboveParts:["parts neck","parts torso","decorativeParts torso"],belowSameLayerParts:["torso"]},{chain:!1,neckCoverage:.14,cleavageCoverage:.09,curveX:0,curveY:0,thickness:.5,size:1.2}].concat(e))}return necklaces_createClass(TNecklacePart,[{key:"renderClothingPoints",value:function renderClothingPoints(t,n){ut.simpleStrokeFill(n,t,this);var e=calcNeck.call(this,t),r=e.top,o=e.bot,a=adjust(o,0,-12);function ball(t,e){var r=drawCircle(t,e);n.beginPath(),drawPoints.apply(void 0,[n].concat(necklaces_toConsumableArray(r))),n.fill()}n.lineWidth=this.thickness,n.beginPath(),drawPoints(n,a,o,r),n.stroke(),ball(getPointOnCurve(.4,o,r),this.size),ball(getPointOnCurve(.8,o,r),this.size),ball(findBetween(o,a,.3),this.size),ball(findBetween(o,a,.7),this.size)}}]),TNecklacePart}(),Da=function(){necklaces_inherits(Necklace,an);var n=necklaces_createSuper(Necklace);function Necklace(){necklaces_classCallCheck(this,Necklace);for(var t=arguments.length,e=new Array(t),r=0;r<t;r++)e[r]=arguments[r];return n.call.apply(n,[this,{clothingLayer:ut.Layer.OUTER,stroke:"#5c5c5c",fill:"#5c5c5c"}].concat(e))}return Necklace}(),Na=function(){necklaces_inherits(BiChain,Da);var n=necklaces_createSuper(BiChain);function BiChain(){necklaces_classCallCheck(this,BiChain);for(var t=arguments.length,e=new Array(t),r=0;r<t;r++)e[r]=arguments[r];return n.call.apply(n,[this,{cleavageCoverage:.1,chain:!0,curveX:2,neckCoverage:.07,beadsSize:4,spaceSize:8,beadThickness:1,thickness:1,highlight:"red"}].concat(e))}return necklaces_createClass(BiChain,[{key:"stroke",value:function stroke(){return"blue"}},{key:"fill",value:function fill(){return"red"}},{key:"partPrototypes",get:function get(){return[{side:null,Part:Ba}]}}]),BiChain}(),Wa=function(){necklaces_inherits(DoubleNecklace,Da);var n=necklaces_createSuper(DoubleNecklace);function DoubleNecklace(){necklaces_classCallCheck(this,DoubleNecklace);for(var t=arguments.length,e=new Array(t),r=0;r<t;r++)e[r]=arguments[r];return n.call.apply(n,[this,{cleavageCoverage:.13,cleavageCoverageTop:.05,chain:!0,neckCoverage:.05,thickness:.7,highlight:""}].concat(e))}return necklaces_createClass(DoubleNecklace,[{key:"partPrototypes",get:function get(){return[{side:null,Part:La},{side:null,Part:Ea}]}}]),DoubleNecklace}(),Ga=function(){necklaces_inherits(MultiNecklace,Da);var n=necklaces_createSuper(MultiNecklace);function MultiNecklace(){necklaces_classCallCheck(this,MultiNecklace);for(var t=arguments.length,e=new Array(t),r=0;r<t;r++)e[r]=arguments[r];return n.call.apply(n,[this,{cleavageCoverage:.13,neckCoverage:.05,chain:!0,curveX:2,thickness:.7}].concat(e))}return necklaces_createClass(MultiNecklace,[{key:"partPrototypes",get:function get(){return[{side:null,Part:Ia}]}}]),MultiNecklace}(),Ua=function(){necklaces_inherits(PearlNecklace,Da);var n=necklaces_createSuper(PearlNecklace);function PearlNecklace(){necklaces_classCallCheck(this,PearlNecklace);for(var t=arguments.length,e=new Array(t),r=0;r<t;r++)e[r]=arguments[r];return n.call.apply(n,[this,{cleavageCoverage:.1,chain:!0,curveX:2,neckCoverage:.07,beadsSize:.3,beadThickness:2,spaceSize:8.8,thickness:.2,highlight:"white"}].concat(e))}return necklaces_createClass(PearlNecklace,[{key:"partPrototypes",get:function get(){return[{side:null,Part:Ba}]}}]),PearlNecklace}(),za=function(){necklaces_inherits(SimpleChain,Da);var n=necklaces_createSuper(SimpleChain);function SimpleChain(){necklaces_classCallCheck(this,SimpleChain);for(var t=arguments.length,e=new Array(t),r=0;r<t;r++)e[r]=arguments[r];return n.call.apply(n,[this,{cleavageCoverage:.13,chain:!0,curveX:2,neckCoverage:.05,thickness:.6,dash:2.5}].concat(e))}return necklaces_createClass(SimpleChain,[{key:"partPrototypes",get:function get(){return[{side:null,Part:Fa}]}}]),SimpleChain}(),Qa=function(){necklaces_inherits(StarNecklace,Da);var n=necklaces_createSuper(StarNecklace);function StarNecklace(){necklaces_classCallCheck(this,StarNecklace);for(var t=arguments.length,e=new Array(t),r=0;r<t;r++)e[r]=arguments[r];return n.call.apply(n,[this,{curveX:-1,cleavageCoverage:.13}].concat(e))}return necklaces_createClass(StarNecklace,[{key:"partPrototypes",get:function get(){return[{side:null,Part:Fa},{side:null,Part:Ha}]}}]),StarNecklace}(),Va=function(){necklaces_inherits(TNecklace,Da);var n=necklaces_createSuper(TNecklace);function TNecklace(){necklaces_classCallCheck(this,TNecklace);for(var t=arguments.length,e=new Array(t),r=0;r<t;r++)e[r]=arguments[r];return n.call.apply(n,[this,{cleavageCoverage:.13,chain:!0,curveX:2,neckCoverage:.05,thickness:.7}].concat(e))}return necklaces_createClass(TNecklace,[{key:"partPrototypes",get:function get(){return[{side:null,Part:Ma}]}}]),TNecklace}(),qa=function(){necklaces_inherits(TearNecklace,Da);var n=necklaces_createSuper(TearNecklace);function TearNecklace(){necklaces_classCallCheck(this,TearNecklace);for(var t=arguments.length,e=new Array(t),r=0;r<t;r++)e[r]=arguments[r];return n.call.apply(n,[this,{cleavageCoverage:.13,chain:!0,curveX:0,neckCoverage:.05,thickness:.7}].concat(e))}return necklaces_createClass(TearNecklace,[{key:"partPrototypes",get:function get(){return[{side:null,Part:Fa},{side:null,Part:Ea}]}}]),TearNecklace}(),Ja=function(){necklaces_inherits(ThickChain,Da);var n=necklaces_createSuper(ThickChain);function ThickChain(){necklaces_classCallCheck(this,ThickChain);for(var t=arguments.length,e=new Array(t),r=0;r<t;r++)e[r]=arguments[r];return n.call.apply(n,[this,{cleavageCoverage:.13,chain:!0,curveX:2,neckCoverage:.1,thickness:1.5,dash:5}].concat(e))}return necklaces_createClass(ThickChain,[{key:"partPrototypes",get:function get(){return[{side:null,Part:Fa}]}}]),ThickChain}();function earrings_typeof(t){return(earrings_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function _typeof(t){return typeof t}:function _typeof(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function earrings_toConsumableArray(t){return function earrings_arrayWithoutHoles(t){if(Array.isArray(t))return earrings_arrayLikeToArray(t)}(t)||function earrings_iterableToArray(t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(t))return Array.from(t)}(t)||function earrings_unsupportedIterableToArray(t,e){if(!t)return;if("string"==typeof t)return earrings_arrayLikeToArray(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);"Object"===r&&t.constructor&&(r=t.constructor.name);if("Map"===r||"Set"===r)return Array.from(t);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return earrings_arrayLikeToArray(t,e)}(t)||function earrings_nonIterableSpread(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function earrings_arrayLikeToArray(t,e){(null==e||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function earrings_classCallCheck(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function earrings_defineProperties(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function earrings_createClass(t,e,r){return e&&earrings_defineProperties(t.prototype,e),r&&earrings_defineProperties(t,r),t}function earrings_inherits(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&earrings_setPrototypeOf(t,e)}function earrings_setPrototypeOf(t,e){return(earrings_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(t,e){return t.__proto__=e,t})(t,e)}function earrings_createSuper(r){var n=function earrings_isNativeReflectConstruct(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(t){return!1}}();return function _createSuperInternal(){var t,e=earrings_getPrototypeOf(r);return function earrings_possibleConstructorReturn(t,e){return!e||"object"!==earrings_typeof(e)&&"function"!=typeof e?function earrings_assertThisInitialized(t){if(void 0!==t)return t;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}(t):e}(this,n?(t=earrings_getPrototypeOf(this).constructor,Reflect.construct(e,arguments,t)):e.apply(this,arguments))}}function earrings_getPrototypeOf(t){return(earrings_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var $a=function(){earrings_inherits(TriangleEarringsPart,pt);var n=earrings_createSuper(TriangleEarringsPart);function TriangleEarringsPart(){earrings_classCallCheck(this,TriangleEarringsPart);for(var t=arguments.length,e=new Array(t),r=0;r<t;r++)e[r]=arguments[r];return n.call.apply(n,[this,{layer:_.BELOW_HAIR,loc:"+head",reflect:!0},{}].concat(e))}return earrings_createClass(TriangleEarringsPart,[{key:"renderClothingPoints",value:function renderClothingPoints(t,e){ut.simpleStrokeFill(e,t,this);var r=adjust(t.skull.bot,1.2,2.2),n=adjust(r,0,-this.hanger),o=adjust(n,this.width,-this.length),a=adjust(n,-this.width,-this.length);e.beginPath(),e.lineWidth=.5,drawPoints(e,r,{x:n.x,y:n.y-2}),e.stroke();var i=drawCircle(r,.3);e.beginPath(),drawPoints.apply(void 0,[e].concat(earrings_toConsumableArray(i))),e.stroke(),e.beginPath(),drawPoints(e,n,o,a),e.fill()}}]),TriangleEarringsPart}(),Ya=function(){earrings_inherits(CrystalEarringsPart,pt);var n=earrings_createSuper(CrystalEarringsPart);function CrystalEarringsPart(){earrings_classCallCheck(this,CrystalEarringsPart);for(var t=arguments.length,e=new Array(t),r=0;r<t;r++)e[r]=arguments[r];return n.call.apply(n,[this,{layer:_.BELOW_HAIR,loc:"+head",reflect:!0},{}].concat(e))}return earrings_createClass(CrystalEarringsPart,[{key:"renderClothingPoints",value:function renderClothingPoints(t,e){ut.simpleStrokeFill(e,t,this);var r=adjust(t.skull.bot,1.2,2.2),n=adjust(r,0,-this.hanger),o=adjust(n,-this.width/2+.3,0),a=adjust(n,this.width/2,0),i=adjust(n,-this.width/2+.3,-this.length-this.alt),s=adjust(n,this.width/2,-this.length+this.alt);e.beginPath(),e.lineWidth=.5,drawPoints(e,r,n),e.stroke();var c=drawCircle(r,.3);e.beginPath(),drawPoints.apply(void 0,[e].concat(earrings_toConsumableArray(c))),e.stroke(),e.beginPath(),drawPoints(e,o,a,s,i),e.fill()}}]),CrystalEarringsPart}(),Xa=function(){earrings_inherits(LoopEarringsFrontPart,pt);var n=earrings_createSuper(LoopEarringsFrontPart);function LoopEarringsFrontPart(){earrings_classCallCheck(this,LoopEarringsFrontPart);for(var t=arguments.length,e=new Array(t),r=0;r<t;r++)e[r]=arguments[r];return n.call.apply(n,[this,{layer:_.FRONT,loc:"+head",reflect:!0},{}].concat(e))}return earrings_createClass(LoopEarringsFrontPart,[{key:"renderClothingPoints",value:function renderClothingPoints(t,e){ut.simpleStrokeFill(e,t,this);var r=calcLoop.call(this,t),n=r.a,o=r.b;e.beginPath(),drawPoints(e,o,n),e.stroke()}}]),LoopEarringsFrontPart}(),Ka=function(){earrings_inherits(LoopEarringsBackPart,pt);var n=earrings_createSuper(LoopEarringsBackPart);function LoopEarringsBackPart(){earrings_classCallCheck(this,LoopEarringsBackPart);for(var t=arguments.length,e=new Array(t),r=0;r<t;r++)e[r]=arguments[r];return n.call.apply(n,[this,{layer:_.BELOW_HAIR,loc:"+head",reflect:!0},{}].concat(e))}return earrings_createClass(LoopEarringsBackPart,[{key:"renderClothingPoints",value:function renderClothingPoints(t,e){ut.simpleStrokeFill(e,t,this);var r=calcLoop.call(this,t),n=r.a,o=r.b;e.beginPath(),drawPoints(e,n,o),e.stroke()}}]),LoopEarringsBackPart}();function calcLoop(t){var e=adjust(t.skull.bot,1.2,3),r={x:e.x,y:e.y},n={x:e.x,y:e.y-this.length};return r.cp1={x:e.x-this.width,y:e.y-this.length/2},n.cp1={x:e.x+this.width,y:e.y-this.length/2},{a:r,b:n}}var Za=function(){earrings_inherits(ChainEarringsPart,pt);var n=earrings_createSuper(ChainEarringsPart);function ChainEarringsPart(){earrings_classCallCheck(this,ChainEarringsPart);for(var t=arguments.length,e=new Array(t),r=0;r<t;r++)e[r]=arguments[r];return n.call.apply(n,[this,{layer:_.BELOW_HAIR,loc:"+head",reflect:!0},{}].concat(e))}return earrings_createClass(ChainEarringsPart,[{key:"renderClothingPoints",value:function renderClothingPoints(t,a){ut.simpleStrokeFill(a,t,this);var i=adjust(t.skull.bot,1.2,2.2);function chain(t,e,r){var n=adjust(i,t,e),o=adjust(i,t,-r);a.setLineDash([2,2]),a.lineWidth=.4,a.beginPath(),drawPoints(a,n,o),a.stroke()}chain(0,0,this.length),chain(.8,0,this.length),chain(-.8,0,this.length);var e=drawCircle(i,1.2);a.beginPath(),drawPoints.apply(void 0,[a].concat(earrings_toConsumableArray(e))),a.fillStyle=a.strokeStyle,a.fill()}}]),ChainEarringsPart}(),ti=function(){earrings_inherits(BallEarringsPart,pt);var n=earrings_createSuper(BallEarringsPart);function BallEarringsPart(){earrings_classCallCheck(this,BallEarringsPart);for(var t=arguments.length,e=new Array(t),r=0;r<t;r++)e[r]=arguments[r];return n.call.apply(n,[this,{layer:_.BELOW_HAIR,loc:"+head",reflect:!0},{}].concat(e))}return earrings_createClass(BallEarringsPart,[{key:"renderClothingPoints",value:function renderClothingPoints(t,o){ut.simpleStrokeFill(o,t,this);var e=adjust(t.skull.bot,1.2,2.2),r=adjust(e,0,-this.length/2),n=adjust(e,0,-this.length);function ball(t,e,r){var n=drawCircle(t,e);o.beginPath(),drawPoints.apply(void 0,[o].concat(earrings_toConsumableArray(n))),o.fillStyle=r,o.fill()}o.beginPath(),o.lineWidth=this.thickness,drawPoints(o,e,n),o.stroke(),ball(e,this.size,o.fillStyle),ball(r,this.size-this.alt,o.fillStyle),ball(n,this.size+this.alt,o.fillStyle)}}]),BallEarringsPart}(),ei=function(){earrings_inherits(RhombEarringsFrontPart,pt);var n=earrings_createSuper(RhombEarringsFrontPart);function RhombEarringsFrontPart(){earrings_classCallCheck(this,RhombEarringsFrontPart);for(var t=arguments.length,e=new Array(t),r=0;r<t;r++)e[r]=arguments[r];return n.call.apply(n,[this,{layer:_.BELOW_HAIR,loc:"+head",reflect:!0},{}].concat(e))}return earrings_createClass(RhombEarringsFrontPart,[{key:"renderClothingPoints",value:function renderClothingPoints(t,e){ut.simpleStrokeFill(e,t,this);var r=calcRhomb.call(this,t),n=r.center,o=(r.inner,r.bottom),a=r.outer;e.beginPath(),e.lineWidth=this.thickness,drawPoints(e,n,a,o),e.stroke()}}]),RhombEarringsFrontPart}(),ri=function(){earrings_inherits(RhombEarringsBackPart,pt);var n=earrings_createSuper(RhombEarringsBackPart);function RhombEarringsBackPart(){earrings_classCallCheck(this,RhombEarringsBackPart);for(var t=arguments.length,e=new Array(t),r=0;r<t;r++)e[r]=arguments[r];return n.call.apply(n,[this,{layer:_.FRONT,loc:"+head",reflect:!0},{}].concat(e))}return earrings_createClass(RhombEarringsBackPart,[{key:"renderClothingPoints",value:function renderClothingPoints(t,e){ut.simpleStrokeFill(e,t,this);var r=calcRhomb.call(this,t),n=r.center,o=r.inner,a=r.bottom;r.outer;e.beginPath(),e.lineWidth=this.thickness,drawPoints(e,n,o,a),e.stroke()}}]),RhombEarringsBackPart}();function calcRhomb(t){var e=adjust(t.skull.bot,1.2,2.2),r=adjust(e,0,-this.length),n=-this.length/2-this.length/2*this.alt;return{center:e,inner:adjust(e,-this.width/2,n),bottom:r,outer:adjust(e,this.width/2,n)}}var ni=function(){earrings_inherits(EarPiercingFrontPart,pt);var n=earrings_createSuper(EarPiercingFrontPart);function EarPiercingFrontPart(){earrings_classCallCheck(this,EarPiercingFrontPart);for(var t=arguments.length,e=new Array(t),r=0;r<t;r++)e[r]=arguments[r];return n.call.apply(n,[this,{layer:_.FRONT,loc:"+head",reflect:!1},{}].concat(e))}return earrings_createClass(EarPiercingFrontPart,[{key:"renderClothingPoints",value:function renderClothingPoints(t,e){ut.simpleStrokeFill(e,t,this);var r=calcEarPiercing.call(this,t),n=r.a,o=r.b;e.beginPath(),drawPoints(e,o,n),e.stroke()}}]),EarPiercingFrontPart}(),oi=function(){earrings_inherits(EarPiercingBackPart,pt);var n=earrings_createSuper(EarPiercingBackPart);function EarPiercingBackPart(){earrings_classCallCheck(this,EarPiercingBackPart);for(var t=arguments.length,e=new Array(t),r=0;r<t;r++)e[r]=arguments[r];return n.call.apply(n,[this,{layer:_.BELOW_HAIR,loc:"+head",reflect:!1},{}].concat(e))}return earrings_createClass(EarPiercingBackPart,[{key:"renderClothingPoints",value:function renderClothingPoints(t,e){ut.simpleStrokeFill(e,t,this);var r=calcEarPiercing.call(this,t),n=r.a,o=r.b;e.beginPath(),drawPoints(e,n,o),e.stroke()}}]),EarPiercingBackPart}();function calcEarPiercing(t){var e=adjust(t.ear.mid,-.5+this.dx,3.5+this.dy),r={x:e.x,y:e.y},n=polar2cartesian(this.length,rad(this.rotation),r);return r.cp1=perpendicularPoint(r,n,.5,this.width),n.cp1=perpendicularPoint(r,n,.5,-this.width),{a:r,b:n}}var ai=function(){earrings_inherits(Earrings,En);var n=earrings_createSuper(Earrings);function Earrings(){earrings_classCallCheck(this,Earrings);for(var t=arguments.length,e=new Array(t),r=0;r<t;r++)e[r]=arguments[r];return n.call.apply(n,[this,{clothingLayer:ut.Layer.INNER,stroke:"#ebbc11",fill:"red"}].concat(e))}return Earrings}(),ii=function(){earrings_inherits(TriangleEarrings,ai);var n=earrings_createSuper(TriangleEarrings);function TriangleEarrings(){earrings_classCallCheck(this,TriangleEarrings);for(var t=arguments.length,e=new Array(t),r=0;r<t;r++)e[r]=arguments[r];return n.call.apply(n,[this,{length:7,width:2,hanger:2}].concat(e))}return earrings_createClass(TriangleEarrings,[{key:"partPrototypes",get:function get(){return[{side:null,Part:$a}]}}]),TriangleEarrings}(),si=function(){earrings_inherits(CrystalEarrings,ai);var n=earrings_createSuper(CrystalEarrings);function CrystalEarrings(){earrings_classCallCheck(this,CrystalEarrings);for(var t=arguments.length,e=new Array(t),r=0;r<t;r++)e[r]=arguments[r];return n.call.apply(n,[this,{length:9,width:2.6,hanger:3,alt:2}].concat(e))}return earrings_createClass(CrystalEarrings,[{key:"partPrototypes",get:function get(){return[{side:null,Part:Ya}]}}]),CrystalEarrings}(),ci=function(){earrings_inherits(LoopEarrings,ai);var n=earrings_createSuper(LoopEarrings);function LoopEarrings(){earrings_classCallCheck(this,LoopEarrings);for(var t=arguments.length,e=new Array(t),r=0;r<t;r++)e[r]=arguments[r];return n.call.apply(n,[this,{length:9,width:3}].concat(e))}return earrings_createClass(LoopEarrings,[{key:"partPrototypes",get:function get(){return[{side:null,Part:Xa},{side:null,Part:Ka}]}}]),LoopEarrings}(),li=function(){earrings_inherits(ChainEarrings,ai);var n=earrings_createSuper(ChainEarrings);function ChainEarrings(){earrings_classCallCheck(this,ChainEarrings);for(var t=arguments.length,e=new Array(t),r=0;r<t;r++)e[r]=arguments[r];return n.call.apply(n,[this,{length:9}].concat(e))}return earrings_createClass(ChainEarrings,[{key:"partPrototypes",get:function get(){return[{side:null,Part:Za}]}}]),ChainEarrings}(),ui=function(){earrings_inherits(BallEarrings,ai);var n=earrings_createSuper(BallEarrings);function BallEarrings(){earrings_classCallCheck(this,BallEarrings);for(var t=arguments.length,e=new Array(t),r=0;r<t;r++)e[r]=arguments[r];return n.call.apply(n,[this,{length:10,size:1,alt:-.2,thickness:.5}].concat(e))}return earrings_createClass(BallEarrings,[{key:"partPrototypes",get:function get(){return[{side:null,Part:ti}]}}]),BallEarrings}(),pi=function(){earrings_inherits(RhombEarrings,ai);var n=earrings_createSuper(RhombEarrings);function RhombEarrings(){earrings_classCallCheck(this,RhombEarrings);for(var t=arguments.length,e=new Array(t),r=0;r<t;r++)e[r]=arguments[r];return n.call.apply(n,[this,{length:9,width:2.6,alt:.8,thickness:.8}].concat(e))}return earrings_createClass(RhombEarrings,[{key:"stroke",value:function stroke(){return"#13a700"}},{key:"partPrototypes",get:function get(){return[{side:null,Part:ei},{side:null,Part:ri}]}}]),RhombEarrings}(),fi=function(){earrings_inherits(EarPiercing,ai);var n=earrings_createSuper(EarPiercing);function EarPiercing(){earrings_classCallCheck(this,EarPiercing);for(var t=arguments.length,e=new Array(t),r=0;r<t;r++)e[r]=arguments[r];return n.call.apply(n,[this,{length:2.8,width:2.2,thickness:.6,rotation:46,dx:0,dy:0}].concat(e))}return earrings_createClass(EarPiercing,[{key:"partPrototypes",get:function get(){return[{side:null,Part:ni},{side:null,Part:oi}]}}]),EarPiercing}();function bodychain_typeof(t){return(bodychain_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function _typeof(t){return typeof t}:function _typeof(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function bodychain_toConsumableArray(t){return function bodychain_arrayWithoutHoles(t){if(Array.isArray(t))return bodychain_arrayLikeToArray(t)}(t)||function bodychain_iterableToArray(t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(t))return Array.from(t)}(t)||function bodychain_unsupportedIterableToArray(t,e){if(!t)return;if("string"==typeof t)return bodychain_arrayLikeToArray(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);"Object"===r&&t.constructor&&(r=t.constructor.name);if("Map"===r||"Set"===r)return Array.from(t);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return bodychain_arrayLikeToArray(t,e)}(t)||function bodychain_nonIterableSpread(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function bodychain_arrayLikeToArray(t,e){(null==e||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function bodychain_classCallCheck(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function bodychain_defineProperties(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function bodychain_createClass(t,e,r){return e&&bodychain_defineProperties(t.prototype,e),r&&bodychain_defineProperties(t,r),t}function bodychain_inherits(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&bodychain_setPrototypeOf(t,e)}function bodychain_setPrototypeOf(t,e){return(bodychain_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(t,e){return t.__proto__=e,t})(t,e)}function bodychain_createSuper(r){var n=function bodychain_isNativeReflectConstruct(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(t){return!1}}();return function _createSuperInternal(){var t,e=bodychain_getPrototypeOf(r);return function bodychain_possibleConstructorReturn(t,e){return!e||"object"!==bodychain_typeof(e)&&"function"!=typeof e?function bodychain_assertThisInitialized(t){if(void 0!==t)return t;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}(t):e}(this,n?(t=bodychain_getPrototypeOf(this).constructor,Reflect.construct(e,arguments,t)):e.apply(this,arguments))}}function bodychain_getPrototypeOf(t){return(bodychain_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var yi=function(){bodychain_inherits(Bodychain1Part,pt);var n=bodychain_createSuper(Bodychain1Part);function Bodychain1Part(){bodychain_classCallCheck(this,Bodychain1Part);for(var t=arguments.length,e=new Array(t),r=0;r<t;r++)e[r]=arguments[r];return n.call.apply(n,[this,{layer:_.FRONT,loc:"+torso",reflect:!0},{cleavageCoverage:.2,cleavageCoverageBot:.6}].concat(e))}return bodychain_createClass(Bodychain1Part,[{key:"renderClothingPoints",value:function renderClothingPoints(t,e){ut.simpleStrokeFill(e,t,this);var r={x:0,y:splitCurve(this.cleavageCoverage,t.neck.cusp,t.groin).left.p2.y},n=drawCircle(r,3);e.beginPath(),drawPoints.apply(void 0,[e].concat(bodychain_toConsumableArray(n))),e.stroke();var o={x:0,y:splitCurve(this.cleavageCoverageBot,t.neck.cusp,t.groin).left.p2.y};n=drawCircle(o,3),e.beginPath(),drawPoints.apply(void 0,[e].concat(bodychain_toConsumableArray(n))),e.stroke(),e.setLineDash([3,3]);var a=splitCurve(.1,t.neck.cusp,t.collarbone).left.p2,i=polar2cartesian(3,rad(50),r);e.beginPath(),drawPoints(e,a,i),e.stroke(),e.beginPath(),drawPoints(e,{x:0,y:r.y-3},{x:0,y:o.y+3}),e.stroke();var s=polar2cartesian(3,rad(0),o),c=extractPoint(splitCurve(.2,t.waist,t.hip).left.p2);c.cp1={x:t.chest.nipples.x,y:c.y};var l=polar2cartesian(3,rad(-45),o),u=extractPoint(splitCurve(.8,t.waist,t.hip).left.p2);u.cp1={x:t.chest.nipples.x,y:u.y},e.beginPath(),drawPoints(e,s,c,v,l,u),e.stroke()}}]),Bodychain1Part}(),hi=function(){bodychain_inherits(Bodychain2Part,pt);var n=bodychain_createSuper(Bodychain2Part);function Bodychain2Part(){bodychain_classCallCheck(this,Bodychain2Part);for(var t=arguments.length,e=new Array(t),r=0;r<t;r++)e[r]=arguments[r];return n.call.apply(n,[this,{layer:_.FRONT,loc:"+torso",reflect:!0},{}].concat(e))}return bodychain_createClass(Bodychain2Part,[{key:"renderClothingPoints",value:function renderClothingPoints(t,e){ut.simpleStrokeFill(e,t,this);var r={x:0,y:t.armpit.y+9},n=drawCircle(r,3);e.beginPath(),drawPoints.apply(void 0,[e].concat(bodychain_toConsumableArray(n))),e.stroke();var o={x:0,y:t.waist.y+12};e.setLineDash([3,3]);var a=splitCurve(.1,t.neck.cusp,t.collarbone).left.p2,i=polar2cartesian(3,rad(50),r);e.beginPath(),drawPoints(e,a,i),e.stroke();var s=extractPoint(t.hip);s.cp1={x:t.armpit.x-4,y:s.y},e.beginPath(),drawPoints(e,{x:0,y:r.y-3},o,s),e.stroke();var c=splitCurve(.1,o,s).left.p2,l={x:0,y:c.y-4};l.cp1={x:.5*l.x+.5*c.x,y:l.y},e.beginPath(),drawPoints(e,c,l),e.stroke();var u=splitCurve(.2,o,s).left.p2,p={x:0,y:u.y-4};copyCurve(c,l,u,p),e.beginPath(),drawPoints(e,u,p),e.stroke()}}]),Bodychain2Part}(),di=function(){bodychain_inherits(Bodychain3Part,pt);var n=bodychain_createSuper(Bodychain3Part);function Bodychain3Part(){bodychain_classCallCheck(this,Bodychain3Part);for(var t=arguments.length,e=new Array(t),r=0;r<t;r++)e[r]=arguments[r];return n.call.apply(n,[this,{layer:_.FRONT,loc:"+torso",reflect:!0},{}].concat(e))}return bodychain_createClass(Bodychain3Part,[{key:"renderClothingPoints",value:function renderClothingPoints(t,e){ut.simpleStrokeFill(e,t,this);var r={x:0,y:t.armpit.y+10},n={x:0,y:t.waist.y+8},o=splitCurve(.3,t.neck.cusp,t.collarbone).left.p2,a=extractPoint(splitCurve(.2,t.waist,t.hip).left.p2);a.cp1={x:t.chest.nipples.x,y:a.y};var i=adjust(n,0,-6),s=extractPoint(splitCurve(.4,t.waist,t.hip).left.p2);copyCurve(n,a,i,s),e.setLineDash([3,3]),e.beginPath(),drawPoints(e,o,r,n,a,v,n,i,s),e.stroke()}}]),Bodychain3Part}(),gi=function(){bodychain_inherits(Bodychain,En);var n=bodychain_createSuper(Bodychain);function Bodychain(){bodychain_classCallCheck(this,Bodychain);for(var t=arguments.length,e=new Array(t),r=0;r<t;r++)e[r]=arguments[r];return n.call.apply(n,[this,{clothingLayer:ut.Layer.BASE,stroke:"#9c8530",fill:"red",thickness:.7}].concat(e))}return Bodychain}(),Pi=function(){bodychain_inherits(Bodychain1,gi);var n=bodychain_createSuper(Bodychain1);function Bodychain1(){bodychain_classCallCheck(this,Bodychain1);for(var t=arguments.length,e=new Array(t),r=0;r<t;r++)e[r]=arguments[r];return n.call.apply(n,[this,{}].concat(e))}return bodychain_createClass(Bodychain1,[{key:"partPrototypes",get:function get(){return[{side:null,Part:yi}]}}]),Bodychain1}(),vi=function(){bodychain_inherits(Bodychain2,gi);var n=bodychain_createSuper(Bodychain2);function Bodychain2(){bodychain_classCallCheck(this,Bodychain2);for(var t=arguments.length,e=new Array(t),r=0;r<t;r++)e[r]=arguments[r];return n.call.apply(n,[this,{}].concat(e))}return bodychain_createClass(Bodychain2,[{key:"partPrototypes",get:function get(){return[{side:null,Part:hi}]}}]),Bodychain2}(),bi=function(){bodychain_inherits(Bodychain3,gi);var n=bodychain_createSuper(Bodychain3);function Bodychain3(){bodychain_classCallCheck(this,Bodychain3);for(var t=arguments.length,e=new Array(t),r=0;r<t;r++)e[r]=arguments[r];return n.call.apply(n,[this,{}].concat(e))}return bodychain_createClass(Bodychain3,[{key:"partPrototypes",get:function get(){return[{side:null,Part:di}]}}]),Bodychain3}();function armlet_classCallCheck(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function armlet_defineProperties(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function armlet_createClass(t,e,r){return e&&armlet_defineProperties(t.prototype,e),r&&armlet_defineProperties(t,r),t}function armlet_inherits(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&armlet_setPrototypeOf(t,e)}function armlet_setPrototypeOf(t,e){return(armlet_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(t,e){return t.__proto__=e,t})(t,e)}function armlet_createSuper(r){var n=function armlet_isNativeReflectConstruct(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(t){return!1}}();return function _createSuperInternal(){var t,e=armlet_getPrototypeOf(r);return function armlet_possibleConstructorReturn(t,e){return!e||"object"!==armlet_typeof(e)&&"function"!=typeof e?function armlet_assertThisInitialized(t){if(void 0!==t)return t;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}(t):e}(this,n?(t=armlet_getPrototypeOf(this).constructor,Reflect.construct(e,arguments,t)):e.apply(this,arguments))}}function armlet_getPrototypeOf(t){return(armlet_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function armlet_toConsumableArray(t){return function armlet_arrayWithoutHoles(t){if(Array.isArray(t))return armlet_arrayLikeToArray(t)}(t)||function armlet_iterableToArray(t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(t))return Array.from(t)}(t)||function armlet_unsupportedIterableToArray(t,e){if(!t)return;if("string"==typeof t)return armlet_arrayLikeToArray(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);"Object"===r&&t.constructor&&(r=t.constructor.name);if("Map"===r||"Set"===r)return Array.from(t);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return armlet_arrayLikeToArray(t,e)}(t)||function armlet_nonIterableSpread(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function armlet_arrayLikeToArray(t,e){(null==e||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function armlet_typeof(t){return(armlet_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function _typeof(t){return typeof t}:function _typeof(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function calcArmSquare(t){this.armCoverage-this.armCoverageTop<.03&&(this.armCoverageTop=this.armCoverage-.03);var e=getLimbPointsBellowPoint(n={y:findBetween(t.collarbone.y,t.hand.palm.y,this.armCoverageTop)},!0,t.armpit,t.elbow.in,t.wrist.in,t.thumb.out,t.thumb.tip),r=getLimbPointsBellowPoint(adjust(e[e.length-1],0,2),!1,t.collarbone,t.deltoids,t.shoulder,t.elbow.out,t.wrist.out,t.hand.knuckle),n={y:findBetween(t.collarbone.y,t.hand.palm.y,this.armCoverage)};return e.reverse(),e=getLimbPointsAbovePoint.apply(void 0,[n,!0].concat(armlet_toConsumableArray(e))),(r=getLimbPointsAbovePoint.apply(void 0,[{y:n.y+2},!1].concat(armlet_toConsumableArray(r))))[0]=extractPoint(r[0]),r[0].cp1={x:.5*(r[0].x+e[e.length-1].x),y:r[0].y-4+8*this.armCoverageTop},r[r.length-1]=extractPoint(r[r.length-1]),e[0]=extractPoint(e[0]),e[0].cp1={x:.5*(r[r.length-1].x+e[0].x),y:e[0].y-4+8*this.armCoverage},{inner:e,outer:r}}var _i=function(){armlet_inherits(SimpleArmletPart,pt);var n=armlet_createSuper(SimpleArmletPart);function SimpleArmletPart(){armlet_classCallCheck(this,SimpleArmletPart);for(var t=arguments.length,e=new Array(t),r=0;r<t;r++)e[r]=arguments[r];return n.call.apply(n,[this,{layer:_.ARMS,loc:"+arm",aboveParts:["parts arm","decorativeParts arm","parts hand"]},{armCoverageTop:.8,armCoverage:.9,thickness:1}].concat(e))}return armlet_createClass(SimpleArmletPart,[{key:"renderClothingPoints",value:function renderClothingPoints(t,e){ut.simpleStrokeFill(e,t,this),e.lineWidth=this.thickness;var r=calcArmSquare.call(this,t),n=r.inner,o=r.outer;e.beginPath(),drawPoints.apply(void 0,[e].concat(armlet_toConsumableArray(o),armlet_toConsumableArray(n),[o[0]])),e.fill(),e.stroke()}}]),SimpleArmletPart}(),mi=function(){armlet_inherits(CrossedArmletPart,pt);var n=armlet_createSuper(CrossedArmletPart);function CrossedArmletPart(){armlet_classCallCheck(this,CrossedArmletPart);for(var t=arguments.length,e=new Array(t),r=0;r<t;r++)e[r]=arguments[r];return n.call.apply(n,[this,{layer:_.ARMS,loc:"+arm",aboveParts:["parts arm","decorativeParts arm","parts hand"]},{armCoverageTop:.3,armCoverage:.3,crossings:3,thickness:.8,doubled:!0,fullArmlet:!1}].concat(e))}return armlet_createClass(CrossedArmletPart,[{key:"renderClothingPoints",value:function renderClothingPoints(t,e){ut.simpleStrokeFill(e,t,this),e.lineWidth=this.thickness;var r=calcArmSquare.call(this,t),n=r.inner,o=r.outer;this.fullArmlet&&(e.beginPath(),drawPoints.apply(void 0,[e].concat(armlet_toConsumableArray(o),armlet_toConsumableArray(n),[o[0]])),e.fill(),e.stroke()),o[o.length-1].cp1=n[0].cp1;var a=getLacingPoints(n[n.length-1],o[0],n[0],o[o.length-1],this.crossings);e.beginPath(),this.doubled?drawPoints.apply(void 0,[e].concat(armlet_toConsumableArray(a.outer),[v],armlet_toConsumableArray(a.inner))):drawPoints.apply(void 0,[e].concat(armlet_toConsumableArray(a.outer))),e.stroke()}}]),CrossedArmletPart}(),Si=function(){armlet_inherits(SpiralArmletPart,pt);var n=armlet_createSuper(SpiralArmletPart);function SpiralArmletPart(){armlet_classCallCheck(this,SpiralArmletPart);for(var t=arguments.length,e=new Array(t),r=0;r<t;r++)e[r]=arguments[r];return n.call.apply(n,[this,{layer:_.ARMS,loc:"+arm",aboveParts:["parts arm","decorativeParts arm","parts hand"]},{armCoverage:.3,coils:3,distance:5}].concat(e))}return armlet_createClass(SpiralArmletPart,[{key:"renderClothingPoints",value:function renderClothingPoints(a,t){ut.simpleStrokeFill(t,a,this),t.lineWidth=this.thickness;for(var e=0,r={x:0,y:findBetween(a.collarbone.y,a.hand.palm.y,this.armCoverage)},n=1;n<=this.coils;n++)!function coil(t,e){var r=function calcArm(t,e){void 0!==e&&"object"!==armlet_typeof(e)&&(e={x:0,y:e});var r=getLimbPointsBellowPoint(e,!0,t.armpit,t.elbow.in,t.wrist.in,t.thumb.out,t.thumb.tip),n=extractPoint(r[r.length-1]),o=extractPoint((r=getLimbPointsBellowPoint(adjust(n,0,2),!1,t.collarbone,t.deltoids,t.shoulder,t.elbow.out,t.wrist.out,t.hand.knuckle))[0]);return o.cp1={x:.5*o.x+.5*n.x,y:o.y-3},{inner:n,outer:o}}.call(this,a,t),n=r.inner,o=r.outer;e.beginPath(),drawPoints(e,n,o),e.stroke()}(adjust(r,0,e),t),e-=this.distance}}]),SpiralArmletPart}(),ki=function(){armlet_inherits(Armlet,En);var n=armlet_createSuper(Armlet);function Armlet(){armlet_classCallCheck(this,Armlet);for(var t=arguments.length,e=new Array(t),r=0;r<t;r++)e[r]=arguments[r];return n.call.apply(n,[this,{clothingLayer:ut.Layer.BASE,stroke:"#9c8530",fill:"red"}].concat(e))}return Armlet}(),Ci=function(){armlet_inherits(SpiralArmlet,ki);var n=armlet_createSuper(SpiralArmlet);function SpiralArmlet(){armlet_classCallCheck(this,SpiralArmlet);for(var t=arguments.length,e=new Array(t),r=0;r<t;r++)e[r]=arguments[r];return n.call.apply(n,[this,{}].concat(e))}return armlet_createClass(SpiralArmlet,[{key:"partPrototypes",get:function get(){return[{side:null,Part:Si}]}}]),SpiralArmlet}(),wi=function(){armlet_inherits(SimpleArmlet,ki);var n=armlet_createSuper(SimpleArmlet);function SimpleArmlet(){armlet_classCallCheck(this,SimpleArmlet);for(var t=arguments.length,e=new Array(t),r=0;r<t;r++)e[r]=arguments[r];return n.call.apply(n,[this,{}].concat(e))}return armlet_createClass(SimpleArmlet,[{key:"partPrototypes",get:function get(){return[{side:null,Part:_i}]}}]),SimpleArmlet}(),xi=function(){armlet_inherits(CrossedArmlet,ki);var n=armlet_createSuper(CrossedArmlet);function CrossedArmlet(){armlet_classCallCheck(this,CrossedArmlet);for(var t=arguments.length,e=new Array(t),r=0;r<t;r++)e[r]=arguments[r];return n.call.apply(n,[this,{}].concat(e))}return armlet_createClass(CrossedArmlet,[{key:"partPrototypes",get:function get(){return[{side:null,Part:mi}]}}]),CrossedArmlet}();function makeup_typeof(t){return(makeup_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function _typeof(t){return typeof t}:function _typeof(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function makeup_classCallCheck(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function makeup_defineProperties(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function makeup_createClass(t,e,r){return e&&makeup_defineProperties(t.prototype,e),r&&makeup_defineProperties(t,r),t}function makeup_inherits(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&makeup_setPrototypeOf(t,e)}function makeup_setPrototypeOf(t,e){return(makeup_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(t,e){return t.__proto__=e,t})(t,e)}function makeup_createSuper(r){var n=function makeup_isNativeReflectConstruct(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(t){return!1}}();return function _createSuperInternal(){var t,e=makeup_getPrototypeOf(r);return function makeup_possibleConstructorReturn(t,e){return!e||"object"!==makeup_typeof(e)&&"function"!=typeof e?function makeup_assertThisInitialized(t){if(void 0!==t)return t;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}(t):e}(this,n?(t=makeup_getPrototypeOf(this).constructor,Reflect.construct(e,arguments,t)):e.apply(this,arguments))}}function makeup_getPrototypeOf(t){return(makeup_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var Oi=function(){makeup_inherits(MascaraPart,pt);var n=makeup_createSuper(MascaraPart);function MascaraPart(){makeup_classCallCheck(this,MascaraPart);for(var t=arguments.length,e=new Array(t),r=0;r<t;r++)e[r]=arguments[r];return n.call.apply(n,[this,{layer:_.BELOW_HAIR,loc:"".concat(w.EYELASH),reflect:!1,aboveParts:["faceParts eyelash"]},{topFill:"black",botFill:"black"}].concat(e))}return makeup_createClass(MascaraPart,[{key:"renderClothingPoints",value:function renderClothingPoints(t,e){setStrokeAndFill(e,{stroke:d,fill:this.topFill},t),e.beginPath(),drawPoints(e,t.eyes.out,t.eyelid.top,t.eyelid.in,t.eyelash.top,t.eyelash.out),e.fill(),setStrokeAndFill(e,{stroke:d,fill:this.botFill},t),e.beginPath(),drawPoints(e,t.eyes.out,t.eyes.in,t.eyelash.outBot),e.fill()}}]),MascaraPart}(),Ai=function(){makeup_inherits(Makeup,lt);var n=makeup_createSuper(Makeup);function Makeup(){makeup_classCallCheck(this,Makeup);for(var t=arguments.length,e=new Array(t),r=0;r<t;r++)e[r]=arguments[r];return n.call.apply(n,[this,{clothingLayer:ut.Layer.MID,requiredParts:"faceParts"}].concat(e))}return Makeup}(),Ti=function(){makeup_inherits(Mascara,Ai);var o=makeup_createSuper(Mascara);function Mascara(){var t;makeup_classCallCheck(this,Mascara);for(var e=arguments.length,r=new Array(e),n=0;n<e;n++)r[n]=arguments[n];return(t=o.call.apply(o,[this,{extraLength:2}].concat(r))).Mods=Object.assign({eyelashLength:t.extraLength},t.Mods),t}return makeup_createClass(Mascara,[{key:"partPrototypes",get:function get(){return[{side:A.LEFT,Part:Oi},{side:A.RIGHT,Part:Oi}]}}]),Mascara}();function restraints_typeof(t){return(restraints_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function _typeof(t){return typeof t}:function _typeof(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function restraints_slicedToArray(t,e){return function restraints_arrayWithHoles(t){if(Array.isArray(t))return t}(t)||function restraints_iterableToArrayLimit(t,e){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(t)))return;var r=[],n=!0,o=!1,a=void 0;try{for(var i,s=t[Symbol.iterator]();!(n=(i=s.next()).done)&&(r.push(i.value),!e||r.length!==e);n=!0);}catch(t){o=!0,a=t}finally{try{n||null==s.return||s.return()}finally{if(o)throw a}}return r}(t,e)||function restraints_unsupportedIterableToArray(t,e){if(!t)return;if("string"==typeof t)return restraints_arrayLikeToArray(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);"Object"===r&&t.constructor&&(r=t.constructor.name);if("Map"===r||"Set"===r)return Array.from(t);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return restraints_arrayLikeToArray(t,e)}(t,e)||function restraints_nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function restraints_arrayLikeToArray(t,e){(null==e||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function restraints_defineProperties(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function restraints_createClass(t,e,r){return e&&restraints_defineProperties(t.prototype,e),r&&restraints_defineProperties(t,r),t}function restraints_classCallCheck(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function restraints_inherits(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&restraints_setPrototypeOf(t,e)}function restraints_setPrototypeOf(t,e){return(restraints_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(t,e){return t.__proto__=e,t})(t,e)}function restraints_createSuper(r){var n=function restraints_isNativeReflectConstruct(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(t){return!1}}();return function _createSuperInternal(){var t,e=restraints_getPrototypeOf(r);return function restraints_possibleConstructorReturn(t,e){return!e||"object"!==restraints_typeof(e)&&"function"!=typeof e?function restraints_assertThisInitialized(t){if(void 0!==t)return t;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}(t):e}(this,n?(t=restraints_getPrototypeOf(this).constructor,Reflect.construct(e,arguments,t)):e.apply(this,arguments))}}function restraints_getPrototypeOf(t){return(restraints_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var ji=function(){restraints_inherits(RestraintChainPart,pt);var n=restraints_createSuper(RestraintChainPart);function RestraintChainPart(){restraints_classCallCheck(this,RestraintChainPart);for(var t=arguments.length,e=new Array(t),r=0;r<t;r++)e[r]=arguments[r];return n.call.apply(n,[this,{chainWidth:2,chainStroke:"#6d6d6d",chainDash:[3,7]}].concat(e))}return RestraintChainPart}(),Ri=function(){restraints_inherits(BondageRopePart,ji);var n=restraints_createSuper(BondageRopePart);function BondageRopePart(){restraints_classCallCheck(this,BondageRopePart);for(var t=arguments.length,e=new Array(t),r=0;r<t;r++)e[r]=arguments[r];return n.call.apply(n,[this,{chainWidth:2.5,chainStroke:"#d92f43",chainDash:[1,6]}].concat(e))}return BondageRopePart}(),Bi=function(){restraints_inherits(ChestBondagePart,Ri);var n=restraints_createSuper(ChestBondagePart);function ChestBondagePart(){restraints_classCallCheck(this,ChestBondagePart);for(var t=arguments.length,e=new Array(t),r=0;r<t;r++)e[r]=arguments[r];return n.call.apply(n,[this,{layer:_.FRONT,loc:"+".concat(w.CHEST),aboveParts:["parts ".concat(w.CHEST),"decorativeParts ".concat(w.CHEST)],reflect:!0,aboveSameLayerParts:["chest"]}].concat(e))}return restraints_createClass(ChestBondagePart,[{key:"renderClothingPoints",value:function renderClothingPoints(t,e){var r=calcTopBondage.call(this,t),n=r.top,o=r.center,a=r.bot,i=r.sideTop,s=r.sideBot;e.lineWidth=this.chainWidth,e.strokeStyle=this.chainStroke,e.setLineDash(this.chainDash),e.beginPath(),drawPoints(e,n,o,a,v,o,i,v,a,s),e.stroke()}}]),ChestBondagePart}(),Ei=function(){restraints_inherits(WaistBondagePart,Ri);var n=restraints_createSuper(WaistBondagePart);function WaistBondagePart(){restraints_classCallCheck(this,WaistBondagePart);for(var t=arguments.length,e=new Array(t),r=0;r<t;r++)e[r]=arguments[r];return n.call.apply(n,[this,{layer:_.FRONT,loc:"+".concat(w.TORSO),aboveParts:["parts ".concat(w.TORSO),"decorativeParts ".concat(w.TORSO)],reflect:!0,belowSameLayerParts:["torso","groin"]}].concat(e))}return restraints_createClass(WaistBondagePart,[{key:"renderClothingPoints",value:function renderClothingPoints(t,e){var r=calcTopBondage.call(this,t).bot,n={x:4,y:t.waist.y-2};n.cp1=simpleQuadratic(r,n,.5,.1*-dist(r,n));var o=extractPoint(t.waist);o.cp1=simpleQuadratic(n,o,.5,-1);var a={x:0,y:t.pelvis.y+10};a.cp1=simpleQuadratic(n,a,.5,.1*-dist(n,a));var i=adjust(extractPoint(t.groin),0,2);e.lineWidth=this.chainWidth,e.strokeStyle=this.chainStroke,e.setLineDash(this.chainDash),e.beginPath(),drawPoints(e,r,n,a,v,n,o,v,a,i),e.stroke()}}]),WaistBondagePart}(),Li=function(){restraints_inherits(ChestPentagramBondagePart,Ri);var n=restraints_createSuper(ChestPentagramBondagePart);function ChestPentagramBondagePart(){restraints_classCallCheck(this,ChestPentagramBondagePart);for(var t=arguments.length,e=new Array(t),r=0;r<t;r++)e[r]=arguments[r];return n.call.apply(n,[this,{layer:_.FRONT,loc:"+".concat(w.CHEST),aboveParts:["parts ".concat(w.CHEST),"decorativeParts ".concat(w.CHEST)],reflect:!0,aboveSameLayerParts:["chest"]}].concat(e))}return restraints_createClass(ChestPentagramBondagePart,[{key:"renderClothingPoints",value:function renderClothingPoints(t,e){var r=function calcTopPentagramBondage(t){var e=adjust(splitCurve(.3,t.neck.cusp,t.collarbone).right.p1,0,-1.5),r={x:0,y:.7*t.armpit.y+.3*t.neck.cusp.y};r.cp1=simpleQuadratic(e,r,.5,.15*dist(e,r));var n={x:0,y:t.armpit.y-11},o=extractPoint(t.armpit);t.breast&&(o=adjust(extractPoint(t.breast.top),1.5,.5));o.cp1=simpleQuadratic(r,o,.5,.3);var a={x:null,y:n.y+1},i=restraints_slicedToArray(interpolateCurve(t.armpit,t.waist,a),1)[0];i.x-=.5,i.cp1=simpleQuadratic(n,i,.5,-1);var s=adjust(n,0,6.66),c=adjust(extractPoint(r),0,8);return{top:e,center:r,bot:n,sideTop:o,sideBot:i,upperCenter:c,upperBot:s}}.call(this,t),n=r.top,o=r.center,a=r.bot,i=r.sideTop,s=r.sideBot,c=r.upperCenter,l=r.upperBot;e.lineWidth=this.chainWidth,e.strokeStyle=this.chainStroke,e.setLineDash(this.chainDash),e.beginPath(),drawPoints(e,n,l,a,v,o,i,v,a,s,v,i,c,v,n,c),e.stroke()}}]),ChestPentagramBondagePart}();function calcTopBondage(t){var e=adjust(splitCurve(.4,t.neck.cusp,t.collarbone).right.p1,0,-1.5),r={x:0,y:.7*t.armpit.y+.3*t.neck.cusp.y};r.cp1=simpleQuadratic(e,r,.5,.15*dist(e,r));var n={x:0,y:t.armpit.y-10},o=extractPoint(t.armpit);t.breast&&(o=adjust(extractPoint(t.breast.top),1.5,.5)),o.cp1=simpleQuadratic(r,o,.5,2);var a={x:null,y:n.y+1},i=restraints_slicedToArray(interpolateCurve(t.armpit,t.waist,a),1)[0];return i.x-=.5,i.cp1=simpleQuadratic(n,i,.5,-1),{top:e,center:r,bot:n,sideTop:o,sideBot:i}}var Ii=function(){restraints_inherits(WristRestraintChainPart,ji);var n=restraints_createSuper(WristRestraintChainPart);function WristRestraintChainPart(){restraints_classCallCheck(this,WristRestraintChainPart);for(var t=arguments.length,e=new Array(t),r=0;r<t;r++)e[r]=arguments[r];return n.call.apply(n,[this,{layer:_.ARMS,loc:"+".concat(w.ARM),aboveParts:["parts ".concat(w.ARM),"decorativeParts ".concat(w.ARM),"parts ".concat(w.HAND)]}].concat(e))}return restraints_createClass(WristRestraintChainPart,[{key:"renderClothingPoints",value:function renderClothingPoints(t,e){var r=adjust(extractPoint(splitCurve(.15,t.wrist.in,t.elbow.in).right.p1),1,0),n={x:-r.x,y:r.y};n.cp1=simpleQuadratic(r,n,.5,5),e.lineWidth=this.chainWidth,e.strokeStyle=this.chainStroke,e.setLineDash(this.chainDash),e.beginPath(),drawPoints(e,r,n),e.stroke()}}]),WristRestraintChainPart}(),Fi=function(){restraints_inherits(AnkleRestraintChainPart,ji);var n=restraints_createSuper(AnkleRestraintChainPart);function AnkleRestraintChainPart(){restraints_classCallCheck(this,AnkleRestraintChainPart);for(var t=arguments.length,e=new Array(t),r=0;r<t;r++)e[r]=arguments[r];return n.call.apply(n,[this,{layer:_.FRONT,loc:"+".concat(w.LEG),aboveParts:["parts ".concat(w.LEG),"decorativeParts ".concat(w.LEG)]}].concat(e))}return restraints_createClass(AnkleRestraintChainPart,[{key:"renderClothingPoints",value:function renderClothingPoints(t,e){var r=adjust(extractPoint(splitCurve(this.startAlongLeg+.5*this.legCoverage,t.ankle.in,t.calf.in).right.p1),1,0),n={x:-r.x,y:r.y};e.lineWidth=this.chainWidth,e.strokeStyle=this.chainStroke,e.setLineDash(this.chainDash),e.beginPath(),drawPoints(e,r,connectEndPoints(r,n)),e.stroke()}}]),AnkleRestraintChainPart}(),Hi=function(){restraints_inherits(Restraints,lt);var n=restraints_createSuper(Restraints);function Restraints(){restraints_classCallCheck(this,Restraints);for(var t=arguments.length,e=new Array(t),r=0;r<t;r++)e[r]=arguments[r];return n.call.apply(n,[this,{clothingLayer:ut.Layer.OUTER}].concat(e))}return Restraints}(),Mi=function(){restraints_inherits(Bondage,lt);var n=restraints_createSuper(Bondage);function Bondage(){restraints_classCallCheck(this,Bondage);for(var t=arguments.length,e=new Array(t),r=0;r<t;r++)e[r]=arguments[r];return n.call.apply(n,[this,{clothingLayer:ut.Layer.BASE}].concat(e))}return Bondage}(),Di=function(){restraints_inherits(WristRestraints,Hi);var o=restraints_createSuper(WristRestraints);function WristRestraints(){var t;restraints_classCallCheck(this,WristRestraints);for(var e=arguments.length,r=new Array(e),n=0;n<e;n++)r[n]=arguments[n];return(t=o.call.apply(o,[this,{armCoverage:.75}].concat(r))).Mods=Object.assign({armRotation:-35,handRotation:12},t.Mods),t}return restraints_createClass(WristRestraints,[{key:"fill",value:function fill(){return"#1e1e1e"}},{key:"partPrototypes",get:function get(){return[{side:A.LEFT,Part:ha},{side:A.RIGHT,Part:ha},{side:A.RIGHT,Part:Ii}]}}]),WristRestraints}(),Ni=function(){restraints_inherits(AnkleRestraints,Hi);var n=restraints_createSuper(AnkleRestraints);function AnkleRestraints(){restraints_classCallCheck(this,AnkleRestraints);for(var t=arguments.length,e=new Array(t),r=0;r<t;r++)e[r]=arguments[r];return n.call.apply(n,[this,{startAlongLeg:.25,legCoverage:.4}].concat(e))}return restraints_createClass(AnkleRestraints,[{key:"fill",value:function fill(){return"#1e1e1e"}},{key:"partPrototypes",get:function get(){return[{side:A.LEFT,Part:Vi},{side:A.RIGHT,Part:Vi},{side:A.RIGHT,Part:Fi}]}}]),AnkleRestraints}(),Wi=function(){restraints_inherits(ChestBondage,Mi);var n=restraints_createSuper(ChestBondage);function ChestBondage(){restraints_classCallCheck(this,ChestBondage);for(var t=arguments.length,e=new Array(t),r=0;r<t;r++)e[r]=arguments[r];return n.call.apply(n,[this,{}].concat(e))}return restraints_createClass(ChestBondage,[{key:"partPrototypes",get:function get(){return[{side:null,Part:Bi}]}}]),ChestBondage}(),Gi=function(){restraints_inherits(ChestPentagramBondage,Mi);var n=restraints_createSuper(ChestPentagramBondage);function ChestPentagramBondage(){restraints_classCallCheck(this,ChestPentagramBondage);for(var t=arguments.length,e=new Array(t),r=0;r<t;r++)e[r]=arguments[r];return n.call.apply(n,[this,{}].concat(e))}return restraints_createClass(ChestPentagramBondage,[{key:"partPrototypes",get:function get(){return[{side:null,Part:Li}]}}]),ChestPentagramBondage}(),Ui=function(){restraints_inherits(WaistBondage,Mi);var n=restraints_createSuper(WaistBondage);function WaistBondage(){restraints_classCallCheck(this,WaistBondage);for(var t=arguments.length,e=new Array(t),r=0;r<t;r++)e[r]=arguments[r];return n.call.apply(n,[this,{}].concat(e))}return restraints_createClass(WaistBondage,[{key:"partPrototypes",get:function get(){return[{side:null,Part:Ei}]}}]),WaistBondage}();function anklet_typeof(t){return(anklet_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function _typeof(t){return typeof t}:function _typeof(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function anklet_slicedToArray(t,e){return function anklet_arrayWithHoles(t){if(Array.isArray(t))return t}(t)||function anklet_iterableToArrayLimit(t,e){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(t)))return;var r=[],n=!0,o=!1,a=void 0;try{for(var i,s=t[Symbol.iterator]();!(n=(i=s.next()).done)&&(r.push(i.value),!e||r.length!==e);n=!0);}catch(t){o=!0,a=t}finally{try{n||null==s.return||s.return()}finally{if(o)throw a}}return r}(t,e)||function anklet_unsupportedIterableToArray(t,e){if(!t)return;if("string"==typeof t)return anklet_arrayLikeToArray(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);"Object"===r&&t.constructor&&(r=t.constructor.name);if("Map"===r||"Set"===r)return Array.from(t);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return anklet_arrayLikeToArray(t,e)}(t,e)||function anklet_nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function anklet_arrayLikeToArray(t,e){(null==e||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function anklet_defineProperties(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function anklet_createClass(t,e,r){return e&&anklet_defineProperties(t.prototype,e),r&&anklet_defineProperties(t,r),t}function anklet_classCallCheck(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function anklet_inherits(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&anklet_setPrototypeOf(t,e)}function anklet_setPrototypeOf(t,e){return(anklet_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(t,e){return t.__proto__=e,t})(t,e)}function anklet_createSuper(r){var n=function anklet_isNativeReflectConstruct(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(t){return!1}}();return function _createSuperInternal(){var t,e=anklet_getPrototypeOf(r);return function anklet_possibleConstructorReturn(t,e){return!e||"object"!==anklet_typeof(e)&&"function"!=typeof e?function anklet_assertThisInitialized(t){if(void 0!==t)return t;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}(t):e}(this,n?(t=anklet_getPrototypeOf(this).constructor,Reflect.construct(e,arguments,t)):e.apply(this,arguments))}}function anklet_getPrototypeOf(t){return(anklet_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var zi=function(){anklet_inherits(AnkletPart,pt);var n=anklet_createSuper(AnkletPart);function AnkletPart(){anklet_classCallCheck(this,AnkletPart);for(var t=arguments.length,e=new Array(t),r=0;r<t;r++)e[r]=arguments[r];return n.call.apply(n,[this,{layer:_.FRONT,loc:"+".concat(w.LEG),startAlongLeg:0,aboveParts:["parts ".concat(w.LEG)]}].concat(e))}return AnkletPart}(),Qi=function(){anklet_inherits(ChainAnkletPart,zi);var n=anklet_createSuper(ChainAnkletPart);function ChainAnkletPart(){anklet_classCallCheck(this,ChainAnkletPart);for(var t=arguments.length,e=new Array(t),r=0;r<t;r++)e[r]=arguments[r];return n.call.apply(n,[this,{startAlongLeg:.28,chainWidth:2,chainDash:[3,7]}].concat(e))}return anklet_createClass(ChainAnkletPart,[{key:"renderClothingPoints",value:function renderClothingPoints(t,e){var r=splitCurve(this.startAlongLeg,t.ankle.in,t.calf.in).right.p1,n={x:null,y:r.y},o=anklet_slicedToArray(interpolateCurve(t.calf.out,t.ankle.out,n),1)[0];ut.simpleStrokeFill(e,t,this),e.strokeStyle=this.chainStroke,e.setLineDash(this.chainDash),e.beginPath(),drawPoints(e,r,connectEndPoints(r,o,-.25)),e.stroke()}}]),ChainAnkletPart}(),Vi=function(){anklet_inherits(BandedAnkletPart,zi);var n=anklet_createSuper(BandedAnkletPart);function BandedAnkletPart(){anklet_classCallCheck(this,BandedAnkletPart);for(var t=arguments.length,e=new Array(t),r=0;r<t;r++)e[r]=arguments[r];return n.call.apply(n,[this,{legCoverage:.6}].concat(e))}return anklet_createClass(BandedAnkletPart,[{key:"renderClothingPoints",value:function renderClothingPoints(t,e){var r=splitCurve(.05+this.startAlongLeg,t.ankle.in,t.calf.in),n=r.right.p1,o=(r=splitCurve(this.legCoverage,n,r.right.p2)).left.p2,a=(r=splitCurve(1-.9*this.startAlongLeg,t.calf.out,t.ankle.out)).left.p2,i=(r=splitCurve(1-.9*this.legCoverage,t.calf.out,a)).right.p1;a.cp1=r.right.p2.cp1,a.cp2=r.right.p2.cp2,ut.simpleStrokeFill(e,t,this),e.beginPath(),drawPoints(e,n,o,connectEndPoints(o,i,-.25),a,connectEndPoints(a,n)),e.fill()}}]),BandedAnkletPart}(),qi=function(){anklet_inherits(Anklet,lt);var n=anklet_createSuper(Anklet);function Anklet(){anklet_classCallCheck(this,Anklet);for(var t=arguments.length,e=new Array(t),r=0;r<t;r++)e[r]=arguments[r];return n.call.apply(n,[this,{clothingLayer:ut.Layer.INNER}].concat(e))}return Anklet}(),Ji=function(){anklet_inherits(ChainAnklet,qi);var n=anklet_createSuper(ChainAnklet);function ChainAnklet(){anklet_classCallCheck(this,ChainAnklet);for(var t=arguments.length,e=new Array(t),r=0;r<t;r++)e[r]=arguments[r];return n.call.apply(n,[this].concat(e))}return anklet_createClass(ChainAnklet,[{key:"stroke",value:function stroke(){return"gold"}},{key:"fill",value:function fill(){return"gold"}},{key:"partPrototypes",get:function get(){return[{side:this.side,Part:Qi}]}}]),ChainAnklet}(),$i=function(){anklet_inherits(BandedAnklet,qi);var n=anklet_createSuper(BandedAnklet);function BandedAnklet(){anklet_classCallCheck(this,BandedAnklet);for(var t=arguments.length,e=new Array(t),r=0;r<t;r++)e[r]=arguments[r];return n.call.apply(n,[this].concat(e))}return anklet_createClass(BandedAnklet,[{key:"fill",value:function fill(){return"gold"}},{key:"partPrototypes",get:function get(){return[{side:this.side,Part:Vi}]}}]),BandedAnklet}();function lipstick_typeof(t){return(lipstick_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function _typeof(t){return typeof t}:function _typeof(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function lipstick_classCallCheck(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function lipstick_defineProperties(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function lipstick_createClass(t,e,r){return e&&lipstick_defineProperties(t.prototype,e),r&&lipstick_defineProperties(t,r),t}function lipstick_inherits(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&lipstick_setPrototypeOf(t,e)}function lipstick_setPrototypeOf(t,e){return(lipstick_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(t,e){return t.__proto__=e,t})(t,e)}function lipstick_createSuper(r){var n=function lipstick_isNativeReflectConstruct(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(t){return!1}}();return function _createSuperInternal(){var t,e=lipstick_getPrototypeOf(r);return function lipstick_possibleConstructorReturn(t,e){return!e||"object"!==lipstick_typeof(e)&&"function"!=typeof e?function lipstick_assertThisInitialized(t){if(void 0!==t)return t;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}(t):e}(this,n?(t=lipstick_getPrototypeOf(this).constructor,Reflect.construct(e,arguments,t)):e.apply(this,arguments))}}function lipstick_getPrototypeOf(t){return(lipstick_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var Yi=function(){lipstick_inherits(LipstickPart,pt);var n=lipstick_createSuper(LipstickPart);function LipstickPart(){lipstick_classCallCheck(this,LipstickPart);for(var t=arguments.length,e=new Array(t),r=0;r<t;r++)e[r]=arguments[r];return n.call.apply(n,[this,{layer:_.BELOW_HAIR,loc:"".concat(w.LIPS),reflect:!1,aboveParts:["faceParts lips"]},{fill:"#b91100"}].concat(e))}return lipstick_createClass(LipstickPart,[{key:"renderClothingPoints",value:function renderClothingPoints(t,e){ut.simpleStrokeFill(e,t,this),e.beginPath(),drawPoints(e,t.lips.top,t.lips.tip,t.lips.out,t.lips.bot,t.lips.bot.top,t.lips.out.in,t.lips.top.bot,t.lips.top),e.fill()}}]),LipstickPart}(),Xi=function(){lipstick_inherits(Lipstick,Ai);var n=lipstick_createSuper(Lipstick);function Lipstick(){lipstick_classCallCheck(this,Lipstick);for(var t=arguments.length,e=new Array(t),r=0;r<t;r++)e[r]=arguments[r];return n.call.apply(n,[this,{}].concat(e))}return lipstick_createClass(Lipstick,[{key:"partPrototypes",get:function get(){return[{side:A.LEFT,Part:Yi},{side:A.RIGHT,Part:Yi}]}}]),Lipstick}();function jewelry2_typeof(t){return(jewelry2_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function _typeof(t){return typeof t}:function _typeof(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function jewelry2_toConsumableArray(t){return function jewelry2_arrayWithoutHoles(t){if(Array.isArray(t))return jewelry2_arrayLikeToArray(t)}(t)||function jewelry2_iterableToArray(t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(t))return Array.from(t)}(t)||function jewelry2_unsupportedIterableToArray(t,e){if(!t)return;if("string"==typeof t)return jewelry2_arrayLikeToArray(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);"Object"===r&&t.constructor&&(r=t.constructor.name);if("Map"===r||"Set"===r)return Array.from(t);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return jewelry2_arrayLikeToArray(t,e)}(t)||function jewelry2_nonIterableSpread(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function jewelry2_arrayLikeToArray(t,e){(null==e||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function jewelry2_classCallCheck(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function jewelry2_defineProperties(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function jewelry2_createClass(t,e,r){return e&&jewelry2_defineProperties(t.prototype,e),r&&jewelry2_defineProperties(t,r),t}function jewelry2_inherits(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&jewelry2_setPrototypeOf(t,e)}function jewelry2_setPrototypeOf(t,e){return(jewelry2_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(t,e){return t.__proto__=e,t})(t,e)}function jewelry2_createSuper(r){var n=function jewelry2_isNativeReflectConstruct(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(t){return!1}}();return function _createSuperInternal(){var t,e=jewelry2_getPrototypeOf(r);return function jewelry2_possibleConstructorReturn(t,e){return!e||"object"!==jewelry2_typeof(e)&&"function"!=typeof e?function jewelry2_assertThisInitialized(t){if(void 0!==t)return t;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}(t):e}(this,n?(t=jewelry2_getPrototypeOf(this).constructor,Reflect.construct(e,arguments,t)):e.apply(this,arguments))}}function jewelry2_getPrototypeOf(t){return(jewelry2_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var Ki=function(){jewelry2_inherits(BellyPiercingSimplePart,pt);var n=jewelry2_createSuper(BellyPiercingSimplePart);function BellyPiercingSimplePart(){jewelry2_classCallCheck(this,BellyPiercingSimplePart);for(var t=arguments.length,e=new Array(t),r=0;r<t;r++)e[r]=arguments[r];return n.call.apply(n,[this,{layer:_.FRONT,loc:"+torso",reflect:!1,aboveParts:["parts torso","decorativeParts torso"]},{radius:1.3}].concat(e))}return jewelry2_createClass(BellyPiercingSimplePart,[{key:"renderClothingPoints",value:function renderClothingPoints(t,n){ut.simpleStrokeFill(n,t,this);var e=t.bellybutton.bot,o=this.fill;!function circle(t,e){n.fillStyle=o;var r=drawCircle(t,e);n.beginPath(),drawPoints.apply(void 0,[n].concat(jewelry2_toConsumableArray(r))),n.fill(),r=drawCircle(adjust(t,.3*e,.3*e),.3*e),n.fillStyle="white",n.beginPath(),drawPoints.apply(void 0,[n].concat(jewelry2_toConsumableArray(r))),n.fill()}(e,this.radius)}}]),BellyPiercingSimplePart}(),Zi=function(){jewelry2_inherits(BellyPiercingAdvancedPart,pt);var n=jewelry2_createSuper(BellyPiercingAdvancedPart);function BellyPiercingAdvancedPart(){jewelry2_classCallCheck(this,BellyPiercingAdvancedPart);for(var t=arguments.length,e=new Array(t),r=0;r<t;r++)e[r]=arguments[r];return n.call.apply(n,[this,{layer:_.FRONT,loc:"+torso",reflect:!1,aboveParts:["parts torso","decorativeParts torso"]},{thickness:.5,radius:1.3,secondaryRadius:1,distance:1,above:!0,above2:!0,bellow:!1,bellow2:!1,chain:!0,belt:!1,link:!1}].concat(e))}return jewelry2_createClass(BellyPiercingAdvancedPart,[{key:"renderClothingPoints",value:function renderClothingPoints(t,i){ut.simpleStrokeFill(i,t,this);var e,r,n,o,a=t.bellybutton.bot,s=this.fill;function circle(t,e){i.fillStyle=s;var r=drawCircle(t,e);i.beginPath(),drawPoints.apply(void 0,[i].concat(jewelry2_toConsumableArray(r))),i.fill(),r=drawCircle(adjust(t,.3*e,.3*e),.3*e),i.fillStyle="white",i.beginPath(),drawPoints.apply(void 0,[i].concat(jewelry2_toConsumableArray(r))),i.fill()}function chain(t,e,r,n){t=extractPoint(t),i.setLineDash([2,2]),i.lineWidth=n;var o=adjust(t,e,0),a=adjust(t,e,r);i.beginPath(),drawPoints(i,o,a),i.stroke()}this.belt&&(e={x:t.bellybutton.bot.x,y:t.bellybutton.bot.y},(r=extractPoint(splitCurve(.7,t.waist,t.hip).left.p2)).cp1={x:.4*(r.x+e.x),y:t.hip.y},(n=reflect(r)).cp1=reflect(r.cp1),i.setLineDash([2,2]),i.lineWidth=.6,i.beginPath(),drawPoints(i,e,r,v,e,n),i.stroke()),this.chain&&(chain(a,.6,-7,this.thickness),chain(a,-.6,-9,this.thickness)),this.link&&(o=extractPoint(adjust(a,0,-6*this.distance)),i.lineWidth=.6,i.setLineDash([2,2]),i.beginPath(),drawPoints(i,a,o),i.stroke()),this.above&&circle(adjust(a,0,3.5*this.distance),.7*this.secondaryRadius),this.above2&&circle(adjust(a,0,6*this.distance),.5*this.secondaryRadius),this.bellow&&circle(adjust(a,0,-3.5*this.distance),.7*this.secondaryRadius),this.bellow2&&circle(adjust(a,0,-6*this.distance),.5*this.secondaryRadius),circle(a,this.radius)}}]),BellyPiercingAdvancedPart}(),ts=function(){jewelry2_inherits(NipplePiercingPart,pt);var n=jewelry2_createSuper(NipplePiercingPart);function NipplePiercingPart(){jewelry2_classCallCheck(this,NipplePiercingPart);for(var t=arguments.length,e=new Array(t),r=0;r<t;r++)e[r]=arguments[r];return n.call.apply(n,[this,{layer:_.GENITALS,loc:"+torso",reflect:!1,aboveParts:["parts chest"]},{bar:!0,ring:!0,radius:.6,ringRadius:1.4,thickness:.3}].concat(e))}return jewelry2_createClass(NipplePiercingPart,[{key:"renderClothingPoints",value:function renderClothingPoints(t,e){ut.simpleStrokeFill(e,t,this);var r,n=extractPoint(t.chest.nipples);this.bar&&(jewelry2_circle(e,adjust(n,2,0),this.radius,this.fill),jewelry2_circle(e,adjust(n,-2,0),this.radius,this.fill)),this.ring&&(r=drawCircle(adjust(n,0,-this.ringRadius),this.ringRadius),e.lineWidth=this.thickness,e.beginPath(),drawPoints.apply(void 0,[e].concat(jewelry2_toConsumableArray(r))),e.stroke())}}]),NipplePiercingPart}(),es=function(){jewelry2_inherits(StudPart2,pt);var n=jewelry2_createSuper(StudPart2);function StudPart2(){jewelry2_classCallCheck(this,StudPart2);for(var t=arguments.length,e=new Array(t),r=0;r<t;r++)e[r]=arguments[r];return n.call.apply(n,[this,{layer:_.BELOW_HAIR,loc:"".concat(w.NOSE),reflect:!1,aboveParts:["faceParts ".concat(w.NOSE)]},{radius:.51}].concat(e))}return jewelry2_createClass(StudPart2,[{key:"renderClothingPoints",value:function renderClothingPoints(t,e){ut.simpleStrokeFill(e,t,this),jewelry2_circle(e,locateRelativeToDrawpoint(t,this.relativeLocation),this.radius,this.fill)}}]),StudPart2}(),rs=function(){jewelry2_inherits(BridgePart,pt);var n=jewelry2_createSuper(BridgePart);function BridgePart(){jewelry2_classCallCheck(this,BridgePart);for(var t=arguments.length,e=new Array(t),r=0;r<t;r++)e[r]=arguments[r];return n.call.apply(n,[this,{layer:_.BELOW_HAIR,loc:"".concat(w.NOSE),reflect:!1,aboveParts:["faceParts ".concat(w.NOSE)]},{radius:.4,distance:.9}].concat(e))}return jewelry2_createClass(BridgePart,[{key:"renderClothingPoints",value:function renderClothingPoints(t,e){ut.simpleStrokeFill(e,t,this);var r=locateRelativeToDrawpoint(t,this.relativeLocation);this.fill;jewelry2_circle(e,polar2cartesian(this.distance,rad(this.rotation),r),this.radius,this.fill),jewelry2_circle(e,polar2cartesian(this.distance,rad(this.rotation+180),r),this.radius,this.fill)}}]),BridgePart}();function jewelry2_circle(t,e,r,n){n&&(t.fillStyle=n);var o=drawCircle(e,r);t.beginPath(),drawPoints.apply(void 0,[t].concat(jewelry2_toConsumableArray(o))),t.fill(),o=drawCircle(adjust(e,.3*r,.3*r),.3*r),t.fillStyle="white",t.beginPath(),drawPoints.apply(void 0,[t].concat(jewelry2_toConsumableArray(o))),t.fill()}var ns=function(){jewelry2_inherits(NipplePiercing,En);var n=jewelry2_createSuper(NipplePiercing);function NipplePiercing(){jewelry2_classCallCheck(this,NipplePiercing);for(var t=arguments.length,e=new Array(t),r=0;r<t;r++)e[r]=arguments[r];return n.call.apply(n,[this,{clothingLayer:ut.Layer.BASE}].concat(e))}return jewelry2_createClass(NipplePiercing,[{key:"stroke",value:function stroke(){return"blue"}},{key:"fill",value:function fill(){return"red"}},{key:"partPrototypes",get:function get(){return[{side:null,Part:ts}]}}]),NipplePiercing}(),os=function(){jewelry2_inherits(BellyPiercingSimple,En);var n=jewelry2_createSuper(BellyPiercingSimple);function BellyPiercingSimple(){jewelry2_classCallCheck(this,BellyPiercingSimple);for(var t=arguments.length,e=new Array(t),r=0;r<t;r++)e[r]=arguments[r];return n.call.apply(n,[this,{}].concat(e))}return jewelry2_createClass(BellyPiercingSimple,[{key:"stroke",value:function stroke(){return"lime"}},{key:"fill",value:function fill(){return"red"}},{key:"partPrototypes",get:function get(){return[{side:null,Part:Ki}]}}]),BellyPiercingSimple}(),as=function(){jewelry2_inherits(BellyPiercingAdvanced,En);var n=jewelry2_createSuper(BellyPiercingAdvanced);function BellyPiercingAdvanced(){jewelry2_classCallCheck(this,BellyPiercingAdvanced);for(var t=arguments.length,e=new Array(t),r=0;r<t;r++)e[r]=arguments[r];return n.call.apply(n,[this,{}].concat(e))}return jewelry2_createClass(BellyPiercingAdvanced,[{key:"stroke",value:function stroke(){return"lime"}},{key:"fill",value:function fill(){return"red"}},{key:"partPrototypes",get:function get(){return[{side:null,Part:Zi}]}}]),BellyPiercingAdvanced}(),is=function(){jewelry2_inherits(StudPiercing2,Ln);var n=jewelry2_createSuper(StudPiercing2);function StudPiercing2(){jewelry2_classCallCheck(this,StudPiercing2);for(var t=arguments.length,e=new Array(t),r=0;r<t;r++)e[r]=arguments[r];return n.call.apply(n,[this,{relativeLocation:{drawpoint:"nose.out",dx:-3,dy:1.15},loc:"+".concat(w.NOSE),requiredParts:"faceParts"}].concat(e))}return jewelry2_createClass(StudPiercing2,[{key:"partPrototypes",get:function get(){return[{side:null,Part:es}]}}]),StudPiercing2}(),ss=function(){jewelry2_inherits(Bridge,Ln);var n=jewelry2_createSuper(Bridge);function Bridge(){jewelry2_classCallCheck(this,Bridge);for(var t=arguments.length,e=new Array(t),r=0;r<t;r++)e[r]=arguments[r];return n.call.apply(n,[this,{relativeLocation:{drawpoint:"nose.top",dx:-.3,dy:-1.66},loc:"+".concat(w.NOSE),requiredParts:"faceParts"}].concat(e))}return jewelry2_createClass(Bridge,[{key:"partPrototypes",get:function get(){return[{side:null,Part:rs}]}}]),Bridge}();function armor_typeof(t){return(armor_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function _typeof(t){return typeof t}:function _typeof(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function armor_toConsumableArray(t){return function armor_arrayWithoutHoles(t){if(Array.isArray(t))return armor_arrayLikeToArray(t)}(t)||function armor_iterableToArray(t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(t))return Array.from(t)}(t)||function armor_unsupportedIterableToArray(t,e){if(!t)return;if("string"==typeof t)return armor_arrayLikeToArray(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);"Object"===r&&t.constructor&&(r=t.constructor.name);if("Map"===r||"Set"===r)return Array.from(t);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return armor_arrayLikeToArray(t,e)}(t)||function armor_nonIterableSpread(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function armor_arrayLikeToArray(t,e){(null==e||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function armor_classCallCheck(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function armor_defineProperties(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function armor_createClass(t,e,r){return e&&armor_defineProperties(t.prototype,e),r&&armor_defineProperties(t,r),t}function armor_inherits(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&armor_setPrototypeOf(t,e)}function armor_setPrototypeOf(t,e){return(armor_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(t,e){return t.__proto__=e,t})(t,e)}function armor_createSuper(r){var n=function armor_isNativeReflectConstruct(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(t){return!1}}();return function _createSuperInternal(){var t,e=armor_getPrototypeOf(r);return function armor_possibleConstructorReturn(t,e){return!e||"object"!==armor_typeof(e)&&"function"!=typeof e?function armor_assertThisInitialized(t){if(void 0!==t)return t;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}(t):e}(this,n?(t=armor_getPrototypeOf(this).constructor,Reflect.construct(e,arguments,t)):e.apply(this,arguments))}}function armor_getPrototypeOf(t){return(armor_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var cs=function(){armor_inherits(CuirassPart,pt);var n=armor_createSuper(CuirassPart);function CuirassPart(){armor_classCallCheck(this,CuirassPart);for(var t=arguments.length,e=new Array(t),r=0;r<t;r++)e[r]=arguments[r];return n.call.apply(n,[this,{layer:_.FRONT,loc:"torso",reflect:!0,aboveParts:["parts neck","parts torso","decorativeParts torso","parts leg"]},{}].concat(e))}return armor_createClass(CuirassPart,[{key:"renderClothingPoints",value:function renderClothingPoints(t,e){ut.simpleStrokeFill(e,t,this);var r=calcTee.call(this,t),n=r.cleavageBot,o=r.cleavageTop,a=r.neck,i=r.shoulder,s=r.armpit,c=r.waist,l=r.hip,u=r.out,p=r.bottom,o=adjust(o,0,.5),i=adjust(i,-1,.5);s.cp1={x:i.x-5,y:.5*(i.y-s.y)+s.y},s.cp2=void 0,(p={y:u.y-6,x:-.2}).cp1={x:.5*p.x+.5*u.x,y:p.y},e.beginPath(),drawPoints(e,n,o,a,i,s,c,l,u,p),e.fill(),e.stroke()}}]),CuirassPart}(),ls=function(){armor_inherits(CuirassBreastPart,pt);var n=armor_createSuper(CuirassBreastPart);function CuirassBreastPart(){armor_classCallCheck(this,CuirassBreastPart);for(var t=arguments.length,e=new Array(t),r=0;r<t;r++)e[r]=arguments[r];return n.call.apply(n,[this,{layer:_.GENITALS,loc:"chest",reflect:!0,aboveParts:["parts chest","decorativeParts chest"]},{}].concat(e))}return armor_createClass(CuirassBreastPart,[{key:"renderClothingPoints",value:function renderClothingPoints(t,e){var r;ut.simpleStrokeFill(e,t,this),coverNipplesIfHaveNoBreasts(t,e,this)||(r=t.breast,e.beginPath(),drawPoints(e,r.top,r.tip,r.bot,r.in,r.cleavage,r.top),e.fill(),e.beginPath(),drawPoints(e,r.top,r.tip,r.bot),e.stroke(),e.strokeStyle=e.fillStyle,e.beginPath(),drawPoints(e,r.bot,r.in,r.cleavage,r.top),e.stroke())}}]),CuirassBreastPart}(),us=function(){armor_inherits(GreavePart,pt);var n=armor_createSuper(GreavePart);function GreavePart(){armor_classCallCheck(this,GreavePart);for(var t=arguments.length,e=new Array(t),r=0;r<t;r++)e[r]=arguments[r];return n.call.apply(n,[this,{layer:_.FRONT,loc:"feet",aboveParts:["parts feet","parts leg"],reflect:!1},{}].concat(e))}return armor_createClass(GreavePart,[{key:"renderClothingPoints",value:function renderClothingPoints(t,e){ut.simpleStrokeFill(e,t,this);var r=[];void 0!==t.quads&&(r[0]=clone(t.quads.top),r[0].x=t.thigh.out.x,r[1]=clone(t.quads.out));var n=getLimbPointsNegative.apply(void 0,[t.hip,t.ankle.out,this.legCoverage,t.hip,t.thigh.out].concat(r,[t.knee.out,t.calf.out,t.ankle.out])),o=getLimbPointsBellowPoint(n[0],!0,t.groin,t.thigh.in,t.knee.intop,t.knee.in,t.calf.in,t.ankle.in);n[1]&&(n[1]=extractPoint(n[1])),n[0]=extractPoint(n[0]),n[0].cp1={x:findBetween(o[o.length-1].x,n[0].x,.5),y:n[0].y+16},o[0]=extractPoint(o[0]),o[0].cp1={x:findBetween(n[n.length-1].x,o[0].x,.5),y:o[0].y+6},e.beginPath(),drawPoints.apply(void 0,[e].concat(armor_toConsumableArray(n),armor_toConsumableArray(o),[n[0]])),e.fill(),e.stroke()}}]),GreavePart}(),ps=function(){armor_inherits(VambracePart,pt);var n=armor_createSuper(VambracePart);function VambracePart(){armor_classCallCheck(this,VambracePart);for(var t=arguments.length,e=new Array(t),r=0;r<t;r++)e[r]=arguments[r];return n.call.apply(n,[this,{layer:_.ARMS,loc:"arm",aboveParts:["parts arm","decorativeParts arm","parts hand"]},{armCoverage:.5}].concat(e))}return armor_createClass(VambracePart,[{key:"renderClothingPoints",value:function renderClothingPoints(t,e){ut.simpleStrokeFill(e,t,this);var r=calcGlove.call(this,t),n=r.outerArmPoints,o=r.innerArmPoints;e.beginPath(),drawPoints.apply(void 0,[e].concat(armor_toConsumableArray(n),[extractPoint(t.wrist.out),t.wrist.in],armor_toConsumableArray(o),[extractPoint(n[0])])),e.fill(),e.stroke()}}]),VambracePart}(),fs=function(){armor_inherits(Armor,lt);var n=armor_createSuper(Armor);function Armor(){armor_classCallCheck(this,Armor);for(var t=arguments.length,e=new Array(t),r=0;r<t;r++)e[r]=arguments[r];return n.call.apply(n,[this,{clothingLayer:ut.Layer.OUTER}].concat(e))}return armor_createClass(Armor,[{key:"stroke",value:function stroke(){return"#252539"}},{key:"fill",value:function fill(){return"#8b8e91"}}]),Armor}(),ys=function(){armor_inherits(Cuirass,fs);var n=armor_createSuper(Cuirass);function Cuirass(){armor_classCallCheck(this,Cuirass);for(var t=arguments.length,e=new Array(t),r=0;r<t;r++)e[r]=arguments[r];return n.call.apply(n,[this,{cleavageOpeness:.055,cleavageCoverage:.1,sideLoose:.3,waistCoverage:.5,curveCleavageX:1,curveCleavageY:-4,legCoverage:1}].concat(e))}return armor_createClass(Cuirass,[{key:"partPrototypes",get:function get(){return[{side:null,Part:ls},{side:null,Part:cs}]}}]),Cuirass}(),hs=function(){armor_inherits(Greaves,fs);var n=armor_createSuper(Greaves);function Greaves(){armor_classCallCheck(this,Greaves);for(var t=arguments.length,e=new Array(t),r=0;r<t;r++)e[r]=arguments[r];return n.call.apply(n,[this,{legCoverage:.54}].concat(e))}return armor_createClass(Greaves,[{key:"partPrototypes",get:function get(){return[{side:A.LEFT,Part:us},{side:A.RIGHT,Part:us}]}}]),Greaves}(),ds=function(){armor_inherits(Vambraces,fs);var n=armor_createSuper(Vambraces);function Vambraces(){armor_classCallCheck(this,Vambraces);for(var t=arguments.length,e=new Array(t),r=0;r<t;r++)e[r]=arguments[r];return n.call.apply(n,[this,{armCoverage:.6}].concat(e))}return armor_createClass(Vambraces,[{key:"partPrototypes",get:function get(){return[{side:A.LEFT,Part:ps},{side:A.RIGHT,Part:ps}]}}]),Vambraces}();function nails_typeof(t){return(nails_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function _typeof(t){return typeof t}:function _typeof(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function nails_classCallCheck(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function nails_defineProperties(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function nails_createClass(t,e,r){return e&&nails_defineProperties(t.prototype,e),r&&nails_defineProperties(t,r),t}function nails_inherits(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&nails_setPrototypeOf(t,e)}function nails_setPrototypeOf(t,e){return(nails_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(t,e){return t.__proto__=e,t})(t,e)}function nails_createSuper(r){var n=function nails_isNativeReflectConstruct(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(t){return!1}}();return function _createSuperInternal(){var t,e=nails_getPrototypeOf(r);return function nails_possibleConstructorReturn(t,e){return!e||"object"!==nails_typeof(e)&&"function"!=typeof e?function nails_assertThisInitialized(t){if(void 0!==t)return t;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}(t):e}(this,n?(t=nails_getPrototypeOf(this).constructor,Reflect.construct(e,arguments,t)):e.apply(this,arguments))}}function nails_getPrototypeOf(t){return(nails_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var gs=function(){nails_inherits(ThumbPart,pt);var n=nails_createSuper(ThumbPart);function ThumbPart(){nails_classCallCheck(this,ThumbPart);for(var t=arguments.length,e=new Array(t),r=0;r<t;r++)e[r]=arguments[r];return n.call.apply(n,[this,{layer:_.ARMS,loc:"+hand",aboveParts:["parts arm","decorativeParts arm","parts hand"]},{}].concat(e))}return nails_createClass(ThumbPart,[{key:"renderClothingPoints",value:function renderClothingPoints(t,e){ut.simpleStrokeFill(e,t,this);var r=t.thumb.tip,n=t.thumb.out,o=splitCurve(-.08,r,n),a=extractPoint(o.left.p2),i=extractPoint((o=splitCurve(.15,r,n)).left.p2);i.x+=.2,a.cp1=perpendicularPoint(i,a,.7,.8),i.cp1=perpendicularPoint(i,a,.7,-1),e.beginPath(),drawPoints(e,i,a,i),e.fill()}}]),ThumbPart}(),Ps=function(){nails_inherits(FingerPart,pt);var n=nails_createSuper(FingerPart);function FingerPart(){nails_classCallCheck(this,FingerPart);for(var t=arguments.length,e=new Array(t),r=0;r<t;r++)e[r]=arguments[r];return n.call.apply(n,[this,{layer:_.ARMS,loc:"+hand",aboveParts:["parts arm","decorativeParts arm","parts hand"]},{}].concat(e))}return nails_createClass(FingerPart,[{key:"renderClothingPoints",value:function renderClothingPoints(t,e){ut.simpleStrokeFill(e,t,this);var r=t.hand.tip,n=t.hand.knuckle,o=splitCurve(-.08,r,n),a=extractPoint(o.left.p2),i=extractPoint((o=splitCurve(.15,r,n)).left.p2);i.x-=.2,a.x-=.6,a.cp1=perpendicularPoint(i,a,.7,.8),i.cp1=perpendicularPoint(i,a,.7,-1),e.beginPath(),drawPoints(e,i,a,i),e.fill()}}]),FingerPart}(),vs=function(){nails_inherits(BodyMakeup,lt);var n=nails_createSuper(BodyMakeup);function BodyMakeup(){nails_classCallCheck(this,BodyMakeup);for(var t=arguments.length,e=new Array(t),r=0;r<t;r++)e[r]=arguments[r];return n.call.apply(n,[this,{clothingLayer:ut.Layer.BASE}].concat(e))}return nails_createClass(BodyMakeup,[{key:"fill",value:function fill(){return"hsla(0, 0%, 28%, 1)"}}]),BodyMakeup}(),bs=function(){nails_inherits(Nails,vs);var n=nails_createSuper(Nails);function Nails(){nails_classCallCheck(this,Nails);for(var t=arguments.length,e=new Array(t),r=0;r<t;r++)e[r]=arguments[r];return n.call.apply(n,[this,{clothingLayer:ut.Layer.BASE}].concat(e))}return nails_createClass(Nails,[{key:"fill",value:function fill(){return"#b91100"}},{key:"partPrototypes",get:function get(){return[{side:A.LEFT,Part:Ps},{side:A.LEFT,Part:gs},{side:A.RIGHT,Part:Ps},{side:A.RIGHT,Part:gs}]}}]),Nails}();ct.human.maleParts=[{partGroup:"parts",side:null,part:ir},{partGroup:"parts",side:null,part:rr},{partGroup:"decorativeParts",side:null,part:or}],ct.human.femaleParts=[{partGroup:"parts",side:null,part:fr}],ct.human.defaultParts=[{side:null,part:Qe},{side:null,part:tr},{side:A.LEFT,part:xe},{side:A.RIGHT,part:xe},{side:A.LEFT,part:Ge},{side:A.RIGHT,part:Ge},{side:null,part:ur},{side:A.LEFT,part:Ye},{side:A.RIGHT,part:Ye},{side:A.LEFT,part:Fe},{side:A.RIGHT,part:Fe},{side:null,part:Ne},{side:null,part:Ae},{side:null,part:Ee},{side:null,part:Le}],ct.human.defaultFaceParts=[{side:A.LEFT,part:Wt},{side:A.RIGHT,part:Wt},{side:null,part:ie},{side:null,part:ee},{side:null,part:ne},{side:A.LEFT,part:Yt},{side:A.RIGHT,part:Yt},{side:A.LEFT,part:Kt},{side:A.RIGHT,part:Kt},{side:A.LEFT,part:ce},{side:A.RIGHT,part:ce},{side:A.LEFT,part:Jt},{side:A.RIGHT,part:Jt},{side:A.LEFT,part:Vt},{side:A.RIGHT,part:Vt},{side:A.LEFT,part:zt},{side:A.RIGHT,part:zt}],ct.human.defaultDecorativeParts=[{side:null,part:Et},{side:A.LEFT,part:Lt},{side:A.RIGHT,part:Lt},{side:null,part:It},{side:null,part:Ft},{side:null,part:Ht},{side:A.LEFT,part:Mt},{side:A.RIGHT,part:Mt}];var _s="1.31.9";console.log("da.__version__ = "+_s)}],d={},__webpack_require__.m=c,__webpack_require__.c=d,__webpack_require__.d=function(t,e,r){__webpack_require__.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:r})},__webpack_require__.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},__webpack_require__.t=function(e,t){if(1&t&&(e=__webpack_require__(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(__webpack_require__.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var n in e)__webpack_require__.d(r,n,function(t){return e[t]}.bind(null,n));return r},__webpack_require__.n=function(t){var e=t&&t.__esModule?function getDefault(){return t.default}:function getModuleExports(){return t};return __webpack_require__.d(e,"a",e),e},__webpack_require__.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},__webpack_require__.p="/",__webpack_require__(__webpack_require__.s=92);function __webpack_require__(t){if(d[t])return d[t].exports;var e=d[t]={i:t,l:!1,exports:{}};return c[t].call(e.exports,e,e.exports,__webpack_require__),e.l=!0,e.exports}var c,d});